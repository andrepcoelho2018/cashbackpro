(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var wd={exports:{}},Ai={},jd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Lf=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),Gf=Symbol.for("react.lazy"),Ho=Symbol.iterator;function Kf(e){return e===null||typeof e!="object"?null:(e=Ho&&e[Ho]||e["@@iterator"],typeof e=="function"?e:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,_d={};function an(e,t,r){this.props=e,this.context=t,this.refs=_d,this.updater=r||bd}an.prototype.isReactComponent={};an.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};an.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kd(){}kd.prototype=an.prototype;function Ll(e,t,r){this.props=e,this.context=t,this.refs=_d,this.updater=r||bd}var Fl=Ll.prototype=new kd;Fl.constructor=Ll;Nd(Fl,an.prototype);Fl.isPureReactComponent=!0;var Wo=Array.isArray,Sd=Object.prototype.hasOwnProperty,zl={current:null},Cd={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Sd.call(t,n)&&!Cd.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:os,type:e,key:a,ref:l,props:i,_owner:zl.current}}function Jf(e,t){return{$$typeof:os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ul(e){return typeof e=="object"&&e!==null&&e.$$typeof===os}function Qf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Go=/\/+/g;function ra(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qf(""+e.key):t.toString(36)}function Fs(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case os:case Lf:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+ra(l,0):n,Wo(i)?(r="",e!=null&&(r=e.replace(Go,"$&/")+"/"),Fs(i,t,r,"",function(d){return d})):i!=null&&(Ul(i)&&(i=Jf(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Go,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Wo(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+ra(a,o);l+=Fs(a,t,r,c,i)}else if(c=Kf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+ra(a,o++),l+=Fs(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function xs(e,t,r){if(e==null)return e;var n=[],i=0;return Fs(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Xf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},zs={transition:null},Yf={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:zs,ReactCurrentOwner:zl};function Pd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:xs,forEach:function(e,t,r){xs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!Ul(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=an;B.Fragment=Ff;B.Profiler=Uf;B.PureComponent=Ll;B.StrictMode=zf;B.Suspense=Hf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf;B.act=Pd;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nd({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=zl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Sd.call(t,c)&&!Cd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:os,type:e.type,key:i,ref:a,props:n,_owner:l}};B.createContext=function(e){return e={$$typeof:Vf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bf,_context:e},e.Consumer=e};B.createElement=Ed;B.createFactory=function(e){var t=Ed.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:qf,render:e}};B.isValidElement=Ul;B.lazy=function(e){return{$$typeof:Gf,_payload:{_status:-1,_result:e},_init:Xf}};B.memo=function(e,t){return{$$typeof:Wf,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};B.unstable_act=Pd;B.useCallback=function(e,t){return ke.current.useCallback(e,t)};B.useContext=function(e){return ke.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};B.useEffect=function(e,t){return ke.current.useEffect(e,t)};B.useId=function(){return ke.current.useId()};B.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return ke.current.useMemo(e,t)};B.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};B.useRef=function(e){return ke.current.useRef(e)};B.useState=function(e){return ke.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return ke.current.useTransition()};B.version="18.3.1";jd.exports=B;var R=jd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=R,em=Symbol.for("react.element"),tm=Symbol.for("react.fragment"),rm=Object.prototype.hasOwnProperty,nm=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sm={key:!0,ref:!0,__self:!0,__source:!0};function Td(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)rm.call(t,n)&&!sm.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:em,type:e,key:a,ref:l,props:i,_owner:nm.current}}Ai.Fragment=tm;Ai.jsx=Td;Ai.jsxs=Td;wd.exports=Ai;var s=wd.exports,Rd={exports:{}},Fe={},Ad={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var F=A.length;A.push(L);e:for(;0<F;){var Q=F-1>>>1,ne=A[Q];if(0<i(ne,L))A[Q]=L,A[F]=ne,F=Q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var L=A[0],F=A.pop();if(F!==L){A[0]=F;e:for(var Q=0,ne=A.length,Pt=ne>>>1;Q<Pt;){var Ye=2*(Q+1)-1,rr=A[Ye],T=Ye+1,q=A[T];if(0>i(rr,F))T<ne&&0>i(q,rr)?(A[Q]=q,A[T]=F,Q=T):(A[Q]=rr,A[Ye]=F,Q=Ye);else if(T<ne&&0>i(q,F))A[Q]=q,A[T]=F,Q=T;else break e}}return L}function i(A,L){var F=A.sortIndex-L.sortIndex;return F!==0?F:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,g=!1,p=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var L=r(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=A)n(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function v(A){if(b=!1,x(A),!p)if(r(c)!==null)p=!0,Xe(N);else{var L=r(d);L!==null&&Et(v,L.startTime-A)}}function N(A,L){p=!1,b&&(b=!1,y(j),j=-1),g=!0;var F=h;try{for(x(L),m=r(c);m!==null&&(!(m.expirationTime>L)||A&&!H());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,h=m.priorityLevel;var ne=Q(m.expirationTime<=L);L=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===r(c)&&n(c),x(L)}else n(c);m=r(c)}if(m!==null)var Pt=!0;else{var Ye=r(d);Ye!==null&&Et(v,Ye.startTime-L),Pt=!1}return Pt}finally{m=null,h=F,g=!1}}var w=!1,S=null,j=-1,D=5,O=-1;function H(){return!(e.unstable_now()-O<D)}function ce(){if(S!==null){var A=e.unstable_now();O=A;var L=!0;try{L=S(!0,A)}finally{L?P():(w=!1,S=null)}}else w=!1}var P;if(typeof f=="function")P=function(){f(ce)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,be=G.port2;G.port1.onmessage=ce,P=function(){be.postMessage(null)}}else P=function(){k(ce,0)};function Xe(A){S=A,w||(w=!0,P())}function Et(A,L){j=k(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,Xe(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var F=h;h=L;try{return A()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=h;h=A;try{return L()}finally{h=F}},e.unstable_scheduleCallback=function(A,L,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=F+ne,A={id:u++,callback:L,priorityLevel:A,startTime:F,expirationTime:ne,sortIndex:-1},F>Q?(A.sortIndex=F,t(d,A),r(c)===null&&A===r(d)&&(b?(y(j),j=-1):b=!0,Et(v,F-Q))):(A.sortIndex=ne,t(c,A),p||g||(p=!0,Xe(N))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var L=h;return function(){var F=h;h=L;try{return A.apply(this,arguments)}finally{h=F}}}})($d);Ad.exports=$d;var im=Ad.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=R,De=im;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Od=new Set,qn={};function br(e,t){Xr(e,t),Xr(e+"Capture",t)}function Xr(e,t){for(qn[e]=t,e=0;e<t.length;e++)Od.add(t[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,lm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ko={},Jo={};function om(e){return Ma.call(Jo,e)?!0:Ma.call(Ko,e)?!1:lm.test(e)?Jo[e]=!0:(Ko[e]=!0,!1)}function cm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dm(e,t,r,n){if(t===null||typeof t>"u"||cm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bl=/[\-:]([a-z])/g;function Vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bl,Vl);pe[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bl,Vl);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bl,Vl);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function ql(e,t,r,n){var i=pe.hasOwnProperty(t)?pe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dm(t,r,i,n)&&(r=null),n||i===null?om(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ct=am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),Hl=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Md=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),La=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Gl=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Dd=Symbol.for("react.offscreen"),Qo=Symbol.iterator;function fn(e){return e===null||typeof e!="object"?null:(e=Qo&&e[Qo]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,na;function _n(e){if(na===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||""}return`
`+na+e}var sa=!1;function ia(e,t){if(!e||sa)return"";sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{sa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_n(e):""}function um(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=ia(e.type,!1),e;case 11:return e=ia(e.type.render,!1),e;case 1:return e=ia(e.type,!0),e;default:return""}}function za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case Ar:return"Portal";case Da:return"Profiler";case Hl:return"StrictMode";case La:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Md:return(e.displayName||"Context")+".Consumer";case Id:return(e._context.displayName||"Context")+".Provider";case Wl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gl:return t=e.displayName||null,t!==null?t:za(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return za(e(t))}catch{}}return null}function hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return za(t);case 8:return t===Hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fm(e){var t=Ld(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=fm(e))}function Fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ld(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ua(e,t){var r=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zd(e,t){t=t.checked,t!=null&&ql(e,"checked",t,!1)}function Ba(e,t){zd(e,t);var r=Qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Va(e,t.type,r):t.hasOwnProperty("defaultValue")&&Va(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Va(e,t,r){(t!=="number"||Zs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function qr(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(kn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qt(r)}}function Ud(e,t){var r=Qt(t.value),n=Qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mm=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(e){mm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tn[t]=Tn[e]})});function qd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tn.hasOwnProperty(e)&&Tn[e]?(""+t).trim():t+"px"}function Hd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=qd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var pm=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(e,t){if(t){if(pm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Hr=null,Wr=null;function tc(e){if(e=us(e)){if(typeof Ja!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Di(t),Ja(e.stateNode,e.type,t))}}function Wd(e){Hr?Wr?Wr.push(e):Wr=[e]:Hr=e}function Gd(){if(Hr){var e=Hr,t=Wr;if(Wr=Hr=null,tc(e),t)for(e=0;e<t.length;e++)tc(t[e])}}function Kd(e,t){return e(t)}function Jd(){}var aa=!1;function Qd(e,t,r){if(aa)return e(t,r);aa=!0;try{return Kd(e,t,r)}finally{aa=!1,(Hr!==null||Wr!==null)&&(Jd(),Gd())}}function Wn(e,t){var r=e.stateNode;if(r===null)return null;var n=Di(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Qa=!1;if(Nt)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Qa=!1}function gm(e,t,r,n,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Rn=!1,ei=null,ti=!1,Xa=null,xm={onError:function(e){Rn=!0,ei=e}};function ym(e,t,r,n,i,a,l,o,c){Rn=!1,ei=null,gm.apply(xm,arguments)}function vm(e,t,r,n,i,a,l,o,c){if(ym.apply(this,arguments),Rn){if(Rn){var d=ei;Rn=!1,ei=null}else throw Error(E(198));ti||(ti=!0,Xa=d)}}function Nr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if(Nr(e)!==e)throw Error(E(188))}function wm(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return rc(i),e;if(a===n)return rc(i),t;a=a.sibling}throw Error(E(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Yd(e){return e=wm(e),e!==null?Zd(e):null}function Zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zd(e);if(t!==null)return t;e=e.sibling}return null}var eu=De.unstable_scheduleCallback,nc=De.unstable_cancelCallback,jm=De.unstable_shouldYield,bm=De.unstable_requestPaint,ie=De.unstable_now,Nm=De.unstable_getCurrentPriorityLevel,Jl=De.unstable_ImmediatePriority,tu=De.unstable_UserBlockingPriority,ri=De.unstable_NormalPriority,_m=De.unstable_LowPriority,ru=De.unstable_IdlePriority,$i=null,ht=null;function km(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Em,Sm=Math.log,Cm=Math.LN2;function Em(e){return e>>>=0,e===0?32:31-(Sm(e)/Cm|0)|0}var js=64,bs=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?n=Sn(o):(a&=l,a!==0&&(n=Sn(a)))}else l=r&~i,l!==0?n=Sn(l):a!==0&&(n=Sn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-it(t),i=1<<r,n|=e[r],t&=~i;return n}function Pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-it(a),o=1<<l,c=i[l];c===-1?(!(o&r)||o&n)&&(i[l]=Pm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nu(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function la(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=r}function Rm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-it(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Ql(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var W=0;function su(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iu,Xl,au,lu,ou,Za=!1,Ns=[],Bt=null,Vt=null,qt=null,Gn=new Map,Kn=new Map,Dt=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function pn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=us(t),t!==null&&Xl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $m(e,t,r,n,i){switch(t){case"focusin":return Bt=pn(Bt,e,t,r,n,i),!0;case"dragenter":return Vt=pn(Vt,e,t,r,n,i),!0;case"mouseover":return qt=pn(qt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Gn.set(a,pn(Gn.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Kn.set(a,pn(Kn.get(a)||null,e,t,r,n,i)),!0}return!1}function cu(e){var t=dr(e.target);if(t!==null){var r=Nr(t);if(r!==null){if(t=r.tag,t===13){if(t=Xd(r),t!==null){e.blockedOn=t,ou(e.priority,function(){au(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ka=n,r.target.dispatchEvent(n),Ka=null}else return t=us(r),t!==null&&Xl(t),e.blockedOn=r,!1;t.shift()}return!0}function ic(e,t,r){Us(e)&&r.delete(t)}function Om(){Za=!1,Bt!==null&&Us(Bt)&&(Bt=null),Vt!==null&&Us(Vt)&&(Vt=null),qt!==null&&Us(qt)&&(qt=null),Gn.forEach(ic),Kn.forEach(ic)}function gn(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Om)))}function Jn(e){function t(i){return gn(i,e)}if(0<Ns.length){gn(Ns[0],e);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&gn(Bt,e),Vt!==null&&gn(Vt,e),qt!==null&&gn(qt,e),Gn.forEach(t),Kn.forEach(t),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)cu(r),r.blockedOn===null&&Dt.shift()}var Gr=Ct.ReactCurrentBatchConfig,si=!0;function Im(e,t,r,n){var i=W,a=Gr.transition;Gr.transition=null;try{W=1,Yl(e,t,r,n)}finally{W=i,Gr.transition=a}}function Mm(e,t,r,n){var i=W,a=Gr.transition;Gr.transition=null;try{W=4,Yl(e,t,r,n)}finally{W=i,Gr.transition=a}}function Yl(e,t,r,n){if(si){var i=el(e,t,r,n);if(i===null)xa(e,t,n,ii,r),sc(e,n);else if($m(i,e,t,r,n))n.stopPropagation();else if(sc(e,n),t&4&&-1<Am.indexOf(e)){for(;i!==null;){var a=us(i);if(a!==null&&iu(a),a=el(e,t,r,n),a===null&&xa(e,t,n,ii,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else xa(e,t,n,null,r)}}var ii=null;function el(e,t,r,n){if(ii=null,e=Kl(n),e=dr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Xd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function du(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case Jl:return 1;case tu:return 4;case ri:case _m:return 16;case ru:return 536870912;default:return 16}default:return 16}}var zt=null,Zl=null,Bs=null;function uu(){if(Bs)return Bs;var e,t=Zl,r=t.length,n,i="value"in zt?zt.value:zt.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return Bs=i.slice(e,1<n?1-n:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function ac(){return!1}function ze(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_s:ac,this.isPropagationStopped=ac,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=ze(ln),ds=re({},ln,{view:0,detail:0}),Dm=ze(ds),oa,ca,xn,Oi=re({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(oa=e.screenX-xn.screenX,ca=e.screenY-xn.screenY):ca=oa=0,xn=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),lc=ze(Oi),Lm=re({},Oi,{dataTransfer:0}),Fm=ze(Lm),zm=re({},ds,{relatedTarget:0}),da=ze(zm),Um=re({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=ze(Um),Vm=re({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qm=ze(Vm),Hm=re({},ln,{data:0}),oc=ze(Hm),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Km[e])?!!t[e]:!1}function to(){return Jm}var Qm=re({},ds,{key:function(e){if(e.key){var t=Wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xm=ze(Qm),Ym=re({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=ze(Ym),Zm=re({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),ep=ze(Zm),tp=re({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),rp=ze(tp),np=re({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=ze(np),ip=[9,13,27,32],ro=Nt&&"CompositionEvent"in window,An=null;Nt&&"documentMode"in document&&(An=document.documentMode);var ap=Nt&&"TextEvent"in window&&!An,hu=Nt&&(!ro||An&&8<An&&11>=An),dc=" ",uc=!1;function fu(e,t){switch(e){case"keyup":return ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function lp(e,t){switch(e){case"compositionend":return mu(t);case"keypress":return t.which!==32?null:(uc=!0,dc);case"textInput":return e=t.data,e===dc&&uc?null:e;default:return null}}function op(e,t){if(Or)return e==="compositionend"||!ro&&fu(e,t)?(e=uu(),Bs=Zl=zt=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hu&&t.locale!=="ko"?null:t.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cp[e.type]:t==="textarea"}function pu(e,t,r,n){Wd(n),t=ai(t,"onChange"),0<t.length&&(r=new eo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $n=null,Qn=null;function dp(e){Su(e,0)}function Ii(e){var t=Dr(e);if(Fd(t))return e}function up(e,t){if(e==="change")return t}var gu=!1;if(Nt){var ua;if(Nt){var ha="oninput"in document;if(!ha){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),ha=typeof fc.oninput=="function"}ua=ha}else ua=!1;gu=ua&&(!document.documentMode||9<document.documentMode)}function mc(){$n&&($n.detachEvent("onpropertychange",xu),Qn=$n=null)}function xu(e){if(e.propertyName==="value"&&Ii(Qn)){var t=[];pu(t,Qn,e,Kl(e)),Qd(dp,t)}}function hp(e,t,r){e==="focusin"?(mc(),$n=t,Qn=r,$n.attachEvent("onpropertychange",xu)):e==="focusout"&&mc()}function fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(Qn)}function mp(e,t){if(e==="click")return Ii(t)}function pp(e,t){if(e==="input"||e==="change")return Ii(t)}function gp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:gp;function Xn(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ma.call(t,i)||!lt(e[i],t[i]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var r=pc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pc(r)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vu(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zs(e.document)}return t}function no(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xp(e){var t=vu(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yu(r.ownerDocument.documentElement,r)){if(n!==null&&no(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=gc(r,a);var l=gc(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yp=Nt&&"documentMode"in document&&11>=document.documentMode,Ir=null,tl=null,On=null,rl=!1;function xc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rl||Ir==null||Ir!==Zs(n)||(n=Ir,"selectionStart"in n&&no(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),On&&Xn(On,n)||(On=n,n=ai(tl,"onSelect"),0<n.length&&(t=new eo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ir)))}function ks(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},fa={},wu={};Nt&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Mi(e){if(fa[e])return fa[e];if(!Mr[e])return e;var t=Mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wu)return fa[e]=t[r];return e}var ju=Mi("animationend"),bu=Mi("animationiteration"),Nu=Mi("animationstart"),_u=Mi("transitionend"),ku=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){ku.set(e,t),br(t,[e])}for(var ma=0;ma<yc.length;ma++){var pa=yc[ma],vp=pa.toLowerCase(),wp=pa[0].toUpperCase()+pa.slice(1);Yt(vp,"on"+wp)}Yt(ju,"onAnimationEnd");Yt(bu,"onAnimationIteration");Yt(Nu,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(_u,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cn));function vc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vm(n,t,void 0,e),e.currentTarget=null}function Su(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;vc(i,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;vc(i,o,d),a=c}}}if(ti)throw e=Xa,ti=!1,Xa=null,e}function X(e,t){var r=t[ll];r===void 0&&(r=t[ll]=new Set);var n=e+"__bubble";r.has(n)||(Cu(t,e,2,!1),r.add(n))}function ga(e,t,r){var n=0;t&&(n|=4),Cu(r,e,n,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[Ss]){e[Ss]=!0,Od.forEach(function(r){r!=="selectionchange"&&(jp.has(r)||ga(r,!1,e),ga(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,ga("selectionchange",!1,t))}}function Cu(e,t,r,n){switch(du(t)){case 1:var i=Im;break;case 4:i=Mm;break;default:i=Yl}r=i.bind(null,t,r,e),i=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function xa(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=dr(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}Qd(function(){var d=a,u=Kl(r),m=[];e:{var h=ku.get(e);if(h!==void 0){var g=eo,p=e;switch(e){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":g=Xm;break;case"focusin":p="focus",g=da;break;case"focusout":p="blur",g=da;break;case"beforeblur":case"afterblur":g=da;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ep;break;case ju:case bu:case Nu:g=Bm;break;case _u:g=rp;break;case"scroll":g=Dm;break;case"wheel":g=sp;break;case"copy":case"cut":case"paste":g=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cc}var b=(t&4)!==0,k=!b&&e==="scroll",y=b?h!==null?h+"Capture":null:h;b=[];for(var f=d,x;f!==null;){x=f;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,y!==null&&(v=Wn(f,y),v!=null&&b.push(Zn(f,v,x)))),k)break;f=f.return}0<b.length&&(h=new g(h,p,null,r,u),m.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Ka&&(p=r.relatedTarget||r.fromElement)&&(dr(p)||p[_t]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=r.relatedTarget||r.toElement,g=d,p=p?dr(p):null,p!==null&&(k=Nr(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=d),g!==p)){if(b=lc,v="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=cc,v="onPointerLeave",y="onPointerEnter",f="pointer"),k=g==null?h:Dr(g),x=p==null?h:Dr(p),h=new b(v,f+"leave",g,r,u),h.target=k,h.relatedTarget=x,v=null,dr(u)===d&&(b=new b(y,f+"enter",p,r,u),b.target=x,b.relatedTarget=k,v=b),k=v,g&&p)t:{for(b=g,y=p,f=0,x=b;x;x=Sr(x))f++;for(x=0,v=y;v;v=Sr(v))x++;for(;0<f-x;)b=Sr(b),f--;for(;0<x-f;)y=Sr(y),x--;for(;f--;){if(b===y||y!==null&&b===y.alternate)break t;b=Sr(b),y=Sr(y)}b=null}else b=null;g!==null&&wc(m,h,g,b,!1),p!==null&&k!==null&&wc(m,k,p,b,!0)}}e:{if(h=d?Dr(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=up;else if(hc(h))if(gu)N=pp;else{N=fp;var w=hp}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=mp);if(N&&(N=N(e,d))){pu(m,N,r,u);break e}w&&w(e,h,d),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Va(h,"number",h.value)}switch(w=d?Dr(d):window,e){case"focusin":(hc(w)||w.contentEditable==="true")&&(Ir=w,tl=d,On=null);break;case"focusout":On=tl=Ir=null;break;case"mousedown":rl=!0;break;case"contextmenu":case"mouseup":case"dragend":rl=!1,xc(m,r,u);break;case"selectionchange":if(yp)break;case"keydown":case"keyup":xc(m,r,u)}var S;if(ro)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Or?fu(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(hu&&r.locale!=="ko"&&(Or||j!=="onCompositionStart"?j==="onCompositionEnd"&&Or&&(S=uu()):(zt=u,Zl="value"in zt?zt.value:zt.textContent,Or=!0)),w=ai(d,j),0<w.length&&(j=new oc(j,e,null,r,u),m.push({event:j,listeners:w}),S?j.data=S:(S=mu(r),S!==null&&(j.data=S)))),(S=ap?lp(e,r):op(e,r))&&(d=ai(d,"onBeforeInput"),0<d.length&&(u=new oc("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=S))}Su(m,t)})}function Zn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ai(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wn(e,r),a!=null&&n.unshift(Zn(e,a,i)),a=Wn(e,t),a!=null&&n.push(Zn(e,a,i))),e=e.return}return n}function Sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wc(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=Wn(r,a),c!=null&&l.unshift(Zn(r,c,o))):i||(c=Wn(r,a),c!=null&&l.push(Zn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var bp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(bp,`
`).replace(Np,"")}function Cs(e,t,r){if(t=jc(t),jc(e)!==t&&r)throw Error(E(425))}function li(){}var nl=null,sl=null;function il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,bc=typeof Promise=="function"?Promise:void 0,kp=typeof queueMicrotask=="function"?queueMicrotask:typeof bc<"u"?function(e){return bc.resolve(null).then(e).catch(Sp)}:al;function Sp(e){setTimeout(function(){throw e})}function ya(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Jn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Jn(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var on=Math.random().toString(36).slice(2),ut="__reactFiber$"+on,es="__reactProps$"+on,_t="__reactContainer$"+on,ll="__reactEvents$"+on,Cp="__reactListeners$"+on,Ep="__reactHandles$"+on;function dr(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_t]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nc(e);e!==null;){if(r=e[ut])return r;e=Nc(e)}return t}e=r,r=e.parentNode}return null}function us(e){return e=e[ut]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Di(e){return e[es]||null}var ol=[],Lr=-1;function Zt(e){return{current:e}}function Y(e){0>Lr||(e.current=ol[Lr],ol[Lr]=null,Lr--)}function J(e,t){Lr++,ol[Lr]=e.current,e.current=t}var Xt={},je=Zt(Xt),Re=Zt(!1),pr=Xt;function Yr(e,t){var r=e.type.contextTypes;if(!r)return Xt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ae(e){return e=e.childContextTypes,e!=null}function oi(){Y(Re),Y(je)}function _c(e,t,r){if(je.current!==Xt)throw Error(E(168));J(je,t),J(Re,r)}function Eu(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(E(108,hm(e)||"Unknown",i));return re({},r,n)}function ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,pr=je.current,J(je,e),J(Re,Re.current),!0}function kc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Eu(e,t,pr),n.__reactInternalMemoizedMergedChildContext=e,Y(Re),Y(je),J(je,e)):Y(Re),J(Re,r)}var vt=null,Li=!1,va=!1;function Pu(e){vt===null?vt=[e]:vt.push(e)}function Pp(e){Li=!0,Pu(e)}function er(){if(!va&&vt!==null){va=!0;var e=0,t=W;try{var r=vt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Li=!1}catch(i){throw vt!==null&&(vt=vt.slice(e+1)),eu(Jl,er),i}finally{W=t,va=!1}}return null}var Fr=[],zr=0,di=null,ui=0,Ue=[],Be=0,gr=null,wt=1,jt="";function ar(e,t){Fr[zr++]=ui,Fr[zr++]=di,di=e,ui=t}function Tu(e,t,r){Ue[Be++]=wt,Ue[Be++]=jt,Ue[Be++]=gr,gr=e;var n=wt;e=jt;var i=32-it(n)-1;n&=~(1<<i),r+=1;var a=32-it(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,wt=1<<32-it(t)+i|r<<i|n,jt=a+e}else wt=1<<a|r<<i|n,jt=e}function so(e){e.return!==null&&(ar(e,1),Tu(e,1,0))}function io(e){for(;e===di;)di=Fr[--zr],Fr[zr]=null,ui=Fr[--zr],Fr[zr]=null;for(;e===gr;)gr=Ue[--Be],Ue[Be]=null,jt=Ue[--Be],Ue[Be]=null,wt=Ue[--Be],Ue[Be]=null}var Me=null,Ie=null,Z=!1,st=null;function Ru(e,t){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Ie=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:wt,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Me=e,Ie=null,!0):!1;default:return!1}}function cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dl(e){if(Z){var t=Ie;if(t){var r=t;if(!Sc(e,t)){if(cl(e))throw Error(E(418));t=Ht(r.nextSibling);var n=Me;t&&Sc(e,t)?Ru(n,r):(e.flags=e.flags&-4097|2,Z=!1,Me=e)}}else{if(cl(e))throw Error(E(418));e.flags=e.flags&-4097|2,Z=!1,Me=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Es(e){if(e!==Me)return!1;if(!Z)return Cc(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!il(e.type,e.memoizedProps)),t&&(t=Ie)){if(cl(e))throw Au(),Error(E(418));for(;t;)Ru(e,t),t=Ht(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ie=Ht(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Me?Ht(e.stateNode.nextSibling):null;return!0}function Au(){for(var e=Ie;e;)e=Ht(e.nextSibling)}function Zr(){Ie=Me=null,Z=!1}function ao(e){st===null?st=[e]:st.push(e)}var Tp=Ct.ReactCurrentBatchConfig;function yn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function $u(e){function t(y,f){if(e){var x=y.deletions;x===null?(y.deletions=[f],y.flags|=16):x.push(f)}}function r(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function n(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function i(y,f){return y=Jt(y,f),y.index=0,y.sibling=null,y}function a(y,f,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<f?(y.flags|=2,f):x):(y.flags|=2,f)):(y.flags|=1048576,f)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,f,x,v){return f===null||f.tag!==6?(f=Sa(x,y.mode,v),f.return=y,f):(f=i(f,x),f.return=y,f)}function c(y,f,x,v){var N=x.type;return N===$r?u(y,f,x.props.children,v,x.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ot&&Ec(N)===f.type)?(v=i(f,x.props),v.ref=yn(y,f,x),v.return=y,v):(v=Qs(x.type,x.key,x.props,null,y.mode,v),v.ref=yn(y,f,x),v.return=y,v)}function d(y,f,x,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Ca(x,y.mode,v),f.return=y,f):(f=i(f,x.children||[]),f.return=y,f)}function u(y,f,x,v,N){return f===null||f.tag!==7?(f=mr(x,y.mode,v,N),f.return=y,f):(f=i(f,x),f.return=y,f)}function m(y,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Sa(""+f,y.mode,x),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:return x=Qs(f.type,f.key,f.props,null,y.mode,x),x.ref=yn(y,null,f),x.return=y,x;case Ar:return f=Ca(f,y.mode,x),f.return=y,f;case Ot:var v=f._init;return m(y,v(f._payload),x)}if(kn(f)||fn(f))return f=mr(f,y.mode,x,null),f.return=y,f;Ps(y,f)}return null}function h(y,f,x,v){var N=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:o(y,f,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ys:return x.key===N?c(y,f,x,v):null;case Ar:return x.key===N?d(y,f,x,v):null;case Ot:return N=x._init,h(y,f,N(x._payload),v)}if(kn(x)||fn(x))return N!==null?null:u(y,f,x,v,null);Ps(y,x)}return null}function g(y,f,x,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(x)||null,o(f,y,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return y=y.get(v.key===null?x:v.key)||null,c(f,y,v,N);case Ar:return y=y.get(v.key===null?x:v.key)||null,d(f,y,v,N);case Ot:var w=v._init;return g(y,f,x,w(v._payload),N)}if(kn(v)||fn(v))return y=y.get(x)||null,u(f,y,v,N,null);Ps(f,v)}return null}function p(y,f,x,v){for(var N=null,w=null,S=f,j=f=0,D=null;S!==null&&j<x.length;j++){S.index>j?(D=S,S=null):D=S.sibling;var O=h(y,S,x[j],v);if(O===null){S===null&&(S=D);break}e&&S&&O.alternate===null&&t(y,S),f=a(O,f,j),w===null?N=O:w.sibling=O,w=O,S=D}if(j===x.length)return r(y,S),Z&&ar(y,j),N;if(S===null){for(;j<x.length;j++)S=m(y,x[j],v),S!==null&&(f=a(S,f,j),w===null?N=S:w.sibling=S,w=S);return Z&&ar(y,j),N}for(S=n(y,S);j<x.length;j++)D=g(S,y,j,x[j],v),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?j:D.key),f=a(D,f,j),w===null?N=D:w.sibling=D,w=D);return e&&S.forEach(function(H){return t(y,H)}),Z&&ar(y,j),N}function b(y,f,x,v){var N=fn(x);if(typeof N!="function")throw Error(E(150));if(x=N.call(x),x==null)throw Error(E(151));for(var w=N=null,S=f,j=f=0,D=null,O=x.next();S!==null&&!O.done;j++,O=x.next()){S.index>j?(D=S,S=null):D=S.sibling;var H=h(y,S,O.value,v);if(H===null){S===null&&(S=D);break}e&&S&&H.alternate===null&&t(y,S),f=a(H,f,j),w===null?N=H:w.sibling=H,w=H,S=D}if(O.done)return r(y,S),Z&&ar(y,j),N;if(S===null){for(;!O.done;j++,O=x.next())O=m(y,O.value,v),O!==null&&(f=a(O,f,j),w===null?N=O:w.sibling=O,w=O);return Z&&ar(y,j),N}for(S=n(y,S);!O.done;j++,O=x.next())O=g(S,y,j,O.value,v),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),f=a(O,f,j),w===null?N=O:w.sibling=O,w=O);return e&&S.forEach(function(ce){return t(y,ce)}),Z&&ar(y,j),N}function k(y,f,x,v){if(typeof x=="object"&&x!==null&&x.type===$r&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ys:e:{for(var N=x.key,w=f;w!==null;){if(w.key===N){if(N=x.type,N===$r){if(w.tag===7){r(y,w.sibling),f=i(w,x.props.children),f.return=y,y=f;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ot&&Ec(N)===w.type){r(y,w.sibling),f=i(w,x.props),f.ref=yn(y,w,x),f.return=y,y=f;break e}r(y,w);break}else t(y,w);w=w.sibling}x.type===$r?(f=mr(x.props.children,y.mode,v,x.key),f.return=y,y=f):(v=Qs(x.type,x.key,x.props,null,y.mode,v),v.ref=yn(y,f,x),v.return=y,y=v)}return l(y);case Ar:e:{for(w=x.key;f!==null;){if(f.key===w)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(y,f.sibling),f=i(f,x.children||[]),f.return=y,y=f;break e}else{r(y,f);break}else t(y,f);f=f.sibling}f=Ca(x,y.mode,v),f.return=y,y=f}return l(y);case Ot:return w=x._init,k(y,f,w(x._payload),v)}if(kn(x))return p(y,f,x,v);if(fn(x))return b(y,f,x,v);Ps(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(y,f.sibling),f=i(f,x),f.return=y,y=f):(r(y,f),f=Sa(x,y.mode,v),f.return=y,y=f),l(y)):r(y,f)}return k}var en=$u(!0),Ou=$u(!1),hi=Zt(null),fi=null,Ur=null,lo=null;function oo(){lo=Ur=fi=null}function co(e){var t=hi.current;Y(hi),e._currentValue=t}function ul(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kr(e,t){fi=e,lo=Ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(lo!==e)if(e={context:e,memoizedValue:t,next:null},Ur===null){if(fi===null)throw Error(E(308));Ur=e,fi.dependencies={lanes:0,firstContext:e}}else Ur=Ur.next=e;return t}var ur=null;function uo(e){ur===null?ur=[e]:ur.push(e)}function Iu(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,uo(t)):(r.next=i.next,i.next=r),t.interleaved=r,kt(e,n)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var It=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,kt(e,r)}return i=n.interleaved,i===null?(t.next=t,uo(n)):(t.next=i.next,i.next=t),n.interleaved=t,kt(e,r)}function qs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ql(e,r)}}function Pc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function mi(e,t,r,n){var i=e.updateQueue;It=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;l=0,u=d=c=null,o=a;do{var h=o.lane,g=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,b=o;switch(h=t,g=r,b.tag){case 1:if(p=b.payload,typeof p=="function"){m=p.call(g,m,h);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(g,m,h):p,h==null)break e;m=re({},m,h);break e;case 2:It=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=g,c=m):u=u.next=g,l|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);yr|=l,e.lanes=l,e.memoizedState=m}}function Tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(E(191,i));i.call(n)}}}var hs={},ft=Zt(hs),ts=Zt(hs),rs=Zt(hs);function hr(e){if(e===hs)throw Error(E(174));return e}function fo(e,t){switch(J(rs,t),J(ts,e),J(ft,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ha(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ha(t,e)}Y(ft),J(ft,t)}function tn(){Y(ft),Y(ts),Y(rs)}function Du(e){hr(rs.current);var t=hr(ft.current),r=Ha(t,e.type);t!==r&&(J(ts,e),J(ft,r))}function mo(e){ts.current===e&&(Y(ft),Y(ts))}var ee=Zt(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=[];function po(){for(var e=0;e<wa.length;e++)wa[e]._workInProgressVersionPrimary=null;wa.length=0}var Hs=Ct.ReactCurrentDispatcher,ja=Ct.ReactCurrentBatchConfig,xr=0,te=null,le=null,ue=null,gi=!1,In=!1,ns=0,Rp=0;function xe(){throw Error(E(321))}function go(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lt(e[r],t[r]))return!1;return!0}function xo(e,t,r,n,i,a){if(xr=a,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?Ip:Mp,e=r(n,i),In){a=0;do{if(In=!1,ns=0,25<=a)throw Error(E(301));a+=1,ue=le=null,t.updateQueue=null,Hs.current=Dp,e=r(n,i)}while(In)}if(Hs.current=xi,t=le!==null&&le.next!==null,xr=0,ue=le=te=null,gi=!1,t)throw Error(E(300));return e}function yo(){var e=ns!==0;return ns=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?te.memoizedState=ue=e:ue=ue.next=e,ue}function Qe(){if(le===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ue===null?te.memoizedState:ue.next;if(t!==null)ue=t,le=e;else{if(e===null)throw Error(E(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ue===null?te.memoizedState=ue=e:ue=ue.next=e}return ue}function ss(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=le,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((xr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,te.lanes|=u,yr|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,lt(n,t.memoizedState)||(Te=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,te.lanes|=a,yr|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Na(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);lt(a,t.memoizedState)||(Te=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Lu(){}function Fu(e,t){var r=te,n=Qe(),i=t(),a=!lt(n.memoizedState,i);if(a&&(n.memoizedState=i,Te=!0),n=n.queue,vo(Bu.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,is(9,Uu.bind(null,r,n,i,t),void 0,null),he===null)throw Error(E(349));xr&30||zu(r,t,i)}return i}function zu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uu(e,t,r,n){t.value=r,t.getSnapshot=n,Vu(t)&&qu(e)}function Bu(e,t,r){return r(function(){Vu(t)&&qu(e)})}function Vu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lt(e,r)}catch{return!0}}function qu(e){var t=kt(e,1);t!==null&&at(t,e,1,-1)}function Rc(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=Op.bind(null,te,e),[t.memoizedState,e]}function is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hu(){return Qe().memoizedState}function Ws(e,t,r,n){var i=dt();te.flags|=e,i.memoizedState=is(1|t,r,void 0,n===void 0?null:n)}function Fi(e,t,r,n){var i=Qe();n=n===void 0?null:n;var a=void 0;if(le!==null){var l=le.memoizedState;if(a=l.destroy,n!==null&&go(n,l.deps)){i.memoizedState=is(t,r,a,n);return}}te.flags|=e,i.memoizedState=is(1|t,r,a,n)}function Ac(e,t){return Ws(8390656,8,e,t)}function vo(e,t){return Fi(2048,8,e,t)}function Wu(e,t){return Fi(4,2,e,t)}function Gu(e,t){return Fi(4,4,e,t)}function Ku(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,r){return r=r!=null?r.concat([e]):null,Fi(4,4,Ku.bind(null,t,e),r)}function wo(){}function Qu(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&go(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Xu(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&go(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yu(e,t,r){return xr&21?(lt(r,t)||(r=nu(),te.lanes|=r,yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=r)}function Ap(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=ja.transition;ja.transition={};try{e(!1),t()}finally{W=r,ja.transition=n}}function Zu(){return Qe().memoizedState}function $p(e,t,r){var n=Kt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eh(e))th(t,r);else if(r=Iu(e,t,r,n),r!==null){var i=_e();at(r,e,n,i),rh(r,t,n)}}function Op(e,t,r){var n=Kt(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eh(e))th(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(i.hasEagerState=!0,i.eagerState=o,lt(o,l)){var c=t.interleaved;c===null?(i.next=i,uo(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Iu(e,t,i,n),r!==null&&(i=_e(),at(r,e,n,i),rh(r,t,n))}}function eh(e){var t=e.alternate;return e===te||t!==null&&t===te}function th(e,t){In=gi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ql(e,r)}}var xi={readContext:Je,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},Ip={readContext:Je,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Ac,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ws(4194308,4,Ku.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var r=dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$p.bind(null,te,e),[n.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:Rc,useDebugValue:wo,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=Rc(!1),t=e[0];return e=Ap.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=te,i=dt();if(Z){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),he===null)throw Error(E(349));xr&30||zu(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ac(Bu.bind(null,n,a,e),[e]),n.flags|=2048,is(9,Uu.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=dt(),t=he.identifierPrefix;if(Z){var r=jt,n=wt;r=(n&~(1<<32-it(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Rp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mp={readContext:Je,useCallback:Qu,useContext:Je,useEffect:vo,useImperativeHandle:Ju,useInsertionEffect:Wu,useLayoutEffect:Gu,useMemo:Xu,useReducer:ba,useRef:Hu,useState:function(){return ba(ss)},useDebugValue:wo,useDeferredValue:function(e){var t=Qe();return Yu(t,le.memoizedState,e)},useTransition:function(){var e=ba(ss)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Lu,useSyncExternalStore:Fu,useId:Zu,unstable_isNewReconciler:!1},Dp={readContext:Je,useCallback:Qu,useContext:Je,useEffect:vo,useImperativeHandle:Ju,useInsertionEffect:Wu,useLayoutEffect:Gu,useMemo:Xu,useReducer:Na,useRef:Hu,useState:function(){return Na(ss)},useDebugValue:wo,useDeferredValue:function(e){var t=Qe();return le===null?t.memoizedState=e:Yu(t,le.memoizedState,e)},useTransition:function(){var e=Na(ss)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Lu,useSyncExternalStore:Fu,useId:Zu,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zi={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),i=Kt(e),a=bt(n,i);a.payload=t,r!=null&&(a.callback=r),t=Wt(e,a,i),t!==null&&(at(t,e,i,n),qs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),i=Kt(e),a=bt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Wt(e,a,i),t!==null&&(at(t,e,i,n),qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Kt(e),i=bt(r,n);i.tag=2,t!=null&&(i.callback=t),t=Wt(e,i,n),t!==null&&(at(t,e,n,r),qs(t,e,n))}};function $c(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Xn(r,n)||!Xn(i,a):!0}function nh(e,t,r){var n=!1,i=Xt,a=t.contextType;return typeof a=="object"&&a!==null?a=Je(a):(i=Ae(t)?pr:je.current,n=t.contextTypes,a=(n=n!=null)?Yr(e,i):Xt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function fl(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ho(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Je(a):(a=Ae(t)?pr:je.current,i.context=Yr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hl(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zi.enqueueReplaceState(i,i.state,null),mi(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var r="",n=t;do r+=um(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function _a(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ml(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Lp=typeof WeakMap=="function"?WeakMap:Map;function sh(e,t,r){r=bt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vi||(vi=!0,_l=n),ml(e,t)},r}function ih(e,t,r){r=bt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ml(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ml(e,t),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Ic(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Lp;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Yp.bind(null,e,t,r),t.then(e,e))}function Mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dc(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bt(-1,1),t.tag=2,Wt(r,t,1))),r.lanes|=1),e)}var Fp=Ct.ReactCurrentOwner,Te=!1;function Ne(e,t,r,n){t.child=e===null?Ou(t,null,r,n):en(t,e.child,r,n)}function Lc(e,t,r,n,i){r=r.render;var a=t.ref;return Kr(t,i),n=xo(e,t,r,n,a,i),r=yo(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,St(e,t,i)):(Z&&r&&so(t),t.flags|=1,Ne(e,t,n,i),t.child)}function Fc(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Eo(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ah(e,t,a,n,i)):(e=Qs(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Xn,r(l,n)&&e.ref===t.ref)return St(e,t,i)}return t.flags|=1,e=Jt(a,n),e.ref=t.ref,e.return=t,t.child=e}function ah(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Xn(a,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,St(e,t,i)}return pl(e,t,r,n,i)}function lh(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Vr,Oe),Oe|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Vr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,J(Vr,Oe),Oe|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,J(Vr,Oe),Oe|=n;return Ne(e,t,i,r),t.child}function oh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pl(e,t,r,n,i){var a=Ae(r)?pr:je.current;return a=Yr(t,a),Kr(t,i),r=xo(e,t,r,n,a,i),n=yo(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,St(e,t,i)):(Z&&n&&so(t),t.flags|=1,Ne(e,t,r,i),t.child)}function zc(e,t,r,n,i){if(Ae(r)){var a=!0;ci(t)}else a=!1;if(Kr(t,i),t.stateNode===null)Gs(e,t),nh(t,r,n),fl(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Je(d):(d=Ae(r)?pr:je.current,d=Yr(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Oc(t,l,n,d),It=!1;var h=t.memoizedState;l.state=h,mi(t,n,l,i),c=t.memoizedState,o!==n||h!==c||Re.current||It?(typeof u=="function"&&(hl(t,r,u,n),c=t.memoizedState),(o=It||$c(t,r,o,n,h,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Mu(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:tt(t.type,o),l.props=d,m=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=Ae(r)?pr:je.current,c=Yr(t,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||h!==c)&&Oc(t,l,n,c),It=!1,h=t.memoizedState,l.state=h,mi(t,n,l,i);var p=t.memoizedState;o!==m||h!==p||Re.current||It?(typeof g=="function"&&(hl(t,r,g,n),p=t.memoizedState),(d=It||$c(t,r,d,n,h,p,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return gl(e,t,r,n,a,i)}function gl(e,t,r,n,i,a){oh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&kc(t,r,!1),St(e,t,a);n=t.stateNode,Fp.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=en(t,e.child,null,a),t.child=en(t,null,o,a)):Ne(e,t,o,a),t.memoizedState=n.state,i&&kc(t,r,!0),t.child}function ch(e){var t=e.stateNode;t.pendingContext?_c(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_c(e,t.context,!1),fo(e,t.containerInfo)}function Uc(e,t,r,n,i){return Zr(),ao(i),t.flags|=256,Ne(e,t,r,n),t.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function dh(e,t,r){var n=t.pendingProps,i=ee.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),J(ee,i&1),e===null)return dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Vi(l,n,0,null),e=mr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=yl(r),t.memoizedState=xl,e):jo(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return zp(e,t,l,n,o,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jt(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Jt(o,a):(a=mr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?yl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=xl,n}return a=e.child,e=a.sibling,n=Jt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jo(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,r,n){return n!==null&&ao(n),en(t,e.child,null,r),e=jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zp(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=_a(Error(E(422))),Ts(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Vi({mode:"visible",children:n.children},i,0,null),a=mr(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&en(t,e.child,null,l),t.child.memoizedState=yl(l),t.memoizedState=xl,a);if(!(t.mode&1))return Ts(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(E(419)),n=_a(a,n,void 0),Ts(e,t,l,n)}if(o=(l&e.childLanes)!==0,Te||o){if(n=he,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,kt(e,i),at(n,e,i,-1))}return Co(),n=_a(Error(E(421))),Ts(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Zp.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ie=Ht(i.nextSibling),Me=t,Z=!0,st=null,e!==null&&(Ue[Be++]=wt,Ue[Be++]=jt,Ue[Be++]=gr,wt=e.id,jt=e.overflow,gr=t),t=jo(t,n.children),t.flags|=4096,t)}function Bc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ul(e.return,t,r)}function ka(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function uh(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ne(e,t,n.children,r),n=ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,r,t);else if(e.tag===19)Bc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(J(ee,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&pi(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ka(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pi(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ka(t,!0,r,null,a);break;case"together":ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Jt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Up(e,t,r){switch(t.tag){case 3:ch(t),Zr();break;case 5:Du(t);break;case 1:Ae(t.type)&&ci(t);break;case 4:fo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;J(hi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(J(ee,ee.current&1),t.flags|=128,null):r&t.child.childLanes?dh(e,t,r):(J(ee,ee.current&1),e=St(e,t,r),e!==null?e.sibling:null);J(ee,ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return uh(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(ee,ee.current),n)break;return null;case 22:case 23:return t.lanes=0,lh(e,t,r)}return St(e,t,r)}var hh,vl,fh,mh;hh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vl=function(){};fh=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,hr(ft.current);var a=null;switch(r){case"input":i=Ua(e,i),n=Ua(e,n),a=[];break;case"select":i=re({},i,{value:void 0}),n=re({},n,{value:void 0}),a=[];break;case"textarea":i=qa(e,i),n=qa(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=li)}Wa(r,n);var l;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qn.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&X("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};mh=function(e,t,r,n){r!==n&&(t.flags|=4)};function vn(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Bp(e,t,r){var n=t.pendingProps;switch(io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return Ae(t.type)&&oi(),ye(t),null;case 3:return n=t.stateNode,tn(),Y(Re),Y(je),po(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(Cl(st),st=null))),vl(e,t),ye(t),null;case 5:mo(t);var i=hr(rs.current);if(r=t.type,e!==null&&t.stateNode!=null)fh(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ye(t),null}if(e=hr(ft.current),Es(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ut]=t,n[es]=a,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(i=0;i<Cn.length;i++)X(Cn[i],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":Xo(n,a),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},X("invalid",n);break;case"textarea":Zo(n,a),X("invalid",n)}Wa(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Cs(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Cs(n.textContent,o,e),i=["children",""+o]):qn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&X("scroll",n)}switch(r){case"input":vs(n),Yo(n,a,!0);break;case"textarea":vs(n),ec(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=li)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ut]=t,e[es]=n,hh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ga(r,n),r){case"dialog":X("cancel",e),X("close",e),i=n;break;case"iframe":case"object":case"embed":X("load",e),i=n;break;case"video":case"audio":for(i=0;i<Cn.length;i++)X(Cn[i],e);i=n;break;case"source":X("error",e),i=n;break;case"img":case"image":case"link":X("error",e),X("load",e),i=n;break;case"details":X("toggle",e),i=n;break;case"input":Xo(e,n),i=Ua(e,n),X("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=re({},n,{value:void 0}),X("invalid",e);break;case"textarea":Zo(e,n),i=qa(e,n),X("invalid",e);break;default:i=n}Wa(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Hd(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vd(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hn(e,c):typeof c=="number"&&Hn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qn.hasOwnProperty(a)?c!=null&&a==="onScroll"&&X("scroll",e):c!=null&&ql(e,a,c,l))}switch(r){case"input":vs(e),Yo(e,n,!1);break;case"textarea":vs(e),ec(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qr(e,!!n.multiple,a,!1):n.defaultValue!=null&&qr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)mh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=hr(rs.current),hr(ft.current),Es(t)){if(n=t.stateNode,r=t.memoizedProps,n[ut]=t,(a=n.nodeValue!==r)&&(e=Me,e!==null))switch(e.tag){case 3:Cs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=t,t.stateNode=n}return ye(t),null;case 13:if(Y(ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Ie!==null&&t.mode&1&&!(t.flags&128))Au(),Zr(),t.flags|=98560,a=!1;else if(a=Es(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[ut]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),a=!1}else st!==null&&(Cl(st),st=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?oe===0&&(oe=3):Co())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return tn(),vl(e,t),e===null&&Yn(t.stateNode.containerInfo),ye(t),null;case 10:return co(t.type._context),ye(t),null;case 17:return Ae(t.type)&&oi(),ye(t),null;case 19:if(Y(ee),a=t.memoizedState,a===null)return ye(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)vn(a,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=pi(e),l!==null){for(t.flags|=128,vn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return J(ee,ee.current&1|2),t.child}e=e.sibling}a.tail!==null&&ie()>nn&&(t.flags|=128,n=!0,vn(a,!1),t.lanes=4194304)}else{if(!n)if(e=pi(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Z)return ye(t),null}else 2*ie()-a.renderingStartTime>nn&&r!==1073741824&&(t.flags|=128,n=!0,vn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ie(),t.sibling=null,r=ee.current,J(ee,n?r&1|2:r&1),t):(ye(t),null);case 22:case 23:return So(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Vp(e,t){switch(io(t),t.tag){case 1:return Ae(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),Y(Re),Y(je),po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mo(t),null;case 13:if(Y(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(ee),null;case 4:return tn(),null;case 10:return co(t.type._context),null;case 22:case 23:return So(),null;case 24:return null;default:return null}}var Rs=!1,we=!1,qp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function wl(e,t,r){try{r()}catch(n){se(e,t,n)}}var Vc=!1;function Hp(e,t){if(nl=si,e=vu(),no(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var g;m!==r||i!==0&&m.nodeType!==3||(o=l+i),m!==a||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===e)break t;if(h===r&&++d===i&&(o=l),h===a&&++u===n&&(c=l),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sl={focusedElem:e,selectionRange:r},si=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,k=p.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:tt(t.type,b),k);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){se(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return p=Vc,Vc=!1,p}function Mn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&wl(t,r,a)}i=i.next}while(i!==n)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[es],delete t[ll],delete t[Cp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gh(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=li));else if(n!==4&&(e=e.child,e!==null))for(bl(e,t,r),e=e.sibling;e!==null;)bl(e,t,r),e=e.sibling}function Nl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nl(e,t,r),e=e.sibling;e!==null;)Nl(e,t,r),e=e.sibling}var fe=null,rt=!1;function At(e,t,r){for(r=r.child;r!==null;)xh(e,t,r),r=r.sibling}function xh(e,t,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount($i,r)}catch{}switch(r.tag){case 5:we||Br(r,t);case 6:var n=fe,i=rt;fe=null,At(e,t,r),fe=n,rt=i,fe!==null&&(rt?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(rt?(e=fe,r=r.stateNode,e.nodeType===8?ya(e.parentNode,r):e.nodeType===1&&ya(e,r),Jn(e)):ya(fe,r.stateNode));break;case 4:n=fe,i=rt,fe=r.stateNode.containerInfo,rt=!0,At(e,t,r),fe=n,rt=i;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&wl(r,t,l),i=i.next}while(i!==n)}At(e,t,r);break;case 1:if(!we&&(Br(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){se(r,t,o)}At(e,t,r);break;case 21:At(e,t,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,At(e,t,r),we=n):At(e,t,r);break;default:At(e,t,r)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qp),t.forEach(function(n){var i=e0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ze(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:fe=o.stateNode,rt=!1;break e;case 3:fe=o.stateNode.containerInfo,rt=!0;break e;case 4:fe=o.stateNode.containerInfo,rt=!0;break e}o=o.return}if(fe===null)throw Error(E(160));xh(a,l,i),fe=null,rt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){se(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yh(t,e),t=t.sibling}function yh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ct(e),n&4){try{Mn(3,e,e.return),Ui(3,e)}catch(b){se(e,e.return,b)}try{Mn(5,e,e.return)}catch(b){se(e,e.return,b)}}break;case 1:Ze(t,e),ct(e),n&512&&r!==null&&Br(r,r.return);break;case 5:if(Ze(t,e),ct(e),n&512&&r!==null&&Br(r,r.return),e.flags&32){var i=e.stateNode;try{Hn(i,"")}catch(b){se(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&zd(i,a),Ga(o,l);var d=Ga(o,a);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?Hd(i,m):u==="dangerouslySetInnerHTML"?Vd(i,m):u==="children"?Hn(i,m):ql(i,u,m,d)}switch(o){case"input":Ba(i,a);break;case"textarea":Ud(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?qr(i,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?qr(i,!!a.multiple,a.defaultValue,!0):qr(i,!!a.multiple,a.multiple?[]:"",!1))}i[es]=a}catch(b){se(e,e.return,b)}}break;case 6:if(Ze(t,e),ct(e),n&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){se(e,e.return,b)}}break;case 3:if(Ze(t,e),ct(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jn(t.containerInfo)}catch(b){se(e,e.return,b)}break;case 4:Ze(t,e),ct(e);break;case 13:Ze(t,e),ct(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_o=ie())),n&4&&Hc(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(we=(d=we)||u,Ze(t,e),we=d):Ze(t,e),ct(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(m=$=u;$!==null;){switch(h=$,g=h.child,h.tag){case 0:case 11:case 14:case 15:Mn(4,h,h.return);break;case 1:Br(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(b){se(n,r,b)}}break;case 5:Br(h,h.return);break;case 22:if(h.memoizedState!==null){Gc(m);continue}}g!==null?(g.return=h,$=g):Gc(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=qd("display",l))}catch(b){se(e,e.return,b)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){se(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ze(t,e),ct(e),n&4&&Hc(e);break;case 21:break;default:Ze(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hn(i,""),n.flags&=-33);var a=qc(e);Nl(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=qc(e);bl(e,o,l);break;default:throw Error(E(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e,t,r){$=e,vh(e)}function vh(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Rs;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||we;o=Rs;var d=we;if(Rs=l,(we=c)&&!d)for($=i;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?Kc(i):c!==null?(c.return=l,$=c):Kc(i);for(;a!==null;)$=a,vh(a),a=a.sibling;$=i,Rs=o,we=d}Wc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):Wc(e)}}function Wc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||Ui(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!we)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:tt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Tc(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tc(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Jn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}we||t.flags&512&&jl(t)}catch(h){se(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Gc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Kc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ui(4,t)}catch(c){se(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){se(t,i,c)}}var a=t.return;try{jl(t)}catch(c){se(t,a,c)}break;case 5:var l=t.return;try{jl(t)}catch(c){se(t,l,c)}}}catch(c){se(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Gp=Math.ceil,yi=Ct.ReactCurrentDispatcher,bo=Ct.ReactCurrentOwner,He=Ct.ReactCurrentBatchConfig,V=0,he=null,ae=null,me=0,Oe=0,Vr=Zt(0),oe=0,as=null,yr=0,Bi=0,No=0,Dn=null,Ee=null,_o=0,nn=1/0,xt=null,vi=!1,_l=null,Gt=null,As=!1,Ut=null,wi=0,Ln=0,kl=null,Ks=-1,Js=0;function _e(){return V&6?ie():Ks!==-1?Ks:Ks=ie()}function Kt(e){return e.mode&1?V&2&&me!==0?me&-me:Tp.transition!==null?(Js===0&&(Js=nu()),Js):(e=W,e!==0||(e=window.event,e=e===void 0?16:du(e.type)),e):1}function at(e,t,r,n){if(50<Ln)throw Ln=0,kl=null,Error(E(185));cs(e,r,n),(!(V&2)||e!==he)&&(e===he&&(!(V&2)&&(Bi|=r),oe===4&&Lt(e,me)),$e(e,n),r===1&&V===0&&!(t.mode&1)&&(nn=ie()+500,Li&&er()))}function $e(e,t){var r=e.callbackNode;Tm(e,t);var n=ni(e,e===he?me:0);if(n===0)r!==null&&nc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nc(r),t===1)e.tag===0?Pp(Jc.bind(null,e)):Pu(Jc.bind(null,e)),kp(function(){!(V&6)&&er()}),r=null;else{switch(su(n)){case 1:r=Jl;break;case 4:r=tu;break;case 16:r=ri;break;case 536870912:r=ru;break;default:r=ri}r=Ch(r,wh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wh(e,t){if(Ks=-1,Js=0,V&6)throw Error(E(327));var r=e.callbackNode;if(Jr()&&e.callbackNode!==r)return null;var n=ni(e,e===he?me:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ji(e,n);else{t=n;var i=V;V|=2;var a=bh();(he!==e||me!==t)&&(xt=null,nn=ie()+500,fr(e,t));do try{Qp();break}catch(o){jh(e,o)}while(!0);oo(),yi.current=a,V=i,ae!==null?t=0:(he=null,me=0,t=oe)}if(t!==0){if(t===2&&(i=Ya(e),i!==0&&(n=i,t=Sl(e,i))),t===1)throw r=as,fr(e,0),Lt(e,n),$e(e,ie()),r;if(t===6)Lt(e,n);else{if(i=e.current.alternate,!(n&30)&&!Kp(i)&&(t=ji(e,n),t===2&&(a=Ya(e),a!==0&&(n=a,t=Sl(e,a))),t===1))throw r=as,fr(e,0),Lt(e,n),$e(e,ie()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:lr(e,Ee,xt);break;case 3:if(Lt(e,n),(n&130023424)===n&&(t=_o+500-ie(),10<t)){if(ni(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=al(lr.bind(null,e,Ee,xt),t);break}lr(e,Ee,xt);break;case 4:if(Lt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-it(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gp(n/1960))-n,10<n){e.timeoutHandle=al(lr.bind(null,e,Ee,xt),n);break}lr(e,Ee,xt);break;case 5:lr(e,Ee,xt);break;default:throw Error(E(329))}}}return $e(e,ie()),e.callbackNode===r?wh.bind(null,e):null}function Sl(e,t){var r=Dn;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=ji(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Cl(t)),e}function Cl(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function Kp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!lt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~No,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function Jc(e){if(V&6)throw Error(E(327));Jr();var t=ni(e,0);if(!(t&1))return $e(e,ie()),null;var r=ji(e,t);if(e.tag!==0&&r===2){var n=Ya(e);n!==0&&(t=n,r=Sl(e,n))}if(r===1)throw r=as,fr(e,0),Lt(e,t),$e(e,ie()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,Ee,xt),$e(e,ie()),null}function ko(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(nn=ie()+500,Li&&er())}}function vr(e){Ut!==null&&Ut.tag===0&&!(V&6)&&Jr();var t=V;V|=1;var r=He.transition,n=W;try{if(He.transition=null,W=1,e)return e()}finally{W=n,He.transition=r,V=t,!(V&6)&&er()}}function So(){Oe=Vr.current,Y(Vr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_p(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(io(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oi();break;case 3:tn(),Y(Re),Y(je),po();break;case 5:mo(n);break;case 4:tn();break;case 13:Y(ee);break;case 19:Y(ee);break;case 10:co(n.type._context);break;case 22:case 23:So()}r=r.return}if(he=e,ae=e=Jt(e.current,null),me=Oe=t,oe=0,as=null,No=Bi=yr=0,Ee=Dn=null,ur!==null){for(t=0;t<ur.length;t++)if(r=ur[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}ur=null}return e}function jh(e,t){do{var r=ae;try{if(oo(),Hs.current=xi,gi){for(var n=te.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gi=!1}if(xr=0,ue=le=te=null,In=!1,ns=0,bo.current=null,r===null||r.return===null){oe=1,as=t,ae=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=me,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Mc(l);if(g!==null){g.flags&=-257,Dc(g,l,o,a,t),g.mode&1&&Ic(a,d,t),t=g,c=d;var p=t.updateQueue;if(p===null){var b=new Set;b.add(c),t.updateQueue=b}else p.add(c);break e}else{if(!(t&1)){Ic(a,d,t),Co();break e}c=Error(E(426))}}else if(Z&&o.mode&1){var k=Mc(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Dc(k,l,o,a,t),ao(rn(c,o));break e}}a=c=rn(c,o),oe!==4&&(oe=2),Dn===null?Dn=[a]:Dn.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=sh(a,c,t);Pc(a,y);break e;case 1:o=c;var f=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gt===null||!Gt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var v=ih(a,o,t);Pc(a,v);break e}}a=a.return}while(a!==null)}_h(r)}catch(N){t=N,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function bh(){var e=yi.current;return yi.current=xi,e===null?xi:e}function Co(){(oe===0||oe===3||oe===2)&&(oe=4),he===null||!(yr&268435455)&&!(Bi&268435455)||Lt(he,me)}function ji(e,t){var r=V;V|=2;var n=bh();(he!==e||me!==t)&&(xt=null,fr(e,t));do try{Jp();break}catch(i){jh(e,i)}while(!0);if(oo(),V=r,yi.current=n,ae!==null)throw Error(E(261));return he=null,me=0,oe}function Jp(){for(;ae!==null;)Nh(ae)}function Qp(){for(;ae!==null&&!jm();)Nh(ae)}function Nh(e){var t=Sh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?_h(e):ae=t,bo.current=null}function _h(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Vp(r,t),r!==null){r.flags&=32767,ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,ae=null;return}}else if(r=Bp(r,t,Oe),r!==null){ae=r;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);oe===0&&(oe=5)}function lr(e,t,r){var n=W,i=He.transition;try{He.transition=null,W=1,Xp(e,t,r,n)}finally{He.transition=i,W=n}return null}function Xp(e,t,r,n){do Jr();while(Ut!==null);if(V&6)throw Error(E(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Rm(e,a),e===he&&(ae=he=null,me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||As||(As=!0,Ch(ri,function(){return Jr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=He.transition,He.transition=null;var l=W;W=1;var o=V;V|=4,bo.current=null,Hp(e,r),yh(r,e),xp(sl),si=!!nl,sl=nl=null,e.current=r,Wp(r),bm(),V=o,W=l,He.transition=a}else e.current=r;if(As&&(As=!1,Ut=e,wi=i),a=e.pendingLanes,a===0&&(Gt=null),km(r.stateNode),$e(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vi)throw vi=!1,e=_l,_l=null,e;return wi&1&&e.tag!==0&&Jr(),a=e.pendingLanes,a&1?e===kl?Ln++:(Ln=0,kl=e):Ln=0,er(),null}function Jr(){if(Ut!==null){var e=su(wi),t=He.transition,r=W;try{if(He.transition=null,W=16>e?16:e,Ut===null)var n=!1;else{if(e=Ut,Ut=null,wi=0,V&6)throw Error(E(331));var i=V;for(V|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Mn(8,u,a)}var m=u.child;if(m!==null)m.return=u,$=m;else for(;$!==null;){u=$;var h=u.sibling,g=u.return;if(ph(u),u===d){$=null;break}if(h!==null){h.return=g,$=h;break}$=g}}}var p=a.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mn(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,$=y;break e}$=a.return}}var f=e.current;for($=f;$!==null;){l=$;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,$=x;else e:for(l=f;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ui(9,o)}}catch(N){se(o,o.return,N)}if(o===l){$=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,$=v;break e}$=o.return}}if(V=i,er(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot($i,e)}catch{}n=!0}return n}finally{W=r,He.transition=t}}return!1}function Qc(e,t,r){t=rn(r,t),t=sh(e,t,1),e=Wt(e,t,1),t=_e(),e!==null&&(cs(e,1,t),$e(e,t))}function se(e,t,r){if(e.tag===3)Qc(e,e,r);else for(;t!==null;){if(t.tag===3){Qc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){e=rn(r,e),e=ih(t,e,1),t=Wt(t,e,1),e=_e(),t!==null&&(cs(t,1,e),$e(t,e));break}}t=t.return}}function Yp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,he===e&&(me&r)===r&&(oe===4||oe===3&&(me&130023424)===me&&500>ie()-_o?fr(e,0):No|=r),$e(e,t)}function kh(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var r=_e();e=kt(e,t),e!==null&&(cs(e,t,r),$e(e,r))}function Zp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kh(e,r)}function e0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),kh(e,r)}var Sh;Sh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Te=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Te=!1,Up(e,t,r);Te=!!(e.flags&131072)}else Te=!1,Z&&t.flags&1048576&&Tu(t,ui,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gs(e,t),e=t.pendingProps;var i=Yr(t,je.current);Kr(t,r),i=xo(null,t,n,e,i,r);var a=yo();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(n)?(a=!0,ci(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ho(t),i.updater=zi,t.stateNode=i,i._reactInternals=t,fl(t,n,e,r),t=gl(null,t,n,!0,a,r)):(t.tag=0,Z&&a&&so(t),Ne(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=r0(n),e=tt(n,e),i){case 0:t=pl(null,t,n,e,r);break e;case 1:t=zc(null,t,n,e,r);break e;case 11:t=Lc(null,t,n,e,r);break e;case 14:t=Fc(null,t,n,tt(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tt(n,i),pl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tt(n,i),zc(e,t,n,i,r);case 3:e:{if(ch(t),e===null)throw Error(E(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Mu(e,t),mi(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=rn(Error(E(423)),t),t=Uc(e,t,n,r,i);break e}else if(n!==i){i=rn(Error(E(424)),t),t=Uc(e,t,n,r,i);break e}else for(Ie=Ht(t.stateNode.containerInfo.firstChild),Me=t,Z=!0,st=null,r=Ou(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),n===i){t=St(e,t,r);break e}Ne(e,t,n,r)}t=t.child}return t;case 5:return Du(t),e===null&&dl(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,il(n,i)?l=null:a!==null&&il(n,a)&&(t.flags|=32),oh(e,t),Ne(e,t,l,r),t.child;case 6:return e===null&&dl(t),null;case 13:return dh(e,t,r);case 4:return fo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=en(t,null,n,r):Ne(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tt(n,i),Lc(e,t,n,i,r);case 7:return Ne(e,t,t.pendingProps,r),t.child;case 8:return Ne(e,t,t.pendingProps.children,r),t.child;case 12:return Ne(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,J(hi,n._currentValue),n._currentValue=l,a!==null)if(lt(a.value,l)){if(a.children===i.children&&!Re.current){t=St(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bt(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ul(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(E(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ul(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ne(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Kr(t,r),i=Je(i),n=n(i),t.flags|=1,Ne(e,t,n,r),t.child;case 14:return n=t.type,i=tt(n,t.pendingProps),i=tt(n.type,i),Fc(e,t,n,i,r);case 15:return ah(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tt(n,i),Gs(e,t),t.tag=1,Ae(n)?(e=!0,ci(t)):e=!1,Kr(t,r),nh(t,n,i),fl(t,n,i,r),gl(null,t,n,!0,e,r);case 19:return uh(e,t,r);case 22:return lh(e,t,r)}throw Error(E(156,t.tag))};function Ch(e,t){return eu(e,t)}function t0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,r,n){return new t0(e,t,r,n)}function Eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r0(e){if(typeof e=="function")return Eo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wl)return 11;if(e===Gl)return 14}return 2}function Jt(e,t){var r=e.alternate;return r===null?(r=qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qs(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Eo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case $r:return mr(r.children,i,a,t);case Hl:l=8,i|=8;break;case Da:return e=qe(12,r,t,i|2),e.elementType=Da,e.lanes=a,e;case La:return e=qe(13,r,t,i),e.elementType=La,e.lanes=a,e;case Fa:return e=qe(19,r,t,i),e.elementType=Fa,e.lanes=a,e;case Dd:return Vi(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Id:l=10;break e;case Md:l=9;break e;case Wl:l=11;break e;case Gl:l=14;break e;case Ot:l=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=qe(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function mr(e,t,r,n){return e=qe(7,e,n,t),e.lanes=r,e}function Vi(e,t,r,n){return e=qe(22,e,n,t),e.elementType=Dd,e.lanes=r,e.stateNode={isHidden:!1},e}function Sa(e,t,r){return e=qe(6,e,null,t),e.lanes=r,e}function Ca(e,t,r){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Po(e,t,r,n,i,a,l,o,c){return e=new n0(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ho(a),e}function s0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Eh(e){if(!e)return Xt;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ae(r))return Eu(e,r,t)}return t}function Ph(e,t,r,n,i,a,l,o,c){return e=Po(r,n,!0,e,i,a,l,o,c),e.context=Eh(null),r=e.current,n=_e(),i=Kt(r),a=bt(n,i),a.callback=t??null,Wt(r,a,i),e.current.lanes=i,cs(e,i,n),$e(e,n),e}function qi(e,t,r,n){var i=t.current,a=_e(),l=Kt(i);return r=Eh(r),t.context===null?t.context=r:t.pendingContext=r,t=bt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wt(i,t,l),e!==null&&(at(e,i,l,a),qs(e,i,l)),l}function bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function To(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function i0(){return null}var Th=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ro(e){this._internalRoot=e}Hi.prototype.render=Ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));qi(e,t,null,null)};Hi.prototype.unmount=Ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){qi(null,e,null,null)}),t[_t]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=lu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&t!==0&&t<Dt[r].priority;r++);Dt.splice(r,0,e),r===0&&cu(e)}};function Ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function a0(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=bi(l);a.call(d)}}var l=Ph(t,n,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=l,e[_t]=l.current,Yn(e.nodeType===8?e.parentNode:e),vr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=bi(c);o.call(d)}}var c=Po(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=c,e[_t]=c.current,Yn(e.nodeType===8?e.parentNode:e),vr(function(){qi(t,c,r,n)}),c}function Gi(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=bi(l);o.call(c)}}qi(t,l,e,i)}else l=a0(r,t,e,i,n);return bi(l)}iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(Ql(t,r|1),$e(t,ie()),!(V&6)&&(nn=ie()+500,er()))}break;case 13:vr(function(){var n=kt(e,1);if(n!==null){var i=_e();at(n,e,1,i)}}),To(e,1)}};Xl=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=_e();at(t,e,134217728,r)}To(e,134217728)}};au=function(e){if(e.tag===13){var t=Kt(e),r=kt(e,t);if(r!==null){var n=_e();at(r,e,t,n)}To(e,t)}};lu=function(){return W};ou=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Ja=function(e,t,r){switch(t){case"input":if(Ba(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Di(n);if(!i)throw Error(E(90));Fd(n),Ba(n,i)}}}break;case"textarea":Ud(e,r);break;case"select":t=r.value,t!=null&&qr(e,!!r.multiple,t,!1)}};Kd=ko;Jd=vr;var l0={usingClientEntryPoint:!1,Events:[us,Dr,Di,Wd,Gd,ko]},wn={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o0={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yd(e),e===null?null:e.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||i0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{$i=$s.inject(o0),ht=$s}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0;Fe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ao(t))throw Error(E(200));return s0(e,t,null,r)};Fe.createRoot=function(e,t){if(!Ao(e))throw Error(E(299));var r=!1,n="",i=Th;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Po(e,1,!1,null,null,r,!1,n,i),e[_t]=t.current,Yn(e.nodeType===8?e.parentNode:e),new Ro(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Yd(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return vr(e)};Fe.hydrate=function(e,t,r){if(!Wi(t))throw Error(E(200));return Gi(null,e,t,!0,r)};Fe.hydrateRoot=function(e,t,r){if(!Ao(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Th;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Ph(t,null,e,1,r??null,i,!1,a,l),e[_t]=t.current,Yn(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Hi(t)};Fe.render=function(e,t,r){if(!Wi(t))throw Error(E(200));return Gi(null,e,t,!1,r)};Fe.unmountComponentAtNode=function(e){if(!Wi(e))throw Error(E(40));return e._reactRootContainer?(vr(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Fe.unstable_batchedUpdates=ko;Fe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wi(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Gi(e,t,r,!1,n)};Fe.version="18.3.1-next-f1338f8080-20240426";function Rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rh)}catch(e){console.error(e)}}Rh(),Rd.exports=Fe;var c0=Rd.exports,Ah,Zc=c0;Ah=Zc.createRoot,Zc.hydrateRoot;const d0="modulepreload",u0=function(e){return"/"+e},ed={},fs=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=u0(c),c in ed)return;ed[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":d0,d||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((h,g)=>{m.addEventListener("load",h),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},h0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fs(async()=>{const{default:n}=await Promise.resolve().then(()=>cn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $o extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class f0 extends $o{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class m0 extends $o{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class p0 extends $o{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var El;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(El||(El={}));var g0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class x0{constructor(t,{headers:r={},customFetch:n,region:i=El.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=h0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return g0(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(p=>{throw new f0(p)}),m=u.headers.get("x-relay-error");if(m&&m==="true")throw new m0(u);if(!u.ok)throw new p0(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield u.json():h==="application/octet-stream"?g=yield u.blob():h==="text/event-stream"?g=u:h==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var Pe={},Oo={},Ki={},ms={},Ji={},Qi={},y0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sn=y0();const v0=sn.fetch,$h=sn.fetch.bind(sn),Oh=sn.Headers,w0=sn.Request,j0=sn.Response,cn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oh,Request:w0,Response:j0,default:$h,fetch:v0},Symbol.toStringTag,{value:"Module"})),b0=Df(cn);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});let N0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xi.default=N0;var Ih=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const _0=Ih(b0),k0=Ih(Xi);let S0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=_0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c;let d=null,u=null,m=null,h=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const b=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),k=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");b&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,h=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await a.text();try{d=JSON.parse(b),Array.isArray(d)&&a.status===404&&(u=[],d=null,h=200,g="OK")}catch{a.status===404&&b===""?(h=204,g="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,g="OK"),d&&this.shouldThrowOnError)throw new k0.default(d)}return{error:d,data:u,count:m,status:h,statusText:g}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Qi.default=S0;var C0=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const E0=C0(Qi);let P0=class extends E0.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ji.default=P0;var T0=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});const R0=T0(Ji);let A0=class extends R0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ms.default=A0;var $0=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0});const jn=$0(ms);let O0=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new jn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new jn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ki.default=O0;var Yi={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.version=void 0;Zi.version="0.0.0-automated";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.DEFAULT_HEADERS=void 0;const I0=Zi;Yi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${I0.version}`};var Mh=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oo,"__esModule",{value:!0});const M0=Mh(Ki),D0=Mh(ms),L0=Yi;let F0=class Dh{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},L0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new M0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{o.searchParams.append(u,m)})):(l="POST",c=r);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new D0.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Oo.default=F0;var dn=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const Lh=dn(Oo);Pe.PostgrestClient=Lh.default;const Fh=dn(Ki);Pe.PostgrestQueryBuilder=Fh.default;const zh=dn(ms);Pe.PostgrestFilterBuilder=zh.default;const Uh=dn(Ji);Pe.PostgrestTransformBuilder=Uh.default;const Bh=dn(Qi);Pe.PostgrestBuilder=Bh.default;const Vh=dn(Xi);Pe.PostgrestError=Vh.default;var z0=Pe.default={PostgrestClient:Lh.default,PostgrestQueryBuilder:Fh.default,PostgrestFilterBuilder:zh.default,PostgrestTransformBuilder:Uh.default,PostgrestBuilder:Bh.default,PostgrestError:Vh.default};const{PostgrestClient:U0,PostgrestQueryBuilder:ky,PostgrestFilterBuilder:Sy,PostgrestTransformBuilder:Cy,PostgrestBuilder:Ey,PostgrestError:Py}=z0;function B0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const V0=B0(),q0="2.11.15",H0=`realtime-js/${q0}`,W0="1.0.0",qh=1e4,G0=1e3;var Fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fn||(Fn={}));var ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ve||(ve={}));var nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nt||(nt={}));var Pl;(function(e){e.websocket="websocket"})(Pl||(Pl={}));var cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cr||(cr={}));class K0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+i));l=l+i;const c=n.decode(t.slice(l,l+a));l=l+a;const d=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class Hh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const td=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=J0(l,e,t,i),a),{})},J0=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!n.includes(a)?Wh(a,l):Tl(l)},Wh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Z0(t,r)}switch(e){case K.bool:return Q0(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return X0(t);case K.json:case K.jsonb:return Y0(t);case K.timestamp:return eg(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Tl(t);default:return Tl(t)}},Tl=e=>e,Q0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Y0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Z0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>Wh(t,o))}return e},eg=e=>typeof e=="string"?e.replace(" ","T"):e,Gh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ea{constructor(t,r,n={},i=qh){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rd||(rd={}));class zn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zn.syncState(this.state,i,a,l),this.pendingDiffs.forEach(c=>{this.state=zn.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zn.syncDiff(this.state,i,a,l),o())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(a,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const m=a[d];if(m){const h=u.map(k=>k.presence_ref),g=m.map(k=>k.presence_ref),p=u.filter(k=>g.indexOf(k.presence_ref)<0),b=m.filter(k=>h.indexOf(k.presence_ref)<0);p.length>0&&(o[d]=p),b.length>0&&(c[d]=b)}else o[d]=u}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const m=t[o].map(g=>g.presence_ref),h=u.filter(g=>m.indexOf(g.presence_ref)<0);t[o].unshift(...h)}n(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[o]=d,i(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nd||(nd={}));var sd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sd||(sd={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Io{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ea(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Hh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new zn(this),this.broadcastEndpointURL=Gh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params;this._onError(u=>t==null?void 0:t(yt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(yt.CLOSED));const c={},d={broadcast:a,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var m;if(this.socket.setAuth(),u===void 0){t==null||t(yt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(m=h==null?void 0:h.length)!==null&&m!==void 0?m:0,p=[];for(let b=0;b<g;b++){const k=h[b],{filter:{event:y,schema:f,table:x,filter:v}}=k,N=u&&u[b];if(N&&N.event===y&&N.schema===f&&N.table===x&&N.filter===v)p.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),this.state=ve.errored,t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(yt.SUBSCRIBED);return}}).receive("error",u=>{this.state=ve.errored,t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ea(this,nt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ea(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=nt;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var p,b,k;return((p=g.filter)===null||p===void 0?void 0:p.event)==="*"||((k=(b=g.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(g=>g.callback(h,n)):(a=this.bindings[l])===null||a===void 0||a.filter(g=>{var p,b,k,y,f,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in g){const v=g.id,N=(p=g.filter)===null||p===void 0?void 0:p.event;return v&&((b=r.ids)===null||b===void 0?void 0:b.includes(v))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const v=(f=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===l}).map(g=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:b,table:k,commit_timestamp:y,type:f,errors:x}=p;h=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:y,eventType:f,new:{},old:{},errors:x}),this._getPayloadRecords(p))}g.callback(h,n)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Io.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nt.close,{},t)}_onError(t){this._on(nt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=td(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=td(t.columns,t.old_record)),r}}const id=()=>{},tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rg{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=id,this.ref=0,this.logger=id,this.conn=null,this.sendBuffer=[],this.serializer=new K0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...o)=>fs(async()=>{const{default:c}=await Promise.resolve().then(()=>cn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Pl.websocket}`,this.httpEndpoint=Gh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=V0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return cr.Connecting;case Fn.open:return cr.Open;case Fn.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Io(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:H0};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(G0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:l}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Mo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ng extends Mo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rl extends Mo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var sg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Kh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fs(async()=>{const{default:n}=await Promise.resolve().then(()=>cn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ig=()=>sg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>cn),void 0)).Response:Response}),Al=e=>{if(Array.isArray(e))return e.map(r=>Al(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Al(n)}),t};var _r=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ag=(e,t,r)=>_r(void 0,void 0,void 0,function*(){const n=yield ig();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new ng(Pa(i),e.status||500))}).catch(i=>{t(new Rl(Pa(i),i))}):t(new Rl(Pa(e),e))}),lg=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function ps(e,t,r,n,i,a){return _r(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,lg(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>ag(c,o,n))})})}function Ni(e,t,r,n){return _r(this,void 0,void 0,function*(){return ps(e,"GET",t,r,n)})}function Mt(e,t,r,n,i){return _r(this,void 0,void 0,function*(){return ps(e,"POST",t,n,i,r)})}function og(e,t,r,n,i){return _r(this,void 0,void 0,function*(){return ps(e,"PUT",t,n,i,r)})}function cg(e,t,r,n){return _r(this,void 0,void 0,function*(){return ps(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Jh(e,t,r,n,i){return _r(this,void 0,void 0,function*(){return ps(e,"DELETE",t,n,i,r)})}var Ce=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const dg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ad={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ug{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Kh(i)}uploadOrUpdate(t,r,n,i){return Ce(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},ad),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),h=yield m.json();return m.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(de(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ce(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:ad.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),h=yield m.json();return m.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Mt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new Mo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Mt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ce(this,void 0,void 0,function*(){try{const i=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}download(t,r){return Ce(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ni(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}})}info(t){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ni(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Al(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(t){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield cg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof Rl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dg),r),{prefix:t||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hg="2.7.1",fg={"X-Client-Info":`storage-js/${hg}`};var Cr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class mg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},fg),r),this.fetch=Kh(n)}listBuckets(){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Cr(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Cr(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class pg extends mg{constructor(t,r={},n){super(t,r,n)}from(t){return new ug(this.url,this.headers,t,this.fetch)}}const gg="2.50.2";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const xg={"X-Client-Info":`supabase-js-${En}/${gg}`},yg={headers:xg},vg={schema:"public"},wg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jg={};var bg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Ng=e=>{let t;return e?t=e:typeof fetch>"u"?t=$h:t=fetch,(...r)=>t(...r)},_g=()=>typeof Headers>"u"?Oh:Headers,kg=(e,t,r)=>{const n=Ng(r),i=_g();return(a,l)=>bg(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},l),{headers:d}))})};var Sg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};function Cg(e){return e.endsWith("/")?e:e+"/"}function Eg(e,t){var r,n;const{db:i,auth:a,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:m}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),l),global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Sg(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Qh="2.70.0",Rr=30*1e3,$l=3,Ta=$l*Rr,Pg="http://localhost:9999",Tg="supabase.auth.token",Rg={"X-Client-Info":`gotrue-js/${Qh}`},Ol="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ag=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$g=6e5;class Do extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Og extends Do{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ig(e){return z(e)&&e.name==="AuthApiError"}class Yh extends Do{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class tr extends Do{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class $t extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mg(e){return z(e)&&e.name==="AuthSessionMissingError"}class Os extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Is extends tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ms extends tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dg(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class ld extends tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Il extends tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ra(e){return z(e)&&e.name==="AuthRetryableFetchError"}class od extends tr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Un extends tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cd=` 	
\r=`.split(""),Lg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cd.length;t+=1)e[cd[t].charCodeAt(0)]=-2;for(let t=0;t<_i.length;t+=1)e[_i[t].charCodeAt(0)]=t;return e})();function dd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_i[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_i[n]),t.queuedBits-=6}}function Zh(e,t,r){const n=Lg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ud(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Ug(l,n,r)};for(let l=0;l<e.length;l+=1)Zh(e.charCodeAt(l),i,a);return t.join("")}function Fg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Fg(n,t)}}function Ug(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Bg(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Zh(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Vg(e){const t=[];return zg(e,r=>t.push(r)),new Uint8Array(t)}function qg(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>dd(i,r,n)),dd(null,r,n),t.join("")}function Hg(e){return Math.round(Date.now()/1e3)+e}function Wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},Bn=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function Gg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const ef=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fs(async()=>{const{default:n}=await Promise.resolve().then(()=>cn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Kg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ds=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ls=async(e,t)=>{await e.removeItem(t)};class ea{constructor(){this.promise=new ea.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ea.promiseConstructor=Promise;function Aa(e){const t=e.split(".");if(t.length!==3)throw new Un("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ag.test(t[n]))throw new Un("JWT not in base64url format");return{header:JSON.parse(ud(t[0])),payload:JSON.parse(ud(t[1])),signature:Bg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qg(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function Xg(e){return("0"+e.toString(16)).substr(-2)}function Yg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Xg).join("")}async function Zg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ex(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Zg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(e,t,r=!1){const n=Yg();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await tf(e,`${t}-code-verifier`,i);const a=await ex(n);return[a,n===a?"plain":"s256"]}const tx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rx(e){const t=e.headers.get(Ol);if(!t||!t.match(tx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ix=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pr(e){if(!ix.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ax=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lx=[502,503,504];async function hd(e){var t;if(!Kg(e))throw new Il(or(e),0);if(lx.includes(e.status))throw new Il(or(e),e.status);let r;try{r=await e.json()}catch(a){throw new Yh(or(a),a)}let n;const i=rx(e);if(i&&i.getTime()>=Xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new od(or(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new od(or(r),e.status,r.weak_password.reasons);throw new Og(or(r),e.status||500,n)}const ox=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function U(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Ol]||(a[Ol]=Xh["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await cx(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function cx(e,t,r,n,i,a){const l=ox(t,n,i,a);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Il(or(c),0)}if(o.ok||await hd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await hd(c)}}function gt(e){var t;let r=null;fx(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Hg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fd(e){const t=gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ft(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dx(e){return{data:e,error:null}}function ux(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=ax(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function hx(e){return e}function fx(e){return e.access_token&&e.refresh_token&&e.expires_in}const $a=["global","local","others"];var mx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class px{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ef(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=$a[0]){if($a.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$a.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=mx(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ux,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ft})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:hx});if(u.error)throw u.error;const m=await u.json(),h=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(p.split(";")[1].split("=")[1]);d[`${k}Page`]=b}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(z(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Pr(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ft})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pr(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pr(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pr(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pr(t.userId),Pr(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const gx={getItem:e=>Bn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bn()&&globalThis.localStorage.removeItem(e)}};function md(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function xx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tr={debug:!!(globalThis&&Bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yx extends rf{}async function vx(e,t,r){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xx();const wx={url:Pg,storageKey:Tg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pd(e,t,r){return await r()}class ls{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ls.nextInstanceID,ls.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},wx),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new px({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ef(i.fetch),this.lock=i.lock||pd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vx:this.lock=pd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Bn()?this.storage=gx:(this.memoryStorage={},this.storage=md(this.memoryStorage)):(this.memoryStorage={},this.storage=md(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Gg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Dg(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new Yh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gt}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:m,options:h}=t;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Er(this.storage,this.storageKey)),a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:p},xform:gt})}else if("phone"in t){const{phone:u,password:m,options:h}=t;a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gt})}else throw new Is("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fd})}else if("phone"in t){const{phone:a,password:l,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fd})}else throw new Is("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Os}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,l,o,c,d,u,m,h,g;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:k,wallet:y,statement:f,options:x}=t;let v;if(et())if(typeof y=="object")v=y;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))v=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=y}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const w=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let S;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")S=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)S=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const w=await v.signMessage(new TextEncoder().encode(p),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=w}}try{const{data:k,error:y}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:qg(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:gt});if(y)throw y;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Os}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:y})}catch(k){if(z(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Ds(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gt});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(z(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gt}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Os}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Er(this.storage,this.storageKey));const{error:m}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Is("You must provide either an email or phone number.")}catch(o){if(z(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:gt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Er(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:dx})}catch(a){if(z(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $t;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Is("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ta:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ft}):await this._useSession(async r=>{var n,i,a;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ft})})}catch(r){if(z(r))return Mg(r)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new $t;const l=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Er(this.storage,this.storageKey));const{data:d,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ft});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Aa(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $t;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!et())throw new Ms("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ms(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ld("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ms("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ld("No code detected.");const{data:f,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!a||!o||!l||!d)throw new Ms("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(o);let h=u+m;c&&(h=parseInt(c));const g=h-u;g*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const p=h-m;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:b,error:k}=await this._getUser(a);if(k)throw k;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:h,refresh_token:l,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(Ig(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Wg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Er(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(z(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,o,c,d,u;const{data:m,error:h}=a;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return et()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Qg(async i=>(i>0&&await Jg(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gt})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Ra(a)&&Date.now()+l-n<Rr})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ds(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ta;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ta}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Ra(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ea;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),z(a)){const l={session:null,error:a};return Ra(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ls(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Rr}ms, refresh threshold is ${$l} ticks`),i<=$l&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Er(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Aa(i.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+$g>Date.now()))return n;const{data:i,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Un("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(l=>l.kid===t),!n)throw new Un("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:p}=await this.getSession();if(p||!g.session)return{data:null,error:p};n=g.session.access_token}const{header:i,payload:a,signature:l,raw:{header:o,payload:c}}=Aa(n);if(nx(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:l},error:null}}const d=sx(i.alg),u=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,l,Vg(`${o}.${c}`)))throw new Un("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}ls.nextInstanceID=0;const jx=ls;class bx extends jx{constructor(t){super(t)}}var Nx=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class _x{constructor(t,r,n){var i,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Cg(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:vg,realtime:jg,auth:Object.assign(Object.assign({},wg),{storageKey:d}),global:yg},m=Eg(n??{},u);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=kg(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new U0(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new x0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Nx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:l,lock:o,debug:c},d,u){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bx({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kx=(e,t,r)=>new _x(e,t,r),Sx="https://jkmyflqzrmtvacpsgrxs.supabase.co",Cx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImprbXlmbHF6cm10dmFjcHNncnhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjAzNDMsImV4cCI6MjA2Njc5NjM0M30.i9T9hR0Ux7bX5-6i0wFFxqnktgvPi5a7vG4URrCkEUw",Ve=kx(Sx,Cx);function ir(e){const[t,r]=R.useState([]),[n,i]=R.useState(!0),[a,l]=R.useState(null),o=async()=>{try{i(!0);const{data:h,error:g}=await Ve.from(e).select("*").order("created_at",{ascending:!1});if(g)throw g;r(h||[])}catch(h){l(h instanceof Error?h.message:"Erro desconhecido")}finally{i(!1)}},c=async h=>{try{const{data:g,error:p}=await Ve.from(e).insert(h).select().single();if(p)throw p;return r(b=>[g,...b]),g}catch(g){throw l(g instanceof Error?g.message:"Erro ao inserir"),g}},d=async(h,g)=>{try{const{data:p,error:b}=await Ve.from(e).update(g).eq("id",h).select().single();if(b)throw b;return r(k=>k.map(y=>y.id===h?p:y)),p}catch(p){throw l(p instanceof Error?p.message:"Erro ao atualizar"),p}},u=async h=>{try{const{error:g}=await Ve.from(e).delete().eq("id",h);if(g)throw g;r(p=>p.filter(b=>b.id!==h))}catch(g){throw l(g instanceof Error?g.message:"Erro ao deletar"),g}},m=async()=>{try{const{error:h}=await Ve.from(e).delete().neq("id","00000000-0000-0000-0000-000000000000");if(h)throw h;r([])}catch(h){throw l(h instanceof Error?h.message:"Erro ao limpar dados"),h}};return R.useEffect(()=>{o()},[e]),{data:t,loading:n,error:a,fetchAll:o,insert:c,update:d,remove:u,clearAll:m,setError:l}}function Ex(){const[e,t]=R.useState([]),[r,n]=R.useState(!0),[i,a]=R.useState(null),l=async()=>{try{n(!0);const{data:g,error:p}=await Ve.from("customers").select(`
          *,
          level:customer_levels(*)
        `).order("created_at",{ascending:!1});if(p)throw p;t(g||[])}catch(g){a(g instanceof Error?g.message:"Erro ao buscar clientes")}finally{n(!1)}},o=async g=>{try{const{data:p,error:b}=await Ve.from("customers").insert({first_name:g.firstName,last_name:g.lastName,email:g.email,phone:g.phone,document:g.document,points:g.points||0,level_id:g.level.id,status:g.status,email_verified:g.emailVerified||!1,phone_verified:g.phoneVerified||!1,document_verified:g.documentVerified||!0}).select(`
          *,
          level:customer_levels(*)
        `).single();if(b)throw b;return t(k=>[p,...k]),p}catch(p){throw a(p instanceof Error?p.message:"Erro ao adicionar cliente"),p}},c=async(g,p)=>{try{const b={};p.firstName&&(b.first_name=p.firstName),p.lastName&&(b.last_name=p.lastName),p.email&&(b.email=p.email),p.phone&&(b.phone=p.phone),p.document&&(b.document=p.document),p.points!==void 0&&(b.points=p.points),p.level&&(b.level_id=p.level.id),p.status&&(b.status=p.status),p.emailVerified!==void 0&&(b.email_verified=p.emailVerified),p.phoneVerified!==void 0&&(b.phone_verified=p.phoneVerified),p.documentVerified!==void 0&&(b.document_verified=p.documentVerified);const{data:k,error:y}=await Ve.from("customers").update(b).eq("id",g).select(`
          *,
          level:customer_levels(*)
        `).single();if(y)throw y;return t(f=>f.map(x=>x.id===g?k:x)),k}catch(b){throw a(b instanceof Error?b.message:"Erro ao atualizar cliente"),b}},d=g=>{const p=g.replace(/[^\d]/g,"");return e.find(b=>b.document.replace(/[^\d]/g,"")===p)},u=g=>e.find(p=>p.email.toLowerCase()===g.toLowerCase()),m=g=>{const p=g.replace(/[^\d]/g,"");return e.find(b=>b.phone.replace(/[^\d]/g,"")===p)},h=async()=>{try{const{error:g}=await Ve.from("customers").delete().neq("id","00000000-0000-0000-0000-000000000000");if(g)throw g;t([])}catch(g){throw a(g instanceof Error?g.message:"Erro ao limpar clientes"),g}};return R.useEffect(()=>{l()},[]),{customers:e,loading:r,error:i,fetchCustomers:l,addCustomer:o,updateCustomer:c,findCustomerByDocument:d,findCustomerByEmail:u,findCustomerByPhone:m,clearCustomers:h,setError:a}}function Px(){const[e,t]=R.useState([]),[r,n]=R.useState(!0),[i,a]=R.useState(null),l=async()=>{try{n(!0);const{data:d,error:u}=await Ve.from("point_movements").select("*").order("created_at",{ascending:!1});if(u)throw u;t(d||[])}catch(d){a(d instanceof Error?d.message:"Erro ao buscar movimentaes")}finally{n(!1)}},o=async d=>{try{const{data:u,error:m}=await Ve.from("point_movements").insert({customer_id:d.customerId,customer_document:d.customerDocument,branch_id:d.branchId,type:d.type,points:d.points,description:d.description,date:d.date,reference:d.reference,coupon_code:d.couponCode}).select().single();if(m)throw m;return t(h=>[u,...h]),u}catch(u){throw a(u instanceof Error?u.message:"Erro ao adicionar movimentao"),u}},c=async()=>{try{const{error:d}=await Ve.from("point_movements").delete().neq("id","00000000-0000-0000-0000-000000000000");if(d)throw d;t([])}catch(d){throw a(d instanceof Error?d.message:"Erro ao limpar movimentaes"),d}};return R.useEffect(()=>{l()},[]),{movements:e,loading:r,error:i,fetchMovements:l,addMovement:o,clearMovements:c,setError:a}}const nf=R.createContext(void 0),ot=()=>{const e=R.useContext(nf);if(!e)throw new Error("useApp must be used within an AppProvider");return e},Tx=[{id:"550e8400-e29b-41d4-a716-446655440000",name:"Bronze",color:"#CD7F32",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}},{id:"550e8400-e29b-41d4-a716-446655440001",name:"Prata",color:"#C0C0C0",icon:"star",order:2,requirements:{minPoints:1e3,minPurchaseValue:500,timeframe:365},benefits:{pointsMultiplier:1.2,referralBonus:1.5,freeShipping:!0,exclusiveEvents:!1,customRewards:[]}},{id:"550e8400-e29b-41d4-a716-446655440002",name:"Ouro",color:"#FFD700",icon:"crown",order:3,requirements:{minPoints:5e3,minPurchaseValue:2e3,timeframe:365},benefits:{pointsMultiplier:1.5,referralBonus:2,freeShipping:!0,exclusiveEvents:!0,customRewards:[]}}],Rx=[{id:"550e8400-e29b-41d4-a716-446655440100",name:"Filial Centro",code:"FIL001",address:"Rua das Flores, 123 - Centro - So Paulo, SP",phone:"(11) 3333-4444",email:"centro@empresa.com",manager:"Joo Silva",isActive:!0,color:"#3B82F6",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"550e8400-e29b-41d4-a716-446655440101",name:"Filial Shopping",code:"FIL002",address:"Shopping Center, Loja 45 - Vila Madalena - So Paulo, SP",phone:"(11) 5555-6666",email:"shopping@empresa.com",manager:"Maria Santos",isActive:!0,color:"#10B981",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],Ax=e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0;for(let i=0;i<9;i++)r+=parseInt(t.charAt(i))*(10-i);let n=r*10%11;if((n===10||n===11)&&(n=0),n!==parseInt(t.charAt(9)))return!1;r=0;for(let i=0;i<10;i++)r+=parseInt(t.charAt(i))*(11-i);return n=r*10%11,(n===10||n===11)&&(n=0),n===parseInt(t.charAt(10))},bn=e=>e.replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),Nn=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,document:e.document,points:e.points,level:sf(e.level),status:e.status,registrationDate:e.registration_date,lastPurchase:e.last_purchase,address:e.address,preferences:e.preferences,emailVerified:e.email_verified,phoneVerified:e.phone_verified,documentVerified:e.document_verified}),sf=e=>({id:e.id,name:e.name,color:e.color,icon:e.icon,order:e.order_position,requirements:{minPoints:e.min_points,minPurchaseValue:e.min_purchase_value,timeframe:e.timeframe_days},benefits:{pointsMultiplier:e.points_multiplier,referralBonus:e.referral_bonus,freeShipping:e.free_shipping,exclusiveEvents:e.exclusive_events,customRewards:e.custom_rewards||[]}}),$x=e=>({id:e.id,customerId:e.customer_id,customerDocument:e.customer_document,branchId:e.branch_id,type:e.type,points:e.points,description:e.description,date:e.date,reference:e.reference,couponCode:e.coupon_code}),Ox=e=>({id:e.id,name:e.name,code:e.code,address:e.address,phone:e.phone,email:e.email,manager:e.manager,isActive:e.is_active,color:e.color,created_at:e.created_at,updated_at:e.updated_at}),Ix=({children:e})=>{const{customers:t,loading:r,error:n,addCustomer:i,updateCustomer:a,findCustomerByDocument:l,findCustomerByEmail:o,findCustomerByPhone:c,clearCustomers:d}=Ex(),{data:u,loading:m,error:h,insert:g,update:p,remove:b}=ir("customer_levels"),{movements:k,loading:y,error:f,addMovement:x,clearMovements:v}=Px(),{data:N,loading:w,error:S}=ir("rewards"),{data:j,loading:D,error:O}=ir("campaigns"),{data:H,loading:ce,error:P}=ir("referrals"),{data:G,loading:be,error:Xe,insert:Et,update:A,remove:L}=ir("referral_types"),{data:F,loading:Q,error:ne,insert:Pt,update:Ye,remove:rr}=ir("branches"),{data:T,loading:q,error:ge,update:un}=ir("settings"),gs=t.map(Nn),ta=u.length>0?u.map(sf):Tx,pf=k.map($x),gf=F.length>0?F.map(Ox):Rx,xf=N.map(_=>({id:_.id,name:_.name,description:_.description,pointsCost:_.points_cost,type:_.type,value:_.value,isActive:_.is_active,expirationDays:_.expiration_days,image:_.image_url,conditions:_.conditions})),yf=j.map(_=>({id:_.id,name:_.name,type:_.type,multiplier:_.multiplier,startDate:_.start_date,endDate:_.end_date,products:_.products,isActive:_.is_active,widget:_.widget})),vf=H.map(_=>({id:_.id,referrerId:_.referrer_id,referrerDocument:_.referrer_document,referredId:_.referred_id||"",referredDocument:_.referred_document||"",referredIdentifier:_.referred_identifier,referredIdentifierType:_.referred_identifier_type,referralTypeId:_.referral_type_id,status:_.status,date:_.date,method:_.method,validatedDate:_.validated_date,rejectedReason:_.rejected_reason,purchaseValue:_.purchase_value})),wf=G.map(_=>({id:_.id,name:_.name,description:_.description,icon:_.icon,color:_.color,isActive:_.is_active,methods:_.methods,referrerReward:_.referrer_reward,referredReward:_.referred_reward,conditions:_.conditions})),Tt=T[0]?{company:T[0].company,program:T[0].program,notifications:T[0].notifications,validation:T[0].validation,terms:T[0].terms}:{company:{name:"Loja Exemplo",website:"https://lojaexemplo.com",address:"Rua das Flores, 123 - So Paulo, SP"},program:{name:"Programa Fidelidade",primaryColor:"#3B82F6",secondaryColor:"#10B981",font:"Inter",pointsPerReal:1,minPurchaseValue:50,pointsExpiration:{enabled:!0,days:365,notifyDaysBefore:30}},notifications:{email:!0,whatsapp:!0,sms:!1},validation:{requireCpfValidation:!0,requireEmailVerification:!1,requirePhoneVerification:!1,allowDuplicateEmail:!1,allowDuplicatePhone:!0},terms:""},jf=r||m||y||w||D||ce||be||Q||q,bf=n||h||f||S||O||P||Xe||ne||ge,zo=_=>{const C=l(_);return C?Nn(C):void 0},Uo=_=>{const C=o(_);return C?Nn(C):void 0},Bo=_=>{const C=c(_);return C?Nn(C):void 0},Vo=(_,C,I)=>{const Rt=_.replace(/[^\d]/g,"");if(!Ax(Rt))return{document:bn(Rt),email:C,phone:I,isValid:!1,conflicts:{duplicateDocument:!1}};const pt={};let hn=!1;const qo=zo(Rt);if(qo&&(pt.duplicateDocument=!0,pt.existingCustomer=qo,hn=!0),C&&!Tt.validation.allowDuplicateEmail){const nr=Uo(C);nr&&nr.document!==bn(Rt)&&(pt.duplicateEmail=!0,pt.existingCustomer||(pt.existingCustomer=nr),hn=!0)}if(I&&!Tt.validation.allowDuplicatePhone){const nr=Bo(I);nr&&nr.document!==bn(Rt)&&(pt.duplicatePhone=!0,pt.existingCustomer||(pt.existingCustomer=nr),hn=!0)}return{document:bn(Rt),email:C,phone:I,isValid:!hn,conflicts:hn?pt:void 0}},Nf=async _=>{if(!Vo(_.document,_.email,_.phone).isValid)return null;try{const I=ta[0];if(!I)return console.error("Nenhum nvel disponvel para atribuir ao cliente"),null;const Rt=await i({..._,document:bn(_.document),level:I});return Nn(Rt)}catch(I){return console.error("Erro ao adicionar cliente:",I),null}},_f=async(_,C)=>{try{await a(_,C)}catch(I){console.error("Erro ao atualizar cliente:",I)}},kf=async _=>{try{if(!_.branchId)throw new Error("Filial  obrigatria para movimentaes");await x(_)}catch(C){throw console.error("Erro ao adicionar movimentao:",C),C}},Sf=async _=>{try{T[0]&&await un(T[0].id,{company:{...Tt.company,..._.company},program:{...Tt.program,..._.program},notifications:{...Tt.notifications,..._.notifications},validation:{...Tt.validation,..._.validation},terms:_.terms||Tt.terms})}catch(C){console.error("Erro ao atualizar configuraes:",C)}},Cf=async _=>{try{await g({name:_.name,color:_.color,icon:_.icon,order_position:_.order,min_points:_.requirements.minPoints,min_purchase_value:_.requirements.minPurchaseValue,timeframe_days:_.requirements.timeframe,points_multiplier:_.benefits.pointsMultiplier,referral_bonus:_.benefits.referralBonus,free_shipping:_.benefits.freeShipping,exclusive_events:_.benefits.exclusiveEvents,custom_rewards:_.benefits.customRewards})}catch(C){console.error("Erro ao adicionar nvel:",C)}},Ef=async(_,C)=>{try{const I={};C.name&&(I.name=C.name),C.color&&(I.color=C.color),C.icon&&(I.icon=C.icon),C.order&&(I.order_position=C.order),C.requirements&&(C.requirements.minPoints!==void 0&&(I.min_points=C.requirements.minPoints),C.requirements.minPurchaseValue!==void 0&&(I.min_purchase_value=C.requirements.minPurchaseValue),C.requirements.timeframe!==void 0&&(I.timeframe_days=C.requirements.timeframe)),C.benefits&&(C.benefits.pointsMultiplier!==void 0&&(I.points_multiplier=C.benefits.pointsMultiplier),C.benefits.referralBonus!==void 0&&(I.referral_bonus=C.benefits.referralBonus),C.benefits.freeShipping!==void 0&&(I.free_shipping=C.benefits.freeShipping),C.benefits.exclusiveEvents!==void 0&&(I.exclusive_events=C.benefits.exclusiveEvents),C.benefits.customRewards!==void 0&&(I.custom_rewards=C.benefits.customRewards)),await p(_,I)}catch(I){console.error("Erro ao atualizar nvel:",I)}},Pf=async _=>{const C=gs.filter(I=>I.level.id===_);if(C.length>0){alert(`No  possvel deletar este nvel pois h ${C.length} cliente(s) associado(s) a ele.`);return}if(ta.length<=1){alert("No  possvel deletar o ltimo nvel. Deve haver pelo menos um nvel ativo.");return}try{await b(_)}catch(I){console.error("Erro ao deletar nvel:",I)}},Tf=async _=>{try{await Pt({name:_.name,code:_.code,address:_.address,phone:_.phone,email:_.email,manager:_.manager,is_active:_.isActive,color:_.color})}catch(C){console.error("Erro ao adicionar filial:",C)}},Rf=async(_,C)=>{try{const I={};C.name&&(I.name=C.name),C.code&&(I.code=C.code),C.address&&(I.address=C.address),C.phone&&(I.phone=C.phone),C.email&&(I.email=C.email),C.manager&&(I.manager=C.manager),C.isActive!==void 0&&(I.is_active=C.isActive),C.color&&(I.color=C.color),await Ye(_,I)}catch(I){console.error("Erro ao atualizar filial:",I)}},Af=async _=>{try{await rr(_)}catch(C){console.error("Erro ao deletar filial:",C)}},$f=async _=>{try{await Et({name:_.name,description:_.description,icon:_.icon,color:_.color,is_active:_.isActive,methods:_.methods,referrer_reward:_.referrerReward,referred_reward:_.referredReward,conditions:_.conditions})}catch(C){console.error("Erro ao adicionar tipo de indicao:",C)}},Of=async(_,C)=>{try{const I={};C.name&&(I.name=C.name),C.description&&(I.description=C.description),C.icon&&(I.icon=C.icon),C.color&&(I.color=C.color),C.isActive!==void 0&&(I.is_active=C.isActive),C.methods&&(I.methods=C.methods),C.referrerReward&&(I.referrer_reward=C.referrerReward),C.referredReward&&(I.referred_reward=C.referredReward),C.conditions&&(I.conditions=C.conditions),await A(_,I)}catch(I){console.error("Erro ao atualizar tipo de indicao:",I)}},If=async _=>{try{await L(_)}catch(C){console.error("Erro ao deletar tipo de indicao:",C)}},Mf=async()=>{try{d&&await d(),v&&await v(),console.log("Todos os dados foram limpos com sucesso")}catch(_){console.error("Erro ao limpar dados:",_)}};return s.jsx(nf.Provider,{value:{customers:gs,levels:ta,movements:pf,rewards:xf,campaigns:yf,referrals:vf,referralTypes:wf,branches:gf,settings:Tt,loading:jf,error:bf,updateCustomer:_f,addMovement:kf,updateSettings:Sf,addReferralType:$f,updateReferralType:Of,deleteReferralType:If,validateCustomer:Vo,findCustomerByDocument:zo,findCustomerByEmail:Uo,findCustomerByPhone:Bo,addCustomer:Nf,addLevel:Cf,updateLevel:Ef,deleteLevel:Pf,addBranch:Tf,updateBranch:Rf,deleteBranch:Af,clearAllData:Mf},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const r=R.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>R.createElement("svg",{ref:u,...Mx,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Dx(e)}`,o].join(" "),...d},[...t.map(([m,h])=>R.createElement(m,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=M("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=M("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=M("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=M("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=M("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=M("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=M("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=M("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=M("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=M("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=M("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=M("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=M("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=M("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=M("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=M("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ty=({children:e,currentPage:t,onPageChange:r})=>{const[n,i]=R.useState(!1),a=[{id:"dashboard",label:"Dashboard",icon:mt},{id:"customers",label:"Clientes",icon:Ys},{id:"branches",label:"Filiais",icon:ki},{id:"levels",label:"Nveis",icon:Ge},{id:"movements",label:"Movimentos",icon:mt},{id:"rewards",label:"Recompensas",icon:Le},{id:"referrals",label:"Indicaes",icon:Vn},{id:"communication",label:"Comunicao",icon:Ti},{id:"objectives",label:"Objetivos",icon:Xs},{id:"settings",label:"Personalizao",icon:df}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-md bg-white shadow-md",children:n?s.jsx(jr,{size:24}):s.jsx(qx,{size:24})})}),s.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[s.jsxs("div",{className:"flex items-center justify-center h-16 bg-blue-600 text-white",children:[s.jsx(Le,{className:"w-8 h-8 mr-2"}),s.jsx("span",{className:"text-xl font-bold",children:"Cashback Pro"})]}),s.jsx("nav",{className:"mt-8",children:a.map(l=>{const o=l.icon;return s.jsxs("button",{onClick:()=>{r(l.id),i(!1)},className:`w-full flex items-center px-6 py-3 text-left transition-colors ${t===l.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(o,{className:"w-5 h-5 mr-3"}),l.label]},l.id)})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-20 lg:hidden",onClick:()=>i(!1)}),s.jsx("div",{className:"lg:ml-64 p-4 lg:p-8",children:e})]})},yd=()=>{const{customers:e,movements:t,rewards:r,referrals:n,clearAllData:i}=ot(),a=u=>`${u.firstName} ${u.lastName}`.trim(),l=[{title:"Total de Clientes",value:e.length.toString(),icon:Ys,color:"bg-blue-500",change:"+12%"},{title:"Pontos Ativos",value:e.reduce((u,m)=>u+m.points,0).toLocaleString(),icon:Ge,color:"bg-yellow-500",change:"+8%"},{title:"Resgates do Ms",value:t.filter(u=>u.type==="redeem").length.toString(),icon:Le,color:"bg-green-500",change:"+15%"},{title:"Indicaes",value:n.length.toString(),icon:Vn,color:"bg-purple-500",change:"+25%"}],o=t.slice(0,5),c=e.sort((u,m)=>m.points-u.points).slice(0,5),d=async()=>{if(confirm("Tem certeza que deseja limpar TODOS os dados de clientes e movimentaes? Esta ao no pode ser desfeita."))try{await i(),alert("Todos os dados foram limpos com sucesso!")}catch{alert("Erro ao limpar dados. Tente novamente.")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:d,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Limpar Dados"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ltima atualizao: ",new Date().toLocaleString("pt-BR")]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(u=>{const m=u.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:u.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.value})]}),s.jsx("div",{className:`${u.color} p-3 rounded-full`,children:s.jsx(m,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"mt-4 flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-green-600",children:u.change}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs ms anterior"})]})]},u.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Movimentaes Recentes"}),o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(u=>{const m=e.find(h=>h.id===u.customerId);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u.type==="earn"?"bg-green-100":"bg-red-100"}`,children:s.jsx(mt,{className:`w-5 h-5 ${u.type==="earn"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m?a(m):"Cliente no encontrado"}),s.jsx("p",{className:"text-sm text-gray-500",children:u.description})]})]}),s.jsxs("div",{className:`text-sm font-medium ${u.type==="earn"?"text-green-600":"text-red-600"}`,children:[u.type==="earn"?"+":"",u.points," pts"]})]},u.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Nenhuma movimentao encontrada"}),s.jsx("p",{className:"text-sm text-gray-400",children:"As movimentaes aparecero aqui quando criadas"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Top Clientes"}),c.length>0?s.jsx("div",{className:"space-y-4",children:c.map((u,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Pn,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:a(u)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Nvel ",u.level.name]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.points.toLocaleString()," pts"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["#",m+1]})]})]},u.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ys,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum cliente encontrado"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Os clientes aparecero aqui quando cadastrados"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Aes Rpidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Ys,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Adicionar Cliente"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(Le,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nova Recompensa"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[s.jsx(mt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registrar Pontos"})]})]})]})]})},Ia=[{code:"+55",country:"Brasil",flag:""},{code:"+1",country:"Estados Unidos",flag:""},{code:"+1",country:"Canad",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+56",country:"Chile",flag:""},{code:"+57",country:"Colmbia",flag:""},{code:"+51",country:"Peru",flag:""},{code:"+598",country:"Uruguai",flag:""},{code:"+595",country:"Paraguai",flag:""},{code:"+591",country:"Bolvia",flag:""},{code:"+593",country:"Equador",flag:""},{code:"+58",country:"Venezuela",flag:""},{code:"+33",country:"Frana",flag:""},{code:"+49",country:"Alemanha",flag:""},{code:"+39",country:"Itlia",flag:""},{code:"+34",country:"Espanha",flag:""},{code:"+351",country:"Portugal",flag:""},{code:"+44",country:"Reino Unido",flag:""},{code:"+81",country:"Japo",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"ndia",flag:""},{code:"+61",country:"Austrlia",flag:""}],hf={Norte:[{ddd:"68",city:"Rio Branco",state:"AC"},{ddd:"82",city:"Macei",state:"AL"},{ddd:"96",city:"Macap",state:"AP"},{ddd:"92",city:"Manaus",state:"AM"},{ddd:"97",city:"Manaus Interior",state:"AM"},{ddd:"71",city:"Salvador",state:"BA"},{ddd:"73",city:"Ilhus",state:"BA"},{ddd:"74",city:"Juazeiro",state:"BA"},{ddd:"75",city:"Feira de Santana",state:"BA"},{ddd:"77",city:"Barreiras",state:"BA"},{ddd:"85",city:"Fortaleza",state:"CE"},{ddd:"88",city:"Juazeiro do Norte",state:"CE"},{ddd:"61",city:"Braslia",state:"DF"},{ddd:"27",city:"Vitria",state:"ES"},{ddd:"28",city:"Cachoeiro de Itapemirim",state:"ES"},{ddd:"62",city:"Goinia",state:"GO"},{ddd:"64",city:"Rio Verde",state:"GO"},{ddd:"98",city:"So Lus",state:"MA"},{ddd:"99",city:"Imperatriz",state:"MA"},{ddd:"65",city:"Cuiab",state:"MT"},{ddd:"66",city:"Rondonpolis",state:"MT"},{ddd:"67",city:"Campo Grande",state:"MS"},{ddd:"31",city:"Belo Horizonte",state:"MG"},{ddd:"32",city:"Juiz de Fora",state:"MG"},{ddd:"33",city:"Governador Valadares",state:"MG"},{ddd:"34",city:"Uberlndia",state:"MG"},{ddd:"35",city:"Poos de Caldas",state:"MG"},{ddd:"37",city:"Divinpolis",state:"MG"},{ddd:"38",city:"Montes Claros",state:"MG"},{ddd:"91",city:"Belm",state:"PA"},{ddd:"93",city:"Santarm",state:"PA"},{ddd:"94",city:"Marab",state:"PA"},{ddd:"83",city:"Joo Pessoa",state:"PB"},{ddd:"81",city:"Recife",state:"PE"},{ddd:"87",city:"Petrolina",state:"PE"},{ddd:"86",city:"Teresina",state:"PI"},{ddd:"89",city:"Picos",state:"PI"},{ddd:"41",city:"Curitiba",state:"PR"},{ddd:"42",city:"Ponta Grossa",state:"PR"},{ddd:"43",city:"Londrina",state:"PR"},{ddd:"44",city:"Maring",state:"PR"},{ddd:"45",city:"Cascavel",state:"PR"},{ddd:"46",city:"Francisco Beltro",state:"PR"},{ddd:"21",city:"Rio de Janeiro",state:"RJ"},{ddd:"22",city:"Campos dos Goytacazes",state:"RJ"},{ddd:"24",city:"Volta Redonda",state:"RJ"},{ddd:"84",city:"Natal",state:"RN"},{ddd:"69",city:"Porto Velho",state:"RO"},{ddd:"95",city:"Boa Vista",state:"RR"},{ddd:"51",city:"Porto Alegre",state:"RS"},{ddd:"53",city:"Pelotas",state:"RS"},{ddd:"54",city:"Caxias do Sul",state:"RS"},{ddd:"55",city:"Santa Maria",state:"RS"},{ddd:"48",city:"Florianpolis",state:"SC"},{ddd:"47",city:"Joinville",state:"SC"},{ddd:"49",city:"Chapec",state:"SC"},{ddd:"79",city:"Aracaju",state:"SE"},{ddd:"11",city:"So Paulo",state:"SP"},{ddd:"12",city:"So Jos dos Campos",state:"SP"},{ddd:"13",city:"Santos",state:"SP"},{ddd:"14",city:"Bauru",state:"SP"},{ddd:"15",city:"Sorocaba",state:"SP"},{ddd:"16",city:"Ribeiro Preto",state:"SP"},{ddd:"17",city:"So Jos do Rio Preto",state:"SP"},{ddd:"18",city:"Presidente Prudente",state:"SP"},{ddd:"19",city:"Campinas",state:"SP"},{ddd:"63",city:"Palmas",state:"TO"}]},ry=e=>hf.Norte.map(r=>r.ddd).includes(e),ff=e=>hf.Norte.find(t=>t.ddd===e),ny=e=>{const t=e.replace(/[^\d]/g,"");return t.length===9&&t.startsWith("9")},sy=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");return n.length===9?`${e} ${t} ${n.substring(0,5)}-${n.substring(5)}`:n.length===8?`${e} ${t} ${n.substring(0,4)}-${n.substring(4)}`:`${e} ${t} ${n}`},iy=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");if(e==="+55"){const i=ry(t),a=ny(n),l=ff(t);return{isValid:i&&a,formatted:i&&a?sy(e,t,n):"",errors:{invalidDDD:!i,invalidMobile:!a,requiresNineDigits:n.length!==9,mustStartWithNine:!n.startsWith("9")},areaInfo:l}}else{const i=n.length>=8&&n.length<=15;return{isValid:i,formatted:i?`${e} ${n}`:"",errors:{invalidLength:!i},areaInfo:null}}},mf=({value:e,onChange:t,error:r,placeholder:n="+55 11 99999-9999",className:i=""})=>{var v;const[a,l]=R.useState(Ia[0]),[o,c]=R.useState(!1),[d,u]=R.useState(""),[m,h]=R.useState(""),[g,p]=R.useState(null);R.useEffect(()=>{if(e){const N=e.match(/^(\+\d{1,4})\s(\d{2})\s(.+)$/);if(N){const[,w,S,j]=N,D=Ia.find(O=>O.code===w);D&&(l(D),u(S),h(j.replace(/[^\d]/g,"")))}}},[]),R.useEffect(()=>{if(d&&m){const N=iy(a.code,d,m);p(N),N.isValid&&t(N.formatted)}},[a,d,m,t]);const b=N=>{const w=N.replace(/[^\d]/g,"").substring(0,2);u(w)},k=N=>{let w=N.replace(/[^\d]/g,"");a.code==="+55"?w=w.substring(0,9):w=w.substring(0,15),h(w)},y=N=>a.code==="+55"&&N.length>=5?`${N.substring(0,5)}-${N.substring(5)}`:N,x=a.code==="+55"&&d?ff(d):null;return s.jsxs("div",{className:`relative ${i}`,children:[s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>c(!o),className:"flex items-center px-3 py-2 border border-r-0 border-gray-300 rounded-l-lg bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("span",{className:"mr-2",children:a.flag}),s.jsx("span",{className:"text-sm font-medium",children:a.code}),s.jsx(zx,{className:"w-4 h-4 ml-1 text-gray-400"})]}),o&&s.jsx("div",{className:"absolute top-full left-0 z-50 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ia.map(N=>s.jsxs("button",{type:"button",onClick:()=>{l(N),c(!1),u(""),h("")},className:"flex items-center w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[s.jsx("span",{className:"mr-3",children:N.flag}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:N.country}),s.jsx("div",{className:"text-xs text-gray-500",children:N.code})]}),a.code===N.code&&a.country===N.country&&s.jsx(Qr,{className:"w-4 h-4 text-blue-600"})]},`${N.code}-${N.country}`))})]}),a.code==="+55"&&s.jsx("input",{type:"text",value:d,onChange:N=>b(N.target.value),placeholder:"11",maxLength:2,className:`w-16 px-2 py-2 border-t border-b border-gray-300 text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${(v=g==null?void 0:g.errors)!=null&&v.invalidDDD?"border-red-300 bg-red-50":""}`}),s.jsx("input",{type:"text",value:y(m),onChange:N=>k(N.target.value),placeholder:a.code==="+55"?"99999-9999":"999999999",className:`flex-1 px-3 py-2 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${g&&!g.isValid?"border-red-300 bg-red-50":""}`})]}),x&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),x.city," - ",x.state]}),g&&!g.isValid&&s.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ml,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:a.code==="+55"?s.jsxs(s.Fragment,{children:[g.errors.invalidDDD&&"DDD invlido. ",g.errors.requiresNineDigits&&"Celular deve ter 9 dgitos. ",g.errors.mustStartWithNine&&"Celular deve comear com 9. "]}):g.errors.invalidLength&&"Nmero deve ter entre 8 e 15 dgitos."})]})}),(g==null?void 0:g.isValid)&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Nmero vlido: ",g.formatted]}),r&&s.jsxs("div",{className:"mt-1 text-xs text-red-600 flex items-center",children:[s.jsx(Ml,{className:"w-3 h-3 mr-1"}),r]}),o&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)})]})},ay=({customer:e,onBack:t})=>{const{movements:r,levels:n,updateCustomer:i,addMovement:a}=ot(),[l,o]=R.useState(!1),[c,d]=R.useState(e),[u,m]=R.useState(0),[h,g]=R.useState(""),p=r.filter(v=>v.customerId===e.id),b=v=>`${v.firstName} ${v.lastName}`.trim(),k=()=>{i(e.id,c),o(!1)},y=()=>{if(u&&h){const v={customerId:e.id,customerDocument:e.document,type:"admin_adjust",points:u,description:h,date:new Date().toISOString().split("T")[0]};a(v),i(e.id,{points:e.points+u}),m(0),g("")}},f=v=>{const w=v?`ONLINE-${Date.now()}`:void 0,S={customerId:e.id,customerDocument:e.document,type:"redeem",points:-100,description:`Resgate ${v?"online":"offline"}: Desconto R$ 10,00`,date:new Date().toISOString().split("T")[0],couponCode:w};a(S),i(e.id,{points:e.points-100})},x=v=>{const N=v.replace(/[^\d]/g,"");let w=N;N.length>=4&&(w=N.replace(/(\d{3})(\d{1,3})/,"$1.$2")),N.length>=7&&(w=N.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),N.length>=10&&(w=N.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),d({...c,document:w})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:t,className:"mr-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Lx,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Detalhes do Cliente"})]}),s.jsxs("button",{onClick:()=>o(!l),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(We,{className:"w-4 h-4 mr-2"}),l?"Cancelar":"Editar"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:c.firstName,onChange:v=>d({...c,firstName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),s.jsx("input",{type:"text",value:c.lastName,onChange:v=>d({...c,lastName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Sobrenome"})]})]}),s.jsx("input",{type:"email",value:c.email,onChange:v=>d({...c,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Email"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx(mf,{value:c.phone,onChange:v=>d({...c,phone:v})})]}),s.jsx("input",{type:"text",value:c.document,onChange:v=>x(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF",maxLength:14}),s.jsx("button",{onClick:k,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Salvar Alteraes"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b(e)}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fo,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lo,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.document})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Saldo de Pontos"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"w-8 h-8 text-yellow-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.points.toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-500",children:"pontos disponveis"})]})]}),s.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Status"}),s.jsxs("select",{value:e.status,onChange:v=>i(e.id,{status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"inactive",children:"Inativo"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nvel"}),s.jsx("select",{value:e.level.id,onChange:v=>{const N=n.find(w=>w.id===v.target.value);N&&i(e.id,{level:N})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:n.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gerenciar Pontos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:u,onChange:v=>m(Number(v.target.value)),placeholder:"Pontos",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:h,onChange:v=>g(v.target.value),placeholder:"Motivo",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{onClick:y,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Pontos"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resgatar Recompensa"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>f(!0),className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Resgate Online"}),s.jsx("button",{onClick:()=>f(!1),className:"bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Resgate Offline"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Histrico de Pontos"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:p.map(v=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${v.type==="earn"?"bg-green-100":v.type==="redeem"?"bg-red-100":v.type==="admin_adjust"?"bg-blue-100":"bg-gray-100"}`,children:[v.type==="earn"&&s.jsx(mt,{className:"w-4 h-4 text-green-600"}),v.type==="redeem"&&s.jsx(Le,{className:"w-4 h-4 text-red-600"}),v.type==="admin_adjust"&&s.jsx(We,{className:"w-4 h-4 text-blue-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.date).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:`text-sm font-semibold ${v.points>0?"text-green-600":"text-red-600"}`,children:[v.points>0?"+":"",v.points," pts"]})]}),v.couponCode&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Cupom: ",v.couponCode]})]})]},v.id))})]})]})]})},ly=()=>{var S,j,D,O,H,ce;const{customers:e,validateCustomer:t,addCustomer:r,levels:n}=ot(),[i,a]=R.useState(""),[l,o]=R.useState("all"),[c,d]=R.useState(null),[u,m]=R.useState(!1),[h,g]=R.useState({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),[p,b]=R.useState(null),k=P=>`${P.firstName} ${P.lastName}`.trim(),y=e.filter(P=>{const be=k(P).toLowerCase().includes(i.toLowerCase())||P.email.toLowerCase().includes(i.toLowerCase())||P.document.includes(i),Xe=l==="all"||P.status===l;return be&&Xe}),f=P=>{const G=P.replace(/[^\d]/g,"");let be=G;if(G.length>=4&&(be=G.replace(/(\d{3})(\d{1,3})/,"$1.$2")),G.length>=7&&(be=G.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),G.length>=10&&(be=G.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),g({...h,document:be}),G.length===11){const Xe=t(G,h.email,h.phone);b(Xe)}else b(null)},x=P=>{if(g({...h,email:P}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,P,h.phone);b(G)}},v=P=>{if(g({...h,phone:P}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,h.email,P);b(G)}},N=()=>{if(!(p!=null&&p.isValid))return;const P={...h,level:n[0],registrationDate:new Date().toISOString().split("T")[0],emailVerified:!1,phoneVerified:!1,documentVerified:!0};r(P)&&(m(!1),g({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),b(null))},w=P=>{const be=[P.documentVerified,P.emailVerified,P.phoneVerified].filter(Boolean).length;return be===3?s.jsx(Si,{className:"w-4 h-4 text-green-600"}):be>=1?s.jsx(Ml,{className:"w-4 h-4 text-yellow-600"}):s.jsx(ey,{className:"w-4 h-4 text-red-600"})};return c?s.jsx(ay,{customer:c,onBack:()=>d(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clientes"}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou CPF...",value:i,onChange:P=>a(P.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:P=>o(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"inactive",children:"Inativo"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPF"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verificao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nvel"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima Compra"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[P.firstName.charAt(0),P.lastName.charAt(0)]})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k(P)}),s.jsx("div",{className:"text-sm text-gray-500",children:P.email}),s.jsx("div",{className:"text-sm text-gray-500",children:P.phone})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.document})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[w(P),s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsxs("div",{className:P.documentVerified?"text-green-600":"text-red-600",children:["CPF: ",P.documentVerified?"Verificado":"Pendente"]}),s.jsxs("div",{className:P.emailVerified?"text-green-600":"text-red-600",children:["Email: ",P.emailVerified?"Verificado":"Pendente"]}),s.jsxs("div",{className:P.phoneVerified?"text-green-600":"text-red-600",children:["Tel: ",P.phoneVerified?"Verificado":"Pendente"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.points.toLocaleString()})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:P.level.color+"20",color:P.level.color},children:P.level.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="active"?"Ativo":"Inativo"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.lastPurchase?new Date(P.lastPurchase).toLocaleDateString("pt-BR"):"Nunca"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>d(P),className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(Hx,{className:"w-4 h-4"})})]})]},P.id))})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(mt,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clientes Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(P=>P.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Si,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Totalmente Verificados"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(P=>P.documentVerified&&P.emailVerified&&P.phoneVerified).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Ge,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Totais"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((P,G)=>P+G.points,0).toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Le,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Mdia de Pontos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Math.round(e.reduce((P,G)=>P+G.points,0)/e.length).toLocaleString()})]})]})})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Cliente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:h.firstName,onChange:P=>g({...h,firstName:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Joo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),s.jsx("input",{type:"text",value:h.lastName,onChange:P=>g({...h,lastName:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Silva"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF (Chave Primria)"}),s.jsx("input",{type:"text",value:h.document,onChange:P=>f(P.target.value),placeholder:"000.000.000-00",maxLength:14,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p&&!p.isValid?"border-red-300":"border-gray-300"}`}),p&&!p.isValid&&s.jsxs("div",{className:"mt-1 text-sm text-red-600",children:[((S=p.conflicts)==null?void 0:S.duplicateDocument)&&"CPF j cadastrado",!((j=p.conflicts)!=null&&j.duplicateDocument)&&"CPF invlido"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Chave Secundria)"}),s.jsx("input",{type:"email",value:h.email,onChange:P=>x(P.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${(D=p==null?void 0:p.conflicts)!=null&&D.duplicateEmail?"border-red-300":"border-gray-300"}`,placeholder:"joao@email.com"}),((O=p==null?void 0:p.conflicts)==null?void 0:O.duplicateEmail)&&s.jsx("div",{className:"mt-1 text-sm text-red-600",children:"Email j cadastrado para outro CPF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone Celular (Chave Secundria)"}),s.jsx(mf,{value:h.phone,onChange:v,placeholder:"+55 85 99999-9999",error:(H=p==null?void 0:p.conflicts)!=null&&H.duplicatePhone?"Telefone j cadastrado para outro CPF":void 0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Iniciais"}),s.jsx("input",{type:"number",value:h.points,onChange:P=>g({...h,points:Number(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),((ce=p==null?void 0:p.conflicts)==null?void 0:ce.existingCustomer)&&s.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cliente Existente Encontrado:"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:[k(p.conflicts.existingCustomer)," - ",p.conflicts.existingCustomer.document]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{m(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:N,disabled:!(p!=null&&p.isValid),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Adicionar Cliente"})]})]})})]})},oy=()=>{const{branches:e,addBranch:t,updateBranch:r,deleteBranch:n}=ot(),[i,a]=R.useState(!1),[l,o]=R.useState(null),[c,d]=R.useState({name:"",code:"",address:"",phone:"",email:"",manager:"",isActive:!0,color:"#3B82F6"}),u=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],m=()=>{d({name:"",code:"",address:"",phone:"",email:"",manager:"",isActive:!0,color:"#3B82F6"})},h=f=>{f?(o(f),d({name:f.name,code:f.code,address:f.address,phone:f.phone,email:f.email,manager:f.manager,isActive:f.isActive,color:f.color})):(o(null),m()),a(!0)},g=()=>{a(!1),o(null),m()},p=f=>{if(f.preventDefault(),!c.name.trim()||!c.code.trim()){alert("Nome e cdigo da filial so obrigatrios");return}l?r(l.id,c):t(c),g()},b=f=>{confirm(`Tem certeza que deseja deletar a filial "${f.name}"?`)&&n(f.id)},k=f=>{const x=f.replace(/\D/g,"");return x.length===11?x.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):x.length===10?x.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):f},y=f=>{const x=k(f);d({...c,phone:x})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Filiais"}),s.jsxs("button",{onClick:()=>h(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Nova Filial"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ki,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Filiais"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ei,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filiais Ativas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(f=>f.isActive).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Ci,{className:"w-5 h-5 text-red-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filiais Inativas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(f=>!f.isActive).length})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:f.color+"20"},children:s.jsx(ki,{className:"w-6 h-6",style:{color:f.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-500",children:f.code})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f.isActive?s.jsx(Ei,{className:"w-4 h-4 text-green-600"}):s.jsx(Ci,{className:"w-4 h-4 text-gray-400"}),s.jsx("button",{onClick:()=>h(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(f),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(wr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(lf,{className:"w-4 h-4 text-gray-400 mr-2 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.address})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fo,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pi,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.email})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ri,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.manager})]}),s.jsx("div",{className:"pt-2",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.isActive?"Ativa":"Inativa"})})]})]},f.id))}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Filial":"Nova Filial"}),s.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(jr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Filial"}),s.jsx("input",{type:"text",value:c.name,onChange:f=>d({...c,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Filial Centro",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo"}),s.jsx("input",{type:"text",value:c.code,onChange:f=>d({...c,code:f.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: FIL001",maxLength:10,required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo"}),s.jsx("input",{type:"text",value:c.address,onChange:f=>d({...c,address:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Rua, nmero, bairro, cidade",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"text",value:c.phone,onChange:f=>y(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:c.email,onChange:f=>d({...c,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"filial@empresa.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gerente"}),s.jsx("input",{type:"text",value:c.manager,onChange:f=>d({...c,manager:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do gerente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Identificao"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(f=>s.jsx("button",{type:"button",onClick:()=>d({...c,color:f}),className:`w-10 h-10 rounded-full border-2 transition-all ${c.color===f?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:f}},f))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:f=>d({...c,isActive:f.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Filial ativa"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Filial"]})]})]})]})})]})},cy=()=>{const{levels:e,addLevel:t,updateLevel:r,deleteLevel:n}=ot(),[i,a]=R.useState(!1),[l,o]=R.useState(null),[c,d]=R.useState({name:"",color:"#3B82F6",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),[u,m]=R.useState(""),h={award:Pn,star:Ge,crown:Dl,trophy:xd,gem:gd},g=[{value:"award",label:"Prmio",icon:Pn},{value:"star",label:"Estrela",icon:Ge},{value:"crown",label:"Coroa",icon:Dl},{value:"trophy",label:"Trofu",icon:xd},{value:"gem",label:"Gema",icon:gd}],p=["#CD7F32","#C0C0C0","#FFD700","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899"],b=()=>{d({name:"",color:"#3B82F6",icon:"award",order:e.length+1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),m("")},k=w=>{w?(o(w),d({name:w.name,color:w.color,icon:w.icon,order:w.order,requirements:w.requirements,benefits:w.benefits})):(o(null),b()),a(!0)},y=()=>{a(!1),o(null),b()},f=w=>{if(w.preventDefault(),!c.name.trim()){alert("Nome do nvel  obrigatrio");return}const S={...c,requirements:{minPoints:c.requirements.minPoints||void 0,minPurchaseValue:c.requirements.minPurchaseValue||void 0,timeframe:c.requirements.timeframe||void 0}};l?r(l.id,S):t(S),y()},x=()=>{u.trim()&&(d({...c,benefits:{...c.benefits,customRewards:[...c.benefits.customRewards,u.trim()]}}),m(""))},v=w=>{d({...c,benefits:{...c.benefits,customRewards:c.benefits.customRewards.filter((S,j)=>j!==w)}})},N=w=>{confirm(`Tem certeza que deseja deletar o nvel "${w.name}"?`)&&n(w.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nveis de Clientes"}),s.jsxs("button",{onClick:()=>k(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Novo Nvel"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>{var j;const S=h[w.icon]||Pn;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:w.color+"20"},children:s.jsx(S,{className:"w-6 h-6",style:{color:w.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Ordem: ",w.order]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>k(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(w),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(wr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Mnimo: ",((j=w.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),w.requirements.minPurchaseValue&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Compra mnima: R$ ",w.requirements.minPurchaseValue.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Benefcios"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("li",{children:[" ",w.benefits.pointsMultiplier,"x pontos em compras"]}),s.jsxs("li",{children:[" ",w.benefits.referralBonus,"x pontos em indicaes"]}),w.benefits.freeShipping&&s.jsx("li",{children:" Frete grtis"}),w.benefits.exclusiveEvents&&s.jsx("li",{children:" Eventos exclusivos"}),w.benefits.customRewards.map((D,O)=>s.jsxs("li",{children:[" ",D]},O))]})]})]})]},w.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resumo dos Nveis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nvel"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requisitos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Multiplicador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benefcios"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(w=>{var j;const S=h[w.icon]||Pn;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:w.color+"20"},children:s.jsx(S,{className:"w-4 h-4",style:{color:w.color}})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Ordem ",w.order]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((j=w.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[w.benefits.pointsMultiplier,"x"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.benefits.freeShipping&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Frete grtis"}),w.benefits.exclusiveEvents&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Eventos"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>k(w),className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(w),className:"text-red-600 hover:text-red-900",children:s.jsx(wr,{className:"w-4 h-4"})})]})]},w.id)})})]})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Nvel":"Novo Nvel"}),s.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(jr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Nvel"}),s.jsx("input",{type:"text",value:c.name,onChange:w=>d({...c,name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Bronze, Prata, Ouro",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem"}),s.jsx("input",{type:"number",value:c.order,onChange:w=>d({...c,order:Number(w.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"cone"}),s.jsx("div",{className:"grid grid-cols-5 gap-3",children:g.map(w=>{const S=w.icon;return s.jsxs("button",{type:"button",onClick:()=>d({...c,icon:w.value}),className:`p-3 border-2 rounded-lg flex flex-col items-center justify-center transition-colors ${c.icon===w.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(S,{className:"w-6 h-6 mb-1"}),s.jsx("span",{className:"text-xs",children:w.label})]},w.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(w=>s.jsx("button",{type:"button",onClick:()=>d({...c,color:w}),className:`w-10 h-10 rounded-full border-2 transition-all ${c.color===w?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:w}},w))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Requisitos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Mnimos"}),s.jsx("input",{type:"number",value:c.requirements.minPoints||"",onChange:w=>d({...c,requirements:{...c.requirements,minPoints:Number(w.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mnima (R$)"}),s.jsx("input",{type:"number",value:c.requirements.minPurchaseValue||"",onChange:w=>d({...c,requirements:{...c.requirements,minPurchaseValue:Number(w.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo (dias)"}),s.jsx("input",{type:"number",value:c.requirements.timeframe||"",onChange:w=>d({...c,requirements:{...c.requirements,timeframe:Number(w.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Benefcios"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Multiplicador de Pontos"}),s.jsx("input",{type:"number",value:c.benefits.pointsMultiplier,onChange:w=>d({...c,benefits:{...c.benefits,pointsMultiplier:Number(w.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bnus de Indicao"}),s.jsx("input",{type:"number",value:c.benefits.referralBonus,onChange:w=>d({...c,benefits:{...c.benefits,referralBonus:Number(w.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"freeShipping",checked:c.benefits.freeShipping,onChange:w=>d({...c,benefits:{...c.benefits,freeShipping:w.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"freeShipping",className:"ml-2 block text-sm text-gray-900",children:"Frete grtis"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"exclusiveEvents",checked:c.benefits.exclusiveEvents,onChange:w=>d({...c,benefits:{...c.benefits,exclusiveEvents:w.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"exclusiveEvents",className:"ml-2 block text-sm text-gray-900",children:"Eventos exclusivos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recompensas Personalizadas"}),s.jsxs("div",{className:"space-y-2",children:[c.benefits.customRewards.map((w,S)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:w}),s.jsx("button",{type:"button",onClick:()=>v(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(jr,{className:"w-4 h-4"})})]},S)),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:u,onChange:w=>m(w.target.value),placeholder:"Digite uma recompensa personalizada",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),x())}}),s.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Nvel"]})]})]})]})})]})},dy=({customer:e,movement:t,onClose:r})=>{const{settings:n}=ot(),i=c=>`${c.firstName} ${c.lastName}`.trim(),a=c=>new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=()=>{window.print()},o=({viaNumber:c})=>s.jsxs("div",{className:"receipt-content bg-white p-6 border border-gray-300 rounded-lg mb-4",children:[s.jsxs("div",{className:"text-center border-b border-gray-200 pb-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(Le,{className:"w-8 h-8 text-blue-600 mr-2"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.company.name})]}),s.jsx("p",{className:"text-sm text-gray-600",children:n.program.name}),s.jsx("p",{className:"text-xs text-gray-500",children:n.company.website}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s.jsxs("strong",{children:["COMPROVANTE DE RESGATE - ",c," VIA"]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Ri,{className:"w-4 h-4 mr-1"}),"Dados do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nome:"})," ",i(e)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CPF:"})," ",e.document]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Telefone:"})," ",e.phone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nvel:"}),s.jsx("span",{className:"ml-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Pontos Disponveis:"})," ",e.points.toLocaleString()]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Le,{className:"w-4 h-4 mr-1"}),"Detalhes do Resgate"]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Descrio:"})," ",t.description]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Pontos Resgatados:"}),s.jsxs("span",{className:"text-red-600 font-bold",children:[Math.abs(t.points)," pontos"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data/Hora:"})," ",a(t.date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Referncia:"})," ",t.reference||"N/A"]}),t.couponCode&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Cdigo do Cupom:"}),s.jsx("span",{className:"ml-1 px-2 py-1 bg-blue-100 text-blue-800 rounded font-mono text-sm",children:t.couponCode})]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Ge,{className:"w-4 h-4 mr-1"}),"Saldo Atualizado"]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Saldo atual de pontos:"}),s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(e.points+t.points).toLocaleString()," pontos"]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Lo,{className:"w-4 h-4 mr-1"}),"Informaes Importantes"]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsx("p",{children:" Este comprovante  vlido como prova de resgate de pontos"}),s.jsx("p",{children:" Guarde este comprovante para seus registros"}),s.jsx("p",{children:" Em caso de dvidas, entre em contato conosco"}),t.couponCode&&s.jsx("p",{children:" O cdigo do cupom deve ser apresentado no momento da compra"}),n.program.pointsExpiration.enabled&&s.jsxs("p",{children:[" Pontos expiram em ",n.program.pointsExpiration.days," dias"]})]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 text-center",children:s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsx("p",{children:n.company.address}),s.jsxs("p",{className:"mt-1",children:[s.jsx("span",{className:"font-medium",children:"Data de Emisso:"})," ",a(new Date().toISOString())]}),s.jsx("p",{className:"mt-2 text-xs",children:s.jsx("strong",{children:"Obrigado por participar do nosso programa de fidelidade!"})})]})})]});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"no-print flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comprovante de Resgate"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Imprimir"]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(jr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(o,{viaNumber:1}),s.jsx("div",{className:"print-only border-t-2 border-dashed border-gray-400 my-4 page-break"}),s.jsx(o,{viaNumber:2})]})]})})};function uy(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=new Uint8Array(e);return crypto.getRandomValues(r),Array.from(r,n=>t[n%t.length]).join("")}function vd(e="online"){const t=Date.now().toString(36).toUpperCase(),r=uy(6);return`${e==="online"?"ON":"OF"}-${t}-${r}`}const hy=()=>{const{movements:e,customers:t,branches:r,addMovement:n,updateCustomer:i,findCustomerByDocument:a}=ot(),[l,o]=R.useState(""),[c,d]=R.useState("all"),[u,m]=R.useState(!1),[h,g]=R.useState(null),[p,b]=R.useState(""),[k,y]=R.useState(null),[f,x]=R.useState(null),[v,N]=R.useState({type:"earn",points:0,description:"",reference:"",couponCode:""}),[w,S]=R.useState(!1),[j,D]=R.useState(null),O=T=>`${T.firstName} ${T.lastName}`.trim(),H=e.filter(T=>{const q=t.find(gs=>gs.id===T.customerId),ge=q&&O(q).toLowerCase().includes(l.toLowerCase())||T.description.toLowerCase().includes(l.toLowerCase()),un=c==="all"||T.type===c;return ge&&un}),ce=T=>{const q=T.replace(/[^\d]/g,"");let ge=q;if(q.length>=4&&(ge=q.replace(/(\d{3})(\d{1,3})/,"$1.$2")),q.length>=7&&(ge=q.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),q.length>=10&&(ge=q.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),b(ge),q.length===11){const un=a(q);y(un||null)}else y(null)},P=()=>{b(""),y(null),x(null),N({type:"earn",points:0,description:"",reference:"",couponCode:""})},G=()=>{g("add_points"),N({type:"earn",points:0,description:"",reference:"",couponCode:""}),P(),m(!0)},be=()=>{g("redeem_offline");const T=vd("offline");N({type:"redeem",points:100,description:"Resgate offline: Desconto R$ 10,00",reference:"",couponCode:T}),P(),m(!0)},Xe=()=>{g("redeem_online");const T=vd("online");N({type:"redeem",points:100,description:"Resgate online: Desconto R$ 10,00",reference:"",couponCode:T}),P(),m(!0)},Et=()=>{m(!1),g(null),P()},A=()=>{if(k&&f&&v.points&&v.description){const T={customerId:k.id,customerDocument:k.document,branchId:f.id,type:v.type,points:v.type==="redeem"?-Math.abs(v.points):v.points,description:v.description,date:new Date().toISOString().split("T")[0],reference:v.reference||void 0,couponCode:v.couponCode||void 0};n(T);const q=v.type==="redeem"?-Math.abs(v.points):v.points;if(i(k.id,{points:k.points+q}),v.type==="redeem"){const ge={...T,id:Date.now().toString()};D({customer:k,movement:ge}),S(!0)}Et()}},L=()=>{S(!1),D(null)},F=T=>{switch(T){case"earn":return s.jsx(mt,{className:"w-5 h-5 text-green-600"});case"redeem":return s.jsx(Le,{className:"w-5 h-5 text-red-600"});case"admin_adjust":return s.jsx(We,{className:"w-5 h-5 text-blue-600"});default:return s.jsx(mt,{className:"w-5 h-5 text-gray-600"})}},Q=T=>{switch(T){case"earn":return"Ganho";case"redeem":return"Resgate";case"admin_adjust":return"Ajuste Admin";case"referral":return"Indicao";case"expire":return"Expirao";case"refund":return"Reembolso";default:return T}},ne=T=>{const q=r.find(ge=>ge.id===T);return q?q.name:"Filial no encontrada"},Pt=()=>{switch(h){case"add_points":return"Registrar Nova Compra";case"redeem_offline":return"Resgate Offline";case"redeem_online":return"Resgate Online";default:return"Nova Movimentao"}},Ye=()=>{switch(h){case"add_points":return"Registrar Compra";case"redeem_offline":return"Confirmar Resgate";case"redeem_online":return"Gerar Cupom";default:return"Adicionar"}},rr=()=>k&&f&&v.points>0&&v.description.trim();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Movimentos de Pontos"}),s.jsxs("button",{onClick:G,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Nova Movimentao"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrio...",value:l,onChange:T=>o(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"earn",children:"Ganho"}),s.jsx("option",{value:"redeem",children:"Resgate"}),s.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Offline"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom para impresso"})]}),s.jsx(Kx,{className:"w-8 h-8 text-blue-600"})]}),s.jsx("button",{onClick:be,className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Iniciar Resgate"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Online"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom digital"})]}),s.jsx(of,{className:"w-8 h-8 text-green-600"})]}),s.jsx("button",{onClick:Xe,className:"mt-4 w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Gerar Cupom"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acumular Pontos"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Registrar compra"})]}),s.jsx(mt,{className:"w-8 h-8 text-yellow-600"})]}),s.jsx("button",{onClick:G,className:"mt-4 w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Registrar Compra"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filial"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referncia"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(T=>{const q=t.find(ge=>ge.id===T.customerId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(T.date).toLocaleDateString("pt-BR")}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q?O(q):"Cliente no encontrado"}),s.jsx("div",{className:"text-sm text-gray-500",children:q==null?void 0:q.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne(T.branchId)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[F(T.type),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:Q(T.type)})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[T.description,T.couponCode&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 font-mono",children:["Cupom: ",T.couponCode]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`text-sm font-semibold ${T.points>0?"text-green-600":"text-red-600"}`,children:[T.points>0?"+":"",T.points]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.reference||"-"})]},T.id)})})]})})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:Pt()}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF do Cliente"}),s.jsx("input",{type:"text",value:p,onChange:T=>ce(T.target.value),placeholder:"000.000.000-00",maxLength:14,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),p.replace(/[^\d]/g,"").length===11&&s.jsx("div",{className:"mt-2",children:k?s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[k.firstName.charAt(0),k.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:O(k)}),s.jsxs("p",{className:"text-xs text-green-600",children:[k.email,"  ",k.points," pontos"]})]})]})}):s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800",children:"Cliente no encontrado com este CPF"})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filial"}),s.jsxs("select",{value:(f==null?void 0:f.id)||"",onChange:T=>{const q=r.find(ge=>ge.id===T.target.value);x(q||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma filial"}),r.filter(T=>T.isActive).map(T=>s.jsxs("option",{value:T.id,children:[T.name," (",T.code,")"]},T.id))]}),!f&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione a filial onde a movimentao est sendo realizada"})]}),!h&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:v.type,onChange:T=>N({...v,type:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"earn",children:"Ganho"}),s.jsx("option",{value:"redeem",children:"Resgate"}),s.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h==="add_points"?"Pontos Ganhos":"Pontos"}),s.jsx("input",{type:"number",value:v.points,onChange:T=>N({...v,points:Number(T.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:v.description,onChange:T=>N({...v,description:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:h==="add_points"?"Ex: Compra no valor de R$ 150,00":h==="redeem_offline"?"Ex: Resgate offline: Desconto R$ 10,00":h==="redeem_online"?"Ex: Resgate online: Desconto R$ 10,00":"Descrio da movimentao"})]}),h==="add_points"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referncia (opcional)"}),s.jsx("input",{type:"text",value:v.reference,onChange:T=>N({...v,reference:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pedido #12345"})]}),(h==="redeem_offline"||h==="redeem_online")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo do Cupom"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:v.couponCode,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"}),s.jsx("div",{className:"absolute right-2 top-2",children:s.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"nico"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cdigo nico gerado automaticamente para este resgate"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:Et,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:A,disabled:!rr(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:Ye()})]})]})}),w&&j&&s.jsx(dy,{customer:j.customer,movement:j.movement,onClose:L})]})},fy=()=>{const{rewards:e}=ot(),[t,r]=R.useState(!1),[n,i]=R.useState(null),[a,l]=R.useState({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30}),o=()=>{r(!1),i(null),l({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30})},c=u=>{switch(u){case"discount":return"Desconto";case"product":return"Produto";case"service":return"Servio";case"custom":return"Personalizado";default:return u}},d=u=>{switch(u){case"discount":return s.jsx(Le,{className:"w-5 h-5 text-green-600"});case"product":return s.jsx(Ge,{className:"w-5 h-5 text-blue-600"});case"service":return s.jsx(af,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Le,{className:"w-5 h-5 text-gray-600"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recompensas"}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Nova Recompensa"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configurao de Pontos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),s.jsx("input",{type:"number",defaultValue:1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quantos pontos vale cada R$1,00 gasto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mnimo de Compra (R$)"}),s.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor mnimo para acumular pontos"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expirao de Pontos (dias)"}),s.jsx("input",{type:"number",defaultValue:365,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias para expirao dos pontos"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[d(u.type),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-500",children:c(u.type)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[u.isActive?s.jsx(Ei,{className:"w-4 h-4 text-green-600"}):s.jsx(Ci,{className:"w-4 h-4 text-gray-400"}),s.jsx("button",{onClick:()=>{i(u),r(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(wr,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custo:"}),s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[u.pointsCost," pontos"]})]}),u.type==="discount"&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Desconto:"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["R$ ",u.value]})]}),u.expirationDays&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Validade:"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[u.expirationDays," dias"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),s.jsx("span",{className:`text-sm font-medium ${u.isActive?"text-green-600":"text-red-600"}`,children:u.isActive?"Ativa":"Inativa"})]})]})]},u.id))}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Editar Recompensa":"Nova Recompensa"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:n?n.name:a.name,onChange:u=>n?i({...n,name:u.target.value}):l({...a,name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n?n.description:a.description,onChange:u=>n?i({...n,description:u.target.value}):l({...a,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:n?n.type:a.type,onChange:u=>n?i({...n,type:u.target.value}):l({...a,type:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"discount",children:"Desconto"}),s.jsx("option",{value:"product",children:"Produto"}),s.jsx("option",{value:"service",children:"Servio"}),s.jsx("option",{value:"custom",children:"Personalizado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo em Pontos"}),s.jsx("input",{type:"number",value:n?n.pointsCost:a.pointsCost,onChange:u=>n?i({...n,pointsCost:Number(u.target.value)}):l({...a,pointsCost:Number(u.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",value:n?n.value:a.value,onChange:u=>n?i({...n,value:Number(u.target.value)}):l({...a,value:Number(u.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),s.jsx("input",{type:"number",value:n?n.expirationDays||30:a.expirationDays,onChange:u=>n?i({...n,expirationDays:Number(u.target.value)}):l({...a,expirationDays:Number(u.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n?n.isActive:a.isActive,onChange:u=>n?i({...n,isActive:u.target.checked}):l({...a,isActive:u.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Recompensa ativa"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{r(!1),i(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:o,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"})]})]})})]})},my=()=>{const{referrals:e,referralTypes:t,customers:r,addReferralType:n,updateReferralType:i,deleteReferralType:a}=ot(),[l,o]=R.useState("list"),[c,d]=R.useState(!1),[u,m]=R.useState(null),[h,g]=R.useState({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),p=j=>`${j.firstName} ${j.lastName}`.trim(),b=j=>{switch(j){case"validated":return s.jsx(Qr,{className:"w-5 h-5 text-green-600"});case"rejected":return s.jsx(jr,{className:"w-5 h-5 text-red-600"});case"pending":return s.jsx(Oa,{className:"w-5 h-5 text-yellow-600"});default:return s.jsx(Oa,{className:"w-5 h-5 text-gray-600"})}},k=j=>{switch(j){case"validated":return"Validada";case"rejected":return"Rejeitada";case"pending":return"Pendente";default:return j}},y=j=>{switch(j){case"email":return s.jsx(Pi,{className:"w-4 h-4"});case"whatsapp":return s.jsx(Ti,{className:"w-4 h-4"});case"sms":return s.jsx(uf,{className:"w-4 h-4"});case"qrcode":return s.jsx(of,{className:"w-4 h-4"});default:return s.jsx(Vn,{className:"w-4 h-4"})}},f=j=>{switch(j){case"crown":return s.jsx(Dl,{className:"w-5 h-5"});case"heart":return s.jsx(Bx,{className:"w-5 h-5"});case"building":return s.jsx(ki,{className:"w-5 h-5"});case"gift":return s.jsx(Le,{className:"w-5 h-5"});default:return s.jsx(Vn,{className:"w-5 h-5"})}},x=j=>{switch(j){case"fixed":return"Valor Fixo (R$)";case"percentage":return"Percentual (%)";case"points":return"Pontos";case"gift":return"Brinde";default:return j}},v=()=>{u?i(u.id,h):n(h),d(!1),m(null),g({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}})},N=j=>{m(j),g({name:j.name,description:j.description,icon:j.icon,color:j.color,isActive:j.isActive,methods:j.methods,referrerReward:j.referrerReward,referredReward:j.referredReward,conditions:j.conditions||{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),d(!0)},w=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],S=[{value:"user-plus",label:"Usurio Plus"},{value:"crown",label:"Coroa"},{value:"heart",label:"Corao"},{value:"building",label:"Prdio"},{value:"gift",label:"Presente"},{value:"star",label:"Estrela"},{value:"award",label:"Prmio"},{value:"trophy",label:"Trofu"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistema de Indicaes"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>o("list"),className:`px-4 py-2 rounded-lg transition-colors ${l==="list"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Indicaes"}),s.jsx("button",{onClick:()=>o("types"),className:`px-4 py-2 rounded-lg transition-colors ${l==="types"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tipos de Indicao"}),s.jsx("button",{onClick:()=>o("config"),className:`px-4 py-2 rounded-lg transition-colors ${l==="config"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Configuraes"})]})]}),l==="list"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Vn,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Indicaes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Qr,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Validadas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="validated").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Oa,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Le,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipos Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.isActive).length})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lista de Indicaes"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mtodo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>{const D=r.find(ce=>ce.id===j.referrerId),O=r.find(ce=>ce.id===j.referredId),H=t.find(ce=>ce.id===j.referralTypeId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.date).toLocaleDateString("pt-BR")}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D?p(D):"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:D==null?void 0:D.email})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O?p(O):"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:O==null?void 0:O.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:(H==null?void 0:H.color)+"20"},children:s.jsx("div",{style:{color:H==null?void 0:H.color},children:f((H==null?void 0:H.icon)||"user-plus")})}),s.jsx("span",{className:"text-sm text-gray-900",children:H==null?void 0:H.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[y(j.method),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j.method})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[b(j.status),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:k(j.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:j.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(jr,{className:"w-4 h-4"})})]})})]},j.id)})})]})})]})]}),l==="types"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tipos de Indicao"}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Novo Tipo"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(j=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:j.color+"20"},children:s.jsx("div",{style:{color:j.color},children:f(j.icon)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsxs("div",{className:"flex items-center mt-1",children:[j.isActive?s.jsx(Ei,{className:"w-4 h-4 text-green-600 mr-1"}):s.jsx(Ci,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:`text-sm ${j.isActive?"text-green-600":"text-gray-400"}`,children:j.isActive?"Ativo":"Inativo"})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>N(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>a(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(wr,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:j.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicador"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[x(j.referrerReward.type),": ",j.referrerReward.value]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referrerReward.description})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicado"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[x(j.referredReward.type),": ",j.referredReward.value]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referredReward.description})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Mtodos Disponveis"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:j.methods.map(D=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y(D),s.jsx("span",{className:"ml-1 capitalize",children:D})]},D))})]}),j.conditions&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Condies"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[j.conditions.minPurchaseValue&&s.jsxs("div",{children:[" Compra mnima: R$ ",j.conditions.minPurchaseValue]}),j.conditions.validityDays&&s.jsxs("div",{children:[" Validade: ",j.conditions.validityDays," dias"]}),j.conditions.maxReferrals&&s.jsxs("div",{children:[" Mximo: ",j.conditions.maxReferrals," indicaes"]}),j.conditions.requiresFirstPurchase&&s.jsx("div",{children:" Requer primeira compra"})]})]})]})]},j.id))})]}),l==="config"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes Gerais"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Validao Automtica"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"manual",children:"Manual"}),s.jsx("option",{value:"first_purchase",children:"Aps primeira compra"}),s.jsx("option",{value:"immediate",children:"Imediata"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite Global de Indicaes por Cliente"}),s.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"allowSelfReferral",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"allowSelfReferral",className:"ml-2 block text-sm text-gray-900",children:"Permitir auto-indicao (mesmo email/telefone)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"trackReferralSource",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"trackReferralSource",className:"ml-2 block text-sm text-gray-900",children:"Rastrear origem das indicaes"})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Configuraes"})})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:u?"Editar Tipo de Indicao":"Novo Tipo de Indicao"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:h.name,onChange:j=>g({...h,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"cone"}),s.jsx("select",{value:h.icon,onChange:j=>g({...h,icon:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:S.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:h.description,onChange:j=>g({...h,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(j=>s.jsx("button",{onClick:()=>g({...h,color:j}),className:`w-8 h-8 rounded-full border-2 ${h.color===j?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:j}},j))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodos de Indicao"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["email","whatsapp","sms","qrcode"].map(j=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.methods.includes(j),onChange:D=>{D.target.checked?g({...h,methods:[...h.methods,j]}):g({...h,methods:h.methods.filter(O=>O!==j)})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j})]},j))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicador"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:h.referrerReward.type,onChange:j=>g({...h,referrerReward:{...h.referrerReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),s.jsx("option",{value:"percentage",children:"Percentual (%)"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:h.referrerReward.value,onChange:j=>g({...h,referrerReward:{...h.referrerReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:h.referrerReward.description,onChange:j=>g({...h,referrerReward:{...h.referrerReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicado"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:h.referredReward.type,onChange:j=>g({...h,referredReward:{...h.referredReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),s.jsx("option",{value:"percentage",children:"Percentual (%)"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:h.referredReward.value,onChange:j=>g({...h,referredReward:{...h.referredReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:h.referredReward.description,onChange:j=>g({...h,referredReward:{...h.referredReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Condies"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mnima (R$)"}),s.jsx("input",{type:"number",value:h.conditions.minPurchaseValue,onChange:j=>g({...h,conditions:{...h.conditions,minPurchaseValue:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),s.jsx("input",{type:"number",value:h.conditions.validityDays,onChange:j=>g({...h,conditions:{...h.conditions,validityDays:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mximo de Indicaes"}),s.jsx("input",{type:"number",value:h.conditions.maxReferrals,onChange:j=>g({...h,conditions:{...h.conditions,maxReferrals:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requiresFirstPurchase",checked:h.conditions.requiresFirstPurchase,onChange:j=>g({...h,conditions:{...h.conditions,requiresFirstPurchase:j.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requiresFirstPurchase",className:"ml-2 block text-sm text-gray-900",children:"Requer primeira compra"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:h.isActive,onChange:j=>g({...h,isActive:j.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Tipo de indicao ativo"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{d(!1),m(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:v,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[u?"Atualizar":"Criar"," Tipo"]})]})]})})]})},py=()=>{const[e,t]=R.useState("campaigns"),[r,n]=R.useState(!1),i=[{id:"1",name:"Boas-vindas Novos Clientes",type:"welcome",status:"active",sent:150,opened:120,clicked:45},{id:"2",name:"Pontos Prestes a Expirar",type:"expiration",status:"active",sent:89,opened:67,clicked:23}],a=[{id:"1",name:"Boas-vindas",channel:"email",subject:"Bem-vindo ao nosso programa de fidelidade!",preview:"Ol {nome}, seja bem-vindo ao nosso programa..."},{id:"2",name:"Pontos Expirao",channel:"whatsapp",subject:"Seus pontos vo expirar em breve",preview:"Oi {nome}! Voc tem {pontos} pontos que expiram em {dias} dias..."}],l=[{id:"1",name:"Novo Cliente Cadastrado",trigger:"customer_registered",action:"send_welcome_email",status:"active"},{id:"2",name:"Pontos Prximos ao Vencimento",trigger:"points_expiring_soon",action:"send_expiration_warning",status:"active"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Comunicao"}),s.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Nova Campanha"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>t("campaigns"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="campaigns"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Campanhas"}),s.jsx("button",{onClick:()=>t("templates"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="templates"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Templates"}),s.jsx("button",{onClick:()=>t("automation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="automation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Automao"})]}),e==="campaigns"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Qx,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Enviadas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"239"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Pi,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Abertas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"187"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ti,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cliques"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"68"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(af,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Abertura"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"78%"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Campanhas Ativas"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviadas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliques"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.type==="welcome"?"Boas-vindas":"Expirao"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status==="active"?"Ativa":"Inativa"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.sent}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.opened}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.clicked}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(wr,{className:"w-4 h-4"})})]})]},o.id))})]})})]})]}),e==="templates"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Templates de Mensagem"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(o=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[o.channel==="email"&&s.jsx(Pi,{className:"w-4 h-4 text-blue-600"}),o.channel==="whatsapp"&&s.jsx(Ti,{className:"w-4 h-4 text-green-600"}),o.channel==="sms"&&s.jsx(uf,{className:"w-4 h-4 text-purple-600"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(We,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Assunto:"}),s.jsx("p",{className:"text-sm text-gray-600",children:o.subject})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),s.jsx("p",{className:"text-sm text-gray-600",children:o.preview})]})]})]},o.id))})})]})}),e==="automation"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Rgua de Comunicao"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:l.map(o=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:o.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Quando: ",o.trigger==="customer_registered"?"Cliente se cadastra":"Pontos prximos ao vencimento"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Ao: ",o.action==="send_welcome_email"?"Enviar email de boas-vindas":"Enviar aviso de expirao"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status==="active"?"Ativa":"Inativa"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(We,{className:"w-4 h-4"})})]})]},o.id))})})]})})]})},gy=()=>{const[e]=R.useState([{id:"1",title:"Criar a Conta (Cadastro Nvel 1)",description:"Cliente realiza o cadastro bsico com nome e email",icon:Ri,reward:{type:"points",value:100},completed:85,total:100,status:"active"},{id:"2",title:"Cadastro Nvel 2",description:"Cliente completa cadastro com telefone, endereo e WhatsApp",icon:Fo,reward:{type:"points",value:200},completed:67,total:100,status:"active"},{id:"3",title:"Cadastro Nvel 3",description:"Cliente informa preferncias de produtos, marcas, servios e cor de cabelo",icon:lf,reward:{type:"points",value:300},completed:23,total:100,status:"active"},{id:"4",title:"Review de Produtos",description:"Cliente avalia produtos comprados",icon:Ge,reward:{type:"points",value:50},completed:45,total:100,status:"active"},{id:"5",title:"Comprar uma Categoria de Produtos",description:"Cliente realiza compra em categoria especfica",icon:Yx,reward:{type:"points",value:500},completed:12,total:100,status:"active"}]),[t,r]=R.useState(!1),[n,i]=R.useState({title:"",description:"",rewardType:"points",rewardValue:0,target:100}),a=(l,o)=>Math.round(l/o*100);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Objetivos e Metas"}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Novo Objetivo"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Xs,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Objetivos Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Si,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Concluso"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(e.reduce((l,o)=>l+a(o.completed,o.total),0)/e.length),"%"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Ge,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Distribudos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,o)=>l+o.reward.value*o.completed,0).toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ri,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Participantes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,o)=>l+o.completed,0)})]})]})})]}),s.jsx("div",{className:"space-y-4",children:e.map(l=>{const o=l.icon,c=a(l.completed,l.total);return s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(o,{className:"w-6 h-6 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Progresso"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[l.completed,"/",l.total," (",c,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),s.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ge,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsxs("span",{children:["Recompensa: ",l.reward.value," pontos"]})]}),s.jsx("div",{className:"flex items-center text-sm",children:l.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Si,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-green-600",children:"Ativo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ux,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:"text-gray-500",children:"Inativo"})]})})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Xs,{className:"w-4 h-4"})})})]})},l.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Jornada do Cliente"}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center justify-between",children:e.map((l,o)=>{const c=l.icon,d=a(l.completed,l.total),u=d>=80;return s.jsxs("div",{className:"flex flex-col items-center relative",children:[o<e.length-1&&s.jsx("div",{className:"absolute top-6 left-full w-full h-0.5 bg-gray-200 z-0"}),s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${u?"bg-green-100 border-2 border-green-500":"bg-gray-100 border-2 border-gray-300"}`,children:s.jsx(c,{className:`w-6 h-6 ${u?"text-green-600":"text-gray-400"}`})}),s.jsxs("div",{className:"mt-3 text-center max-w-24",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 leading-tight",children:l.title.split(" ").slice(0,2).join(" ")}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d,"%"]})]})]},l.id)})})})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Objetivo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),s.jsx("input",{type:"text",value:n.title,onChange:l=>i({...n,title:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n.description,onChange:l=>i({...n,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Recompensa"}),s.jsxs("select",{value:n.rewardType,onChange:l=>i({...n,rewardType:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"discount",children:"Desconto"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:n.rewardValue,onChange:l=>i({...n,rewardValue:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta"}),s.jsx("input",{type:"number",value:n.target,onChange:l=>i({...n,target:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:()=>{r(!1),i({title:"",description:"",rewardType:"points",rewardValue:0,target:100})},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Objetivo"})]})]})})]})},xy=()=>{const{settings:e,updateSettings:t}=ot(),[r,n]=R.useState("company"),[i,a]=R.useState(e),[l,o]=R.useState(""),[c,d]=R.useState(""),u=()=>{t(i)},m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA"],h=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins"],g=(p,b)=>{const k=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;(k.test(b)||b==="")&&(p==="primary"?(o(b),k.test(b)&&a({...i,program:{...i.program,primaryColor:b}})):(d(b),k.test(b)&&a({...i,program:{...i.program,secondaryColor:b}})))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Personalizao"}),s.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Jx,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>n("company"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="company"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Zx,{className:"w-4 h-4 mr-2"}),"Empresa"]}),s.jsxs("button",{onClick:()=>n("program"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="program"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Wx,{className:"w-4 h-4 mr-2"}),"Programa"]}),s.jsxs("button",{onClick:()=>n("validation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="validation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Xx,{className:"w-4 h-4 mr-2"}),"Validao"]}),s.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="notifications"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Fx,{className:"w-4 h-4 mr-2"}),"Notificaes"]}),s.jsxs("button",{onClick:()=>n("terms"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="terms"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Regulamento"]})]}),r==="company"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informaes da Empresa"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa"}),s.jsx("input",{type:"text",value:i.company.name,onChange:p=>a({...i,company:{...i.company,name:p.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"url",value:i.company.website,onChange:p=>a({...i,company:{...i.company,website:p.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo"}),s.jsx("textarea",{value:i.company.address,onChange:p=>a({...i,company:{...i.company,address:p.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Empresa"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(df,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[s.jsx("span",{children:"Upload um arquivo"}),s.jsx("input",{type:"file",className:"sr-only",accept:"image/*"})]}),s.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF at 10MB"})]})})]})]})]}),r==="program"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes do Programa"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Programa"}),s.jsx("input",{type:"text",value:i.program.name,onChange:p=>a({...i,program:{...i.program,name:p.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),s.jsx("input",{type:"number",value:i.program.pointsPerReal,onChange:p=>a({...i,program:{...i.program,pointsPerReal:Number(p.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mnimo de Compra (R$)"}),s.jsx("input",{type:"number",value:i.program.minPurchaseValue,onChange:p=>a({...i,program:{...i.program,minPurchaseValue:Number(p.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte"}),s.jsx("select",{value:i.program.font,onChange:p=>a({...i,program:{...i.program,font:p.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:h.map(p=>s.jsx("option",{value:p,children:p},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Primria"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(p=>s.jsx("button",{onClick:()=>a({...i,program:{...i.program,primaryColor:p}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${i.program.primaryColor===p?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:p},title:p},p))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um cdigo HEX personalizado:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),s.jsx("input",{type:"text",value:l.replace("#",""),onChange:p=>g("primary","#"+p.target.value),placeholder:"3B82F6",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:i.program.primaryColor}}),s.jsx("span",{className:"text-sm text-gray-600 font-mono",children:i.program.primaryColor})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Secundria"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(p=>s.jsx("button",{onClick:()=>a({...i,program:{...i.program,secondaryColor:p}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${i.program.secondaryColor===p?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:p},title:p},p))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um cdigo HEX personalizado:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),s.jsx("input",{type:"text",value:c.replace("#",""),onChange:p=>g("secondary","#"+p.target.value),placeholder:"10B981",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:i.program.secondaryColor}}),s.jsx("span",{className:"text-sm text-gray-600 font-mono",children:i.program.secondaryColor})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Preview das Cores"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:i.program.primaryColor},children:"Cor Primria"}),s.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:i.program.primaryColor})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:i.program.secondaryColor},children:"Cor Secundria"}),s.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:i.program.secondaryColor})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{background:`linear-gradient(45deg, ${i.program.primaryColor}, ${i.program.secondaryColor})`},children:"Gradiente"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Combinao"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Expirao de Pontos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"pointsExpiration",checked:i.program.pointsExpiration.enabled,onChange:p=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,enabled:p.target.checked}}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"pointsExpiration",className:"ml-2 block text-sm text-gray-900",children:"Ativar expirao de pontos"})]}),i.program.pointsExpiration.enabled&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo de Expirao (dias)"}),s.jsx("input",{type:"number",value:i.program.pointsExpiration.days,onChange:p=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,days:Number(p.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notificar antes (dias)"}),s.jsx("input",{type:"number",value:i.program.pointsExpiration.notifyDaysBefore,onChange:p=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,notifyDaysBefore:Number(p.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r==="validation"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes de Validao"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sistema de Chaves"}),s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Chave Primria:"})," CPF - Identificador nico obrigatrio",s.jsx("br",{}),s.jsx("strong",{children:"Chaves Secundrias:"})," Email e Telefone - Para comunicao e indicaes"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Validao de CPF"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Verificar se o CPF  vlido matematicamente"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requireCpfValidation,onChange:p=>a({...i,validation:{...i.validation,requireCpfValidation:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificao de Email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificao por email antes de ativar conta"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requireEmailVerification,onChange:p=>a({...i,validation:{...i.validation,requireEmailVerification:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificao de Telefone"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificao por SMS antes de ativar conta"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requirePhoneVerification,onChange:p=>a({...i,validation:{...i.validation,requirePhoneVerification:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Email Duplicado"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo email seja usado por CPFs diferentes"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.allowDuplicateEmail,onChange:p=>a({...i,validation:{...i.validation,allowDuplicateEmail:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Telefone Duplicado"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo telefone seja usado por CPFs diferentes"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.allowDuplicatePhone,onChange:p=>a({...i,validation:{...i.validation,allowDuplicatePhone:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Importante"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:" O CPF sempre ser nico no sistema (chave primria)"}),s.jsx("li",{children:" Email e telefone podem ser usados para indicaes mesmo se duplicados"}),s.jsx("li",{children:" Recomendamos manter email nico para melhor experincia do usurio"}),s.jsx("li",{children:" Telefone duplicado  comum em famlias que compartilham nmeros"})]})]})]})]}),r==="notifications"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes de Notificao"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaes por email"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:p=>a({...i,notifications:{...i.notifications,email:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaes por WhatsApp"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.whatsapp,onChange:p=>a({...i,notifications:{...i.notifications,whatsapp:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SMS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaes por SMS"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.sms,onChange:p=>a({...i,notifications:{...i.notifications,sms:p.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),r==="terms"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Regulamento do Programa"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Termos e Condies"}),s.jsx("textarea",{value:i.terms,onChange:p=>a({...i,terms:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:15,placeholder:"Digite aqui os termos e condies do seu programa de fidelidade..."})]})]})]})},yy=()=>{const{loading:e,error:t}=ot();return t?s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-xl font-semibold mb-2",children:"Erro ao carregar dados"}),s.jsx("div",{className:"text-gray-600 text-sm",children:t}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tentar Novamente"})]})}):e?s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vx,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Carregando dados..."}),s.jsx("div",{className:"text-gray-500 text-sm mt-2",children:"Conectando ao banco de dados"})]})}):null};function vy(){const[e,t]=R.useState("dashboard"),r=()=>{switch(e){case"dashboard":return s.jsx(yd,{});case"customers":return s.jsx(ly,{});case"branches":return s.jsx(oy,{});case"levels":return s.jsx(cy,{});case"movements":return s.jsx(hy,{});case"rewards":return s.jsx(fy,{});case"referrals":return s.jsx(my,{});case"communication":return s.jsx(py,{});case"objectives":return s.jsx(gy,{});case"settings":return s.jsx(xy,{});default:return s.jsx(yd,{})}};return s.jsx(Ix,{children:s.jsxs(ty,{currentPage:e,onPageChange:t,children:[s.jsx(yy,{}),r()]})})}Ah(document.getElementById("root")).render(s.jsx(R.StrictMode,{children:s.jsx(vy,{})}));
