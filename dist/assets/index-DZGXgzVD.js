(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var du={exports:{}},Ni={},hu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),bf=Symbol.for("react.portal"),Nf=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),Cf=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Tf=Symbol.for("react.memo"),Rf=Symbol.for("react.lazy"),Do=Symbol.iterator;function Af(e){return e===null||typeof e!="object"?null:(e=Do&&e[Do]||e["@@iterator"],typeof e=="function"?e:null)}var fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mu=Object.assign,pu={};function rn(e,t,r){this.props=e,this.context=t,this.refs=pu,this.updater=r||fu}rn.prototype.isReactComponent={};rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gu(){}gu.prototype=rn.prototype;function Rl(e,t,r){this.props=e,this.context=t,this.refs=pu,this.updater=r||fu}var Al=Rl.prototype=new gu;Al.constructor=Rl;mu(Al,rn.prototype);Al.isPureReactComponent=!0;var Lo=Array.isArray,xu=Object.prototype.hasOwnProperty,$l={current:null},yu={key:!0,ref:!0,__self:!0,__source:!0};function vu(e,t,r){var n,s={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)xu.call(t,n)&&!yu.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:as,type:e,key:a,ref:l,props:s,_owner:$l.current}}function $f(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function Of(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zo=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Of(""+e.key):t.toString(36)}function Ms(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case as:case bf:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+Wi(l,0):n,Lo(s)?(r="",e!=null&&(r=e.replace(zo,"$&/")+"/"),Ms(s,t,r,"",function(u){return u})):s!=null&&(Ol(s)&&(s=$f(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(zo,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Lo(e))for(var c=0;c<e.length;c++){a=e[c];var o=n+Wi(a,c);l+=Ms(a,t,r,o,s)}else if(o=Af(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=n+Wi(a,c++),l+=Ms(a,t,r,o,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ms(e,t,r){if(e==null)return e;var n=[],s=0;return Ms(e,n,"","",function(a){return t.call(r,a,s++)}),n}function If(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},Ds={transition:null},Mf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:$l};function wu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:ms,forEach:function(e,t,r){ms(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=rn;V.Fragment=Nf;V.Profiler=kf;V.PureComponent=Rl;V.StrictMode=_f;V.Suspense=Pf;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mf;V.act=wu;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mu({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=$l.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)xu.call(t,o)&&!yu.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:as,type:e.type,key:s,ref:a,props:n,_owner:l}};V.createContext=function(e){return e={$$typeof:Cf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sf,_context:e},e.Consumer=e};V.createElement=vu;V.createFactory=function(e){var t=vu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Ef,render:e}};V.isValidElement=Ol;V.lazy=function(e){return{$$typeof:Rf,_payload:{_status:-1,_result:e},_init:If}};V.memo=function(e,t){return{$$typeof:Tf,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};V.unstable_act=wu;V.useCallback=function(e,t){return Ne.current.useCallback(e,t)};V.useContext=function(e){return Ne.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ne.current.useEffect(e,t)};V.useId=function(){return Ne.current.useId()};V.useImperativeHandle=function(e,t,r){return Ne.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ne.current.useMemo(e,t)};V.useReducer=function(e,t,r){return Ne.current.useReducer(e,t,r)};V.useRef=function(e){return Ne.current.useRef(e)};V.useState=function(e){return Ne.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return Ne.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return Ne.current.useTransition()};V.version="18.3.1";hu.exports=V;var A=hu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=A,Lf=Symbol.for("react.element"),zf=Symbol.for("react.fragment"),Ff=Object.prototype.hasOwnProperty,Uf=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,r){var n,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Ff.call(t,n)&&!Bf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Lf,type:e,key:a,ref:l,props:s,_owner:Uf.current}}Ni.Fragment=zf;Ni.jsx=ju;Ni.jsxs=ju;du.exports=Ni;var i=du.exports,bu={exports:{}},Le={},Nu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var z=P.length;P.push(D);e:for(;0<z;){var R=z-1>>>1,F=P[R];if(0<s(F,D))P[R]=D,P[z]=F,z=R;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var D=P[0],z=P.pop();if(z!==D){P[0]=z;e:for(var R=0,F=P.length,oe=F>>>1;R<oe;){var Ae=2*(R+1)-1,Zt=P[Ae],dt=Ae+1,vr=P[dt];if(0>s(Zt,z))dt<F&&0>s(vr,Zt)?(P[R]=vr,P[dt]=z,R=dt):(P[R]=Zt,P[Ae]=z,R=Ae);else if(dt<F&&0>s(vr,z))P[R]=vr,P[dt]=z,R=dt;else break e}}return D}function s(P,D){var z=P.sortIndex-D.sortIndex;return z!==0?z:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,f=null,h=3,p=!1,m=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=P)n(u),D.sortIndex=D.expirationTime,t(o,D);else break;D=r(u)}}function w(P){if(b=!1,y(P),!m)if(r(o)!==null)m=!0,Ke(N);else{var D=r(u);D!==null&&Yt(w,D.startTime-P)}}function N(P,D){m=!1,b&&(b=!1,x(j),j=-1),p=!0;var z=h;try{for(y(D),f=r(o);f!==null&&(!(f.expirationTime>D)||P&&!H());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var F=R(f.expirationTime<=D);D=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(o)&&n(o),y(D)}else n(o);f=r(o)}if(f!==null)var oe=!0;else{var Ae=r(u);Ae!==null&&Yt(w,Ae.startTime-D),oe=!1}return oe}finally{f=null,h=z,p=!1}}var v=!1,S=null,j=-1,M=5,O=-1;function H(){return!(e.unstable_now()-O<M)}function le(){if(S!==null){var P=e.unstable_now();O=P;var D=!0;try{D=S(!0,P)}finally{D?E():(v=!1,S=null)}}else v=!1}var E;if(typeof g=="function")E=function(){g(le)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,we=G.port2;G.port1.onmessage=le,E=function(){we.postMessage(null)}}else E=function(){k(le,0)};function Ke(P){S=P,v||(v=!0,E())}function Yt(P,D){j=k(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,Ke(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return P()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=h;h=P;try{return D()}finally{h=z}},e.unstable_scheduleCallback=function(P,D,z){var R=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?R+z:R):z=R,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,P={id:d++,callback:D,priorityLevel:P,startTime:z,expirationTime:F,sortIndex:-1},z>R?(P.sortIndex=z,t(u,P),r(o)===null&&P===r(u)&&(b?(x(j),j=-1):b=!0,Yt(w,z-R))):(P.sortIndex=F,t(o,P),m||p||(m=!0,Ke(N))),P},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(P){var D=h;return function(){var z=h;h=D;try{return P.apply(this,arguments)}finally{h=z}}}})(_u);Nu.exports=_u;var Vf=Nu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=A,Me=Vf;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ku=new Set,Un={};function gr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Un[e]=t,e=0;e<t.length;e++)ku.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=Object.prototype.hasOwnProperty,Hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fo={},Uo={};function Wf(e){return Sa.call(Uo,e)?!0:Sa.call(Fo,e)?!1:Hf.test(e)?Uo[e]=!0:(Fo[e]=!0,!1)}function Gf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kf(e,t,r,n){if(t===null||typeof t>"u"||Gf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,r,n,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Il=/[\-:]([a-z])/g;function Ml(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Il,Ml);me[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Il,Ml);me[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Il,Ml);me[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dl(e,t,r,n){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kf(t,r,s,n)&&(r=null),n||s===null?Wf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var St=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Ll=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),Su=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),zl=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),Fl=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Eu=Symbol.for("react.offscreen"),Bo=Symbol.iterator;function un(e){return e===null||typeof e!="object"?null:(e=Bo&&e[Bo]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Gi;function jn(e){if(Gi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gi=t&&t[1]||""}return`
`+Gi+e}var Ki=!1;function Qi(e,t){if(!e||Ki)return"";Ki=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),l=s.length-1,c=a.length-1;1<=l&&0<=c&&s[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==a[c]){var o=`
`+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{Ki=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jn(e):""}function Qf(e){switch(e.tag){case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Er:return"Portal";case Ca:return"Profiler";case Ll:return"StrictMode";case Ea:return"Suspense";case Pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cu:return(e.displayName||"Context")+".Consumer";case Su:return(e._context.displayName||"Context")+".Provider";case zl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fl:return t=e.displayName||null,t!==null?t:Ta(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return Ta(e(t))}catch{}}return null}function Jf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ta(t);case 8:return t===Ll?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xf(e){var t=Pu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=Xf(e))}function Tu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Wt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ru(e,t){t=t.checked,t!=null&&Dl(e,"checked",t,!1)}function Aa(e,t){Ru(e,t);var r=Wt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$a(e,t.type,r):t.hasOwnProperty("defaultValue")&&$a(e,t.type,Wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $a(e,t,r){(t!=="number"||Qs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function Fr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Wt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ho(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(bn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wt(r)}}function Au(e,t){var r=Wt(t.value),n=Wt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $u(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$u(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,Ou=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yf=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){Yf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function Iu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function Mu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Iu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Zf=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(Zf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Ur=null,Br=null;function Go(e){if(e=cs(e)){if(typeof za!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ei(t),za(e.stateNode,e.type,t))}}function Du(e){Ur?Br?Br.push(e):Br=[e]:Ur=e}function Lu(){if(Ur){var e=Ur,t=Br;if(Br=Ur=null,Go(e),t)for(e=0;e<t.length;e++)Go(t[e])}}function zu(e,t){return e(t)}function Fu(){}var Ji=!1;function Uu(e,t,r){if(Ji)return e(t,r);Ji=!0;try{return zu(e,t,r)}finally{Ji=!1,(Ur!==null||Br!==null)&&(Fu(),Lu())}}function Vn(e,t){var r=e.stateNode;if(r===null)return null;var n=Ei(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Fa=!1;if(bt)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Fa=!1}function em(e,t,r,n,s,a,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var En=!1,Js=null,Xs=!1,Ua=null,tm={onError:function(e){En=!0,Js=e}};function rm(e,t,r,n,s,a,l,c,o){En=!1,Js=null,em.apply(tm,arguments)}function nm(e,t,r,n,s,a,l,c,o){if(rm.apply(this,arguments),En){if(En){var u=Js;En=!1,Js=null}else throw Error(C(198));Xs||(Xs=!0,Ua=u)}}function xr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ko(e){if(xr(e)!==e)throw Error(C(188))}function sm(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Ko(s),e;if(a===n)return Ko(s),t;a=a.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=a;else{for(var l=!1,c=s.child;c;){if(c===r){l=!0,r=s,n=a;break}if(c===n){l=!0,n=s,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,n=s;break}if(c===n){l=!0,n=a,r=s;break}c=c.sibling}if(!l)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Vu(e){return e=sm(e),e!==null?qu(e):null}function qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qu(e);if(t!==null)return t;e=e.sibling}return null}var Hu=Me.unstable_scheduleCallback,Qo=Me.unstable_cancelCallback,im=Me.unstable_shouldYield,am=Me.unstable_requestPaint,ne=Me.unstable_now,lm=Me.unstable_getCurrentPriorityLevel,Bl=Me.unstable_ImmediatePriority,Wu=Me.unstable_UserBlockingPriority,Ys=Me.unstable_NormalPriority,om=Me.unstable_LowPriority,Gu=Me.unstable_IdlePriority,_i=null,ot=null;function cm(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(_i,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:hm,um=Math.log,dm=Math.LN2;function hm(e){return e>>>=0,e===0?32:31-(um(e)/dm|0)|0}var ys=64,vs=4194304;function Nn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~s;c!==0?n=Nn(c):(a&=l,a!==0&&(n=Nn(a)))}else l=r&~s,l!==0?n=Nn(l):a!==0&&(n=Nn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),s=1<<r,n|=e[r],t&=~s;return n}function fm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-tt(a),c=1<<l,o=s[l];o===-1?(!(c&r)||c&n)&&(s[l]=fm(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ku(){var e=ys;return ys<<=1,!(ys&4194240)&&(ys=64),e}function Xi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function pm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-tt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Vl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function Qu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ju,ql,Xu,Yu,Zu,Va=!1,ws=[],Lt=null,zt=null,Ft=null,qn=new Map,Hn=new Map,$t=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jo(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function hn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=cs(t),t!==null&&ql(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xm(e,t,r,n,s){switch(t){case"focusin":return Lt=hn(Lt,e,t,r,n,s),!0;case"dragenter":return zt=hn(zt,e,t,r,n,s),!0;case"mouseover":return Ft=hn(Ft,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return qn.set(a,hn(qn.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Hn.set(a,hn(Hn.get(a)||null,e,t,r,n,s)),!0}return!1}function ed(e){var t=ar(e.target);if(t!==null){var r=xr(t);if(r!==null){if(t=r.tag,t===13){if(t=Bu(r),t!==null){e.blockedOn=t,Zu(e.priority,function(){Xu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);La=n,r.target.dispatchEvent(n),La=null}else return t=cs(r),t!==null&&ql(t),e.blockedOn=r,!1;t.shift()}return!0}function Xo(e,t,r){Ls(e)&&r.delete(t)}function ym(){Va=!1,Lt!==null&&Ls(Lt)&&(Lt=null),zt!==null&&Ls(zt)&&(zt=null),Ft!==null&&Ls(Ft)&&(Ft=null),qn.forEach(Xo),Hn.forEach(Xo)}function fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,ym)))}function Wn(e){function t(s){return fn(s,e)}if(0<ws.length){fn(ws[0],e);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lt!==null&&fn(Lt,e),zt!==null&&fn(zt,e),Ft!==null&&fn(Ft,e),qn.forEach(t),Hn.forEach(t),r=0;r<$t.length;r++)n=$t[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$t.length&&(r=$t[0],r.blockedOn===null);)ed(r),r.blockedOn===null&&$t.shift()}var Vr=St.ReactCurrentBatchConfig,ei=!0;function vm(e,t,r,n){var s=W,a=Vr.transition;Vr.transition=null;try{W=1,Hl(e,t,r,n)}finally{W=s,Vr.transition=a}}function wm(e,t,r,n){var s=W,a=Vr.transition;Vr.transition=null;try{W=4,Hl(e,t,r,n)}finally{W=s,Vr.transition=a}}function Hl(e,t,r,n){if(ei){var s=qa(e,t,r,n);if(s===null)la(e,t,n,ti,r),Jo(e,n);else if(xm(s,e,t,r,n))n.stopPropagation();else if(Jo(e,n),t&4&&-1<gm.indexOf(e)){for(;s!==null;){var a=cs(s);if(a!==null&&Ju(a),a=qa(e,t,r,n),a===null&&la(e,t,n,ti,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else la(e,t,n,null,r)}}var ti=null;function qa(e,t,r,n){if(ti=null,e=Ul(n),e=ar(e),e!==null)if(t=xr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function td(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case Bl:return 1;case Wu:return 4;case Ys:case om:return 16;case Gu:return 536870912;default:return 16}default:return 16}}var Mt=null,Wl=null,zs=null;function rd(){if(zs)return zs;var e,t=Wl,r=t.length,n,s="value"in Mt?Mt.value:Mt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[a-n];n++);return zs=s.slice(e,1<n?1-n:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Yo(){return!1}function ze(e){function t(r,n,s,a,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?js:Yo,this.isPropagationStopped=Yo,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=ze(nn),os=te({},nn,{view:0,detail:0}),jm=ze(os),Yi,Zi,mn,ki=te({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(Yi=e.screenX-mn.screenX,Zi=e.screenY-mn.screenY):Zi=Yi=0,mn=e),Yi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),Zo=ze(ki),bm=te({},ki,{dataTransfer:0}),Nm=ze(bm),_m=te({},os,{relatedTarget:0}),ea=ze(_m),km=te({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sm=ze(km),Cm=te({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=ze(Cm),Pm=te({},nn,{data:0}),ec=ze(Pm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Am[e])?!!t[e]:!1}function Kl(){return $m}var Om=te({},os,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Im=ze(Om),Mm=te({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=ze(Mm),Dm=te({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Lm=ze(Dm),zm=te({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fm=ze(zm),Um=te({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bm=ze(Um),Vm=[9,13,27,32],Ql=bt&&"CompositionEvent"in window,Pn=null;bt&&"documentMode"in document&&(Pn=document.documentMode);var qm=bt&&"TextEvent"in window&&!Pn,nd=bt&&(!Ql||Pn&&8<Pn&&11>=Pn),rc=" ",nc=!1;function sd(e,t){switch(e){case"keyup":return Vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Hm(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(nc=!0,rc);case"textInput":return e=t.data,e===rc&&nc?null:e;default:return null}}function Wm(e,t){if(Tr)return e==="compositionend"||!Ql&&sd(e,t)?(e=rd(),zs=Wl=Mt=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nd&&t.locale!=="ko"?null:t.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gm[e.type]:t==="textarea"}function ad(e,t,r,n){Du(n),t=ri(t,"onChange"),0<t.length&&(r=new Gl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,Gn=null;function Km(e){xd(e,0)}function Si(e){var t=$r(e);if(Tu(t))return e}function Qm(e,t){if(e==="change")return t}var ld=!1;if(bt){var ta;if(bt){var ra="oninput"in document;if(!ra){var ic=document.createElement("div");ic.setAttribute("oninput","return;"),ra=typeof ic.oninput=="function"}ta=ra}else ta=!1;ld=ta&&(!document.documentMode||9<document.documentMode)}function ac(){Tn&&(Tn.detachEvent("onpropertychange",od),Gn=Tn=null)}function od(e){if(e.propertyName==="value"&&Si(Gn)){var t=[];ad(t,Gn,e,Ul(e)),Uu(Km,t)}}function Jm(e,t,r){e==="focusin"?(ac(),Tn=t,Gn=r,Tn.attachEvent("onpropertychange",od)):e==="focusout"&&ac()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(Gn)}function Ym(e,t){if(e==="click")return Si(t)}function Zm(e,t){if(e==="input"||e==="change")return Si(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:ep;function Kn(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Sa.call(t,s)||!st(e[s],t[s]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oc(e,t){var r=lc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lc(r)}}function cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=ud(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cd(r.ownerDocument.documentElement,r)){if(n!==null&&Jl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=oc(r,a);var l=oc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rp=bt&&"documentMode"in document&&11>=document.documentMode,Rr=null,Ha=null,Rn=null,Wa=!1;function cc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wa||Rr==null||Rr!==Qs(n)||(n=Rr,"selectionStart"in n&&Jl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rn&&Kn(Rn,n)||(Rn=n,n=ri(Ha,"onSelect"),0<n.length&&(t=new Gl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rr)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ar={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},na={},dd={};bt&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Ci(e){if(na[e])return na[e];if(!Ar[e])return e;var t=Ar[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dd)return na[e]=t[r];return e}var hd=Ci("animationend"),fd=Ci("animationiteration"),md=Ci("animationstart"),pd=Ci("transitionend"),gd=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){gd.set(e,t),gr(t,[e])}for(var sa=0;sa<uc.length;sa++){var ia=uc[sa],np=ia.toLowerCase(),sp=ia[0].toUpperCase()+ia.slice(1);Kt(np,"on"+sp)}Kt(hd,"onAnimationEnd");Kt(fd,"onAnimationIteration");Kt(md,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(pd,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function dc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nm(n,t,void 0,e),e.currentTarget=null}function xd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&s.isPropagationStopped())break e;dc(s,c,u),a=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&s.isPropagationStopped())break e;dc(s,c,u),a=o}}}if(Xs)throw e=Ua,Xs=!1,Ua=null,e}function J(e,t){var r=t[Xa];r===void 0&&(r=t[Xa]=new Set);var n=e+"__bubble";r.has(n)||(yd(t,e,2,!1),r.add(n))}function aa(e,t,r){var n=0;t&&(n|=4),yd(r,e,n,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Qn(e){if(!e[Ns]){e[Ns]=!0,ku.forEach(function(r){r!=="selectionchange"&&(ip.has(r)||aa(r,!1,e),aa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,aa("selectionchange",!1,t))}}function yd(e,t,r,n){switch(td(t)){case 1:var s=vm;break;case 4:s=wm;break;default:s=Hl}r=s.bind(null,t,r,e),s=void 0,!Fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function la(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;l=l.return}for(;c!==null;){if(l=ar(c),l===null)return;if(o=l.tag,o===5||o===6){n=a=l;continue e}c=c.parentNode}}n=n.return}Uu(function(){var u=a,d=Ul(r),f=[];e:{var h=gd.get(e);if(h!==void 0){var p=Gl,m=e;switch(e){case"keypress":if(Fs(r)===0)break e;case"keydown":case"keyup":p=Im;break;case"focusin":m="focus",p=ea;break;case"focusout":m="blur",p=ea;break;case"beforeblur":case"afterblur":p=ea;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Lm;break;case hd:case fd:case md:p=Sm;break;case pd:p=Fm;break;case"scroll":p=jm;break;case"wheel":p=Bm;break;case"copy":case"cut":case"paste":p=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tc}var b=(t&4)!==0,k=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=Vn(g,x),w!=null&&b.push(Jn(g,w,y)))),k)break;g=g.return}0<b.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==La&&(m=r.relatedTarget||r.fromElement)&&(ar(m)||m[Nt]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?ar(m):null,m!==null&&(k=xr(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(b=Zo,w="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=tc,w="onPointerLeave",x="onPointerEnter",g="pointer"),k=p==null?h:$r(p),y=m==null?h:$r(m),h=new b(w,g+"leave",p,r,d),h.target=k,h.relatedTarget=y,w=null,ar(d)===u&&(b=new b(x,g+"enter",m,r,d),b.target=y,b.relatedTarget=k,w=b),k=w,p&&m)t:{for(b=p,x=m,g=0,y=b;y;y=jr(y))g++;for(y=0,w=x;w;w=jr(w))y++;for(;0<g-y;)b=jr(b),g--;for(;0<y-g;)x=jr(x),y--;for(;g--;){if(b===x||x!==null&&b===x.alternate)break t;b=jr(b),x=jr(x)}b=null}else b=null;p!==null&&hc(f,h,p,b,!1),m!==null&&k!==null&&hc(f,k,m,b,!0)}}e:{if(h=u?$r(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=Qm;else if(sc(h))if(ld)N=Zm;else{N=Xm;var v=Jm}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Ym);if(N&&(N=N(e,u))){ad(f,N,r,d);break e}v&&v(e,h,u),e==="focusout"&&(v=h._wrapperState)&&v.controlled&&h.type==="number"&&$a(h,"number",h.value)}switch(v=u?$r(u):window,e){case"focusin":(sc(v)||v.contentEditable==="true")&&(Rr=v,Ha=u,Rn=null);break;case"focusout":Rn=Ha=Rr=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,cc(f,r,d);break;case"selectionchange":if(rp)break;case"keydown":case"keyup":cc(f,r,d)}var S;if(Ql)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tr?sd(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(nd&&r.locale!=="ko"&&(Tr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Tr&&(S=rd()):(Mt=d,Wl="value"in Mt?Mt.value:Mt.textContent,Tr=!0)),v=ri(u,j),0<v.length&&(j=new ec(j,e,null,r,d),f.push({event:j,listeners:v}),S?j.data=S:(S=id(r),S!==null&&(j.data=S)))),(S=qm?Hm(e,r):Wm(e,r))&&(u=ri(u,"onBeforeInput"),0<u.length&&(d=new ec("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}xd(f,t)})}function Jn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ri(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Vn(e,r),a!=null&&n.unshift(Jn(e,a,s)),a=Vn(e,t),a!=null&&n.push(Jn(e,a,s))),e=e.return}return n}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hc(e,t,r,n,s){for(var a=t._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,s?(o=Vn(r,a),o!=null&&l.unshift(Jn(r,o,c))):s||(o=Vn(r,a),o!=null&&l.push(Jn(r,o,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var ap=/\r\n?/g,lp=/\u0000|\uFFFD/g;function fc(e){return(typeof e=="string"?e:""+e).replace(ap,`
`).replace(lp,"")}function _s(e,t,r){if(t=fc(t),fc(e)!==t&&r)throw Error(C(425))}function ni(){}var Ga=null,Ka=null;function Qa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(e){return mc.resolve(null).then(e).catch(up)}:Ja;function up(e){setTimeout(function(){throw e})}function oa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sn=Math.random().toString(36).slice(2),lt="__reactFiber$"+sn,Xn="__reactProps$"+sn,Nt="__reactContainer$"+sn,Xa="__reactEvents$"+sn,dp="__reactListeners$"+sn,hp="__reactHandles$"+sn;function ar(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nt]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pc(e);e!==null;){if(r=e[lt])return r;e=pc(e)}return t}e=r,r=e.parentNode}return null}function cs(e){return e=e[lt]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ei(e){return e[Xn]||null}var Ya=[],Or=-1;function Qt(e){return{current:e}}function X(e){0>Or||(e.current=Ya[Or],Ya[Or]=null,Or--)}function Q(e,t){Or++,Ya[Or]=e.current,e.current=t}var Gt={},ve=Qt(Gt),Pe=Qt(!1),dr=Gt;function Kr(e,t){var r=e.type.contextTypes;if(!r)return Gt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Te(e){return e=e.childContextTypes,e!=null}function si(){X(Pe),X(ve)}function gc(e,t,r){if(ve.current!==Gt)throw Error(C(168));Q(ve,t),Q(Pe,r)}function vd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Jf(e)||"Unknown",s));return te({},r,n)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,dr=ve.current,Q(ve,e),Q(Pe,Pe.current),!0}function xc(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=vd(e,t,dr),n.__reactInternalMemoizedMergedChildContext=e,X(Pe),X(ve),Q(ve,e)):X(Pe),Q(Pe,r)}var gt=null,Pi=!1,ca=!1;function wd(e){gt===null?gt=[e]:gt.push(e)}function fp(e){Pi=!0,wd(e)}function Jt(){if(!ca&&gt!==null){ca=!0;var e=0,t=W;try{var r=gt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gt=null,Pi=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),Hu(Bl,Jt),s}finally{W=t,ca=!1}}return null}var Ir=[],Mr=0,ai=null,li=0,Fe=[],Ue=0,hr=null,xt=1,yt="";function rr(e,t){Ir[Mr++]=li,Ir[Mr++]=ai,ai=e,li=t}function jd(e,t,r){Fe[Ue++]=xt,Fe[Ue++]=yt,Fe[Ue++]=hr,hr=e;var n=xt;e=yt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var a=32-tt(t)+s;if(30<a){var l=s-s%5;a=(n&(1<<l)-1).toString(32),n>>=l,s-=l,xt=1<<32-tt(t)+s|r<<s|n,yt=a+e}else xt=1<<a|r<<s|n,yt=e}function Xl(e){e.return!==null&&(rr(e,1),jd(e,1,0))}function Yl(e){for(;e===ai;)ai=Ir[--Mr],Ir[Mr]=null,li=Ir[--Mr],Ir[Mr]=null;for(;e===hr;)hr=Fe[--Ue],Fe[Ue]=null,yt=Fe[--Ue],Fe[Ue]=null,xt=Fe[--Ue],Fe[Ue]=null}var Ie=null,Oe=null,Y=!1,et=null;function bd(e,t){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Oe=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:xt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Oe=null,!0):!1;default:return!1}}function Za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(Y){var t=Oe;if(t){var r=t;if(!yc(e,t)){if(Za(e))throw Error(C(418));t=Ut(r.nextSibling);var n=Ie;t&&yc(e,t)?bd(n,r):(e.flags=e.flags&-4097|2,Y=!1,Ie=e)}}else{if(Za(e))throw Error(C(418));e.flags=e.flags&-4097|2,Y=!1,Ie=e}}}function vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function ks(e){if(e!==Ie)return!1;if(!Y)return vc(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qa(e.type,e.memoizedProps)),t&&(t=Oe)){if(Za(e))throw Nd(),Error(C(418));for(;t;)bd(e,t),t=Ut(t.nextSibling)}if(vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Oe=Ut(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=Ie?Ut(e.stateNode.nextSibling):null;return!0}function Nd(){for(var e=Oe;e;)e=Ut(e.nextSibling)}function Qr(){Oe=Ie=null,Y=!1}function Zl(e){et===null?et=[e]:et.push(e)}var mp=St.ReactCurrentBatchConfig;function pn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=s.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wc(e){var t=e._init;return t(e._payload)}function _d(e){function t(x,g){if(e){var y=x.deletions;y===null?(x.deletions=[g],x.flags|=16):y.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Ht(x,g),x.index=0,x.sibling=null,x}function a(x,g,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<g?(x.flags|=2,g):y):(x.flags|=2,g)):(x.flags|=1048576,g)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,g,y,w){return g===null||g.tag!==6?(g=ga(y,x.mode,w),g.return=x,g):(g=s(g,y),g.return=x,g)}function o(x,g,y,w){var N=y.type;return N===Pr?d(x,g,y.props.children,w,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Tt&&wc(N)===g.type)?(w=s(g,y.props),w.ref=pn(x,g,y),w.return=x,w):(w=Gs(y.type,y.key,y.props,null,x.mode,w),w.ref=pn(x,g,y),w.return=x,w)}function u(x,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=xa(y,x.mode,w),g.return=x,g):(g=s(g,y.children||[]),g.return=x,g)}function d(x,g,y,w,N){return g===null||g.tag!==7?(g=ur(y,x.mode,w,N),g.return=x,g):(g=s(g,y),g.return=x,g)}function f(x,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ga(""+g,x.mode,y),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:return y=Gs(g.type,g.key,g.props,null,x.mode,y),y.ref=pn(x,null,g),y.return=x,y;case Er:return g=xa(g,x.mode,y),g.return=x,g;case Tt:var w=g._init;return f(x,w(g._payload),y)}if(bn(g)||un(g))return g=ur(g,x.mode,y,null),g.return=x,g;Ss(x,g)}return null}function h(x,g,y,w){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:c(x,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:return y.key===N?o(x,g,y,w):null;case Er:return y.key===N?u(x,g,y,w):null;case Tt:return N=y._init,h(x,g,N(y._payload),w)}if(bn(y)||un(y))return N!==null?null:d(x,g,y,w,null);Ss(x,y)}return null}function p(x,g,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,c(g,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ps:return x=x.get(w.key===null?y:w.key)||null,o(g,x,w,N);case Er:return x=x.get(w.key===null?y:w.key)||null,u(g,x,w,N);case Tt:var v=w._init;return p(x,g,y,v(w._payload),N)}if(bn(w)||un(w))return x=x.get(y)||null,d(g,x,w,N,null);Ss(g,w)}return null}function m(x,g,y,w){for(var N=null,v=null,S=g,j=g=0,M=null;S!==null&&j<y.length;j++){S.index>j?(M=S,S=null):M=S.sibling;var O=h(x,S,y[j],w);if(O===null){S===null&&(S=M);break}e&&S&&O.alternate===null&&t(x,S),g=a(O,g,j),v===null?N=O:v.sibling=O,v=O,S=M}if(j===y.length)return r(x,S),Y&&rr(x,j),N;if(S===null){for(;j<y.length;j++)S=f(x,y[j],w),S!==null&&(g=a(S,g,j),v===null?N=S:v.sibling=S,v=S);return Y&&rr(x,j),N}for(S=n(x,S);j<y.length;j++)M=p(S,x,j,y[j],w),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?j:M.key),g=a(M,g,j),v===null?N=M:v.sibling=M,v=M);return e&&S.forEach(function(H){return t(x,H)}),Y&&rr(x,j),N}function b(x,g,y,w){var N=un(y);if(typeof N!="function")throw Error(C(150));if(y=N.call(y),y==null)throw Error(C(151));for(var v=N=null,S=g,j=g=0,M=null,O=y.next();S!==null&&!O.done;j++,O=y.next()){S.index>j?(M=S,S=null):M=S.sibling;var H=h(x,S,O.value,w);if(H===null){S===null&&(S=M);break}e&&S&&H.alternate===null&&t(x,S),g=a(H,g,j),v===null?N=H:v.sibling=H,v=H,S=M}if(O.done)return r(x,S),Y&&rr(x,j),N;if(S===null){for(;!O.done;j++,O=y.next())O=f(x,O.value,w),O!==null&&(g=a(O,g,j),v===null?N=O:v.sibling=O,v=O);return Y&&rr(x,j),N}for(S=n(x,S);!O.done;j++,O=y.next())O=p(S,x,j,O.value,w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),g=a(O,g,j),v===null?N=O:v.sibling=O,v=O);return e&&S.forEach(function(le){return t(x,le)}),Y&&rr(x,j),N}function k(x,g,y,w){if(typeof y=="object"&&y!==null&&y.type===Pr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:e:{for(var N=y.key,v=g;v!==null;){if(v.key===N){if(N=y.type,N===Pr){if(v.tag===7){r(x,v.sibling),g=s(v,y.props.children),g.return=x,x=g;break e}}else if(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Tt&&wc(N)===v.type){r(x,v.sibling),g=s(v,y.props),g.ref=pn(x,v,y),g.return=x,x=g;break e}r(x,v);break}else t(x,v);v=v.sibling}y.type===Pr?(g=ur(y.props.children,x.mode,w,y.key),g.return=x,x=g):(w=Gs(y.type,y.key,y.props,null,x.mode,w),w.ref=pn(x,g,y),w.return=x,x=w)}return l(x);case Er:e:{for(v=y.key;g!==null;){if(g.key===v)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(x,g.sibling),g=s(g,y.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=xa(y,x.mode,w),g.return=x,x=g}return l(x);case Tt:return v=y._init,k(x,g,v(y._payload),w)}if(bn(y))return m(x,g,y,w);if(un(y))return b(x,g,y,w);Ss(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(x,g.sibling),g=s(g,y),g.return=x,x=g):(r(x,g),g=ga(y,x.mode,w),g.return=x,x=g),l(x)):r(x,g)}return k}var Jr=_d(!0),kd=_d(!1),oi=Qt(null),ci=null,Dr=null,eo=null;function to(){eo=Dr=ci=null}function ro(e){var t=oi.current;X(oi),e._currentValue=t}function tl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qr(e,t){ci=e,eo=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(eo!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(ci===null)throw Error(C(308));Dr=e,ci.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var lr=null;function no(e){lr===null?lr=[e]:lr.push(e)}function Sd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,no(t)):(r.next=s.next,s.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rt=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_t(e,r)}return s=n.interleaved,s===null?(t.next=t,no(n)):(t.next=s.next,s.next=t),n.interleaved=t,_t(e,r)}function Us(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vl(e,r)}}function jc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ui(e,t,r,n){var s=e.updateQueue;Rt=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?a=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;l=0,d=u=o=null,c=a;do{var h=c.lane,p=c.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var m=e,b=c;switch(h=t,p=r,b.tag){case 1:if(m=b.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=te({},f,h);break e;case 2:Rt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,o=f):d=d.next=p,l|=h;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;h=c,c=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(o=f),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);mr|=l,e.lanes=l,e.memoizedState=f}}function bc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var us={},ct=Qt(us),Yn=Qt(us),Zn=Qt(us);function or(e){if(e===us)throw Error(C(174));return e}function io(e,t){switch(Q(Zn,t),Q(Yn,e),Q(ct,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ia(t,e)}X(ct),Q(ct,t)}function Xr(){X(ct),X(Yn),X(Zn)}function Ed(e){or(Zn.current);var t=or(ct.current),r=Ia(t,e.type);t!==r&&(Q(Yn,e),Q(ct,r))}function ao(e){Yn.current===e&&(X(ct),X(Yn))}var Z=Qt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function lo(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var Bs=St.ReactCurrentDispatcher,da=St.ReactCurrentBatchConfig,fr=0,ee=null,ie=null,ue=null,hi=!1,An=!1,es=0,pp=0;function pe(){throw Error(C(321))}function oo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!st(e[r],t[r]))return!1;return!0}function co(e,t,r,n,s,a){if(fr=a,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bs.current=e===null||e.memoizedState===null?vp:wp,e=r(n,s),An){a=0;do{if(An=!1,es=0,25<=a)throw Error(C(301));a+=1,ue=ie=null,t.updateQueue=null,Bs.current=jp,e=r(n,s)}while(An)}if(Bs.current=fi,t=ie!==null&&ie.next!==null,fr=0,ue=ie=ee=null,hi=!1,t)throw Error(C(300));return e}function uo(){var e=es!==0;return es=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function Ge(){if(ie===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,ie=e;else{if(e===null)throw Error(C(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function ts(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=Ge(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var c=l=null,o=null,u=a;do{var d=u.lane;if((fr&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=f,l=n):o=o.next=f,ee.lanes|=d,mr|=d}u=u.next}while(u!==null&&u!==a);o===null?l=n:o.next=c,st(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ee.lanes|=a,mr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fa(e){var t=Ge(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);st(a,t.memoizedState)||(Ee=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Pd(){}function Td(e,t){var r=ee,n=Ge(),s=t(),a=!st(n.memoizedState,s);if(a&&(n.memoizedState=s,Ee=!0),n=n.queue,ho($d.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,rs(9,Ad.bind(null,r,n,s,t),void 0,null),de===null)throw Error(C(349));fr&30||Rd(r,t,s)}return s}function Rd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ad(e,t,r,n){t.value=r,t.getSnapshot=n,Od(t)&&Id(e)}function $d(e,t,r){return r(function(){Od(t)&&Id(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!st(e,r)}catch{return!0}}function Id(e){var t=_t(e,1);t!==null&&rt(t,e,1,-1)}function Nc(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,ee,e),[t.memoizedState,e]}function rs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Md(){return Ge().memoizedState}function Vs(e,t,r,n){var s=at();ee.flags|=e,s.memoizedState=rs(1|t,r,void 0,n===void 0?null:n)}function Ti(e,t,r,n){var s=Ge();n=n===void 0?null:n;var a=void 0;if(ie!==null){var l=ie.memoizedState;if(a=l.destroy,n!==null&&oo(n,l.deps)){s.memoizedState=rs(t,r,a,n);return}}ee.flags|=e,s.memoizedState=rs(1|t,r,a,n)}function _c(e,t){return Vs(8390656,8,e,t)}function ho(e,t){return Ti(2048,8,e,t)}function Dd(e,t){return Ti(4,2,e,t)}function Ld(e,t){return Ti(4,4,e,t)}function zd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fd(e,t,r){return r=r!=null?r.concat([e]):null,Ti(4,4,zd.bind(null,t,e),r)}function fo(){}function Ud(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&oo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&oo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vd(e,t,r){return fr&21?(st(r,t)||(r=Ku(),ee.lanes|=r,mr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function gp(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=da.transition;da.transition={};try{e(!1),t()}finally{W=r,da.transition=n}}function qd(){return Ge().memoizedState}function xp(e,t,r){var n=qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hd(e))Wd(t,r);else if(r=Sd(e,t,r,n),r!==null){var s=be();rt(r,e,n,s),Gd(r,t,n)}}function yp(e,t,r){var n=qt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hd(e))Wd(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,r);if(s.hasEagerState=!0,s.eagerState=c,st(c,l)){var o=t.interleaved;o===null?(s.next=s,no(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}r=Sd(e,t,s,n),r!==null&&(s=be(),rt(r,e,n,s),Gd(r,t,n))}}function Hd(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Wd(e,t){An=hi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vl(e,r)}}var fi={readContext:We,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},vp={readContext:We,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:_c,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,zd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xp.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:fo,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=gp.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,s=at();if(Y){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),de===null)throw Error(C(349));fr&30||Rd(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,_c($d.bind(null,n,a,e),[e]),n.flags|=2048,rs(9,Ad.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=at(),t=de.identifierPrefix;if(Y){var r=yt,n=xt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=es++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wp={readContext:We,useCallback:Ud,useContext:We,useEffect:ho,useImperativeHandle:Fd,useInsertionEffect:Dd,useLayoutEffect:Ld,useMemo:Bd,useReducer:ha,useRef:Md,useState:function(){return ha(ts)},useDebugValue:fo,useDeferredValue:function(e){var t=Ge();return Vd(t,ie.memoizedState,e)},useTransition:function(){var e=ha(ts)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Pd,useSyncExternalStore:Td,useId:qd,unstable_isNewReconciler:!1},jp={readContext:We,useCallback:Ud,useContext:We,useEffect:ho,useImperativeHandle:Fd,useInsertionEffect:Dd,useLayoutEffect:Ld,useMemo:Bd,useReducer:fa,useRef:Md,useState:function(){return fa(ts)},useDebugValue:fo,useDeferredValue:function(e){var t=Ge();return ie===null?t.memoizedState=e:Vd(t,ie.memoizedState,e)},useTransition:function(){var e=fa(ts)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Pd,useSyncExternalStore:Td,useId:qd,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ri={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=be(),s=qt(e),a=wt(n,s);a.payload=t,r!=null&&(a.callback=r),t=Bt(e,a,s),t!==null&&(rt(t,e,s,n),Us(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=be(),s=qt(e),a=wt(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Bt(e,a,s),t!==null&&(rt(t,e,s,n),Us(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=be(),n=qt(e),s=wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Bt(e,s,n),t!==null&&(rt(t,e,n,r),Us(t,e,n))}};function kc(e,t,r,n,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Kn(r,n)||!Kn(s,a):!0}function Kd(e,t,r){var n=!1,s=Gt,a=t.contextType;return typeof a=="object"&&a!==null?a=We(a):(s=Te(t)?dr:ve.current,n=t.contextTypes,a=(n=n!=null)?Kr(e,s):Gt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ri,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ri.enqueueReplaceState(t,t.state,null)}function nl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},so(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=We(a):(a=Te(t)?dr:ve.current,s.context=Kr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(rl(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ri.enqueueReplaceState(s,s.state,null),ui(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var r="",n=t;do r+=Qf(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ma(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function Qd(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pi||(pi=!0,ml=n),sl(e,t)},r}function Jd(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){sl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){sl(e,t),typeof n!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Cc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Mp.bind(null,e,t,r),t.then(e,e))}function Ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Bt(r,t,1))),r.lanes|=1),e)}var Np=St.ReactCurrentOwner,Ee=!1;function je(e,t,r,n){t.child=e===null?kd(t,null,r,n):Jr(t,e.child,r,n)}function Tc(e,t,r,n,s){r=r.render;var a=t.ref;return qr(t,s),n=co(e,t,r,n,a,s),r=uo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(Y&&r&&Xl(t),t.flags|=1,je(e,t,n,s),t.child)}function Rc(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!jo(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Xd(e,t,a,n,s)):(e=Gs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(l,n)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Ht(a,n),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Kn(a,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,kt(e,t,s)}return il(e,t,r,n,s)}function Yd(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(zr,$e),$e|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(zr,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Q(zr,$e),$e|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Q(zr,$e),$e|=n;return je(e,t,s,r),t.child}function Zd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function il(e,t,r,n,s){var a=Te(r)?dr:ve.current;return a=Kr(t,a),qr(t,s),r=co(e,t,r,n,a,s),n=uo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(Y&&n&&Xl(t),t.flags|=1,je(e,t,r,s),t.child)}function Ac(e,t,r,n,s){if(Te(r)){var a=!0;ii(t)}else a=!1;if(qr(t,s),t.stateNode===null)qs(e,t),Kd(t,r,n),nl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Te(r)?dr:ve.current,u=Kr(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Sc(t,l,n,u),Rt=!1;var h=t.memoizedState;l.state=h,ui(t,n,l,s),o=t.memoizedState,c!==n||h!==o||Pe.current||Rt?(typeof d=="function"&&(rl(t,r,d,n),o=t.memoizedState),(c=Rt||kc(t,r,c,n,h,o,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Cd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Xe(t.type,c),l.props=u,f=t.pendingProps,h=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=We(o):(o=Te(r)?dr:ve.current,o=Kr(t,o));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==f||h!==o)&&Sc(t,l,n,o),Rt=!1,h=t.memoizedState,l.state=h,ui(t,n,l,s);var m=t.memoizedState;c!==f||h!==m||Pe.current||Rt?(typeof p=="function"&&(rl(t,r,p,n),m=t.memoizedState),(u=Rt||kc(t,r,u,n,h,m,o)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),l.props=n,l.state=m,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return al(e,t,r,n,a,s)}function al(e,t,r,n,s,a){Zd(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&xc(t,r,!1),kt(e,t,a);n=t.stateNode,Np.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Jr(t,e.child,null,a),t.child=Jr(t,null,c,a)):je(e,t,c,a),t.memoizedState=n.state,s&&xc(t,r,!0),t.child}function eh(e){var t=e.stateNode;t.pendingContext?gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gc(e,t.context,!1),io(e,t.containerInfo)}function $c(e,t,r,n,s){return Qr(),Zl(s),t.flags|=256,je(e,t,r,n),t.child}var ll={dehydrated:null,treeContext:null,retryLane:0};function ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function th(e,t,r){var n=t.pendingProps,s=Z.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(Z,s&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Oi(l,n,0,null),e=ur(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ol(r),t.memoizedState=ll,e):mo(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return _p(e,t,l,n,c,s,r);if(a){a=n.fallback,l=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=Ht(s,o),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=Ht(c,a):(a=ur(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?ol(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=ll,n}return a=e.child,e=a.sibling,n=Ht(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function mo(e,t){return t=Oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,r,n){return n!==null&&Zl(n),Jr(t,e.child,null,r),e=mo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _p(e,t,r,n,s,a,l){if(r)return t.flags&256?(t.flags&=-257,n=ma(Error(C(422))),Cs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Oi({mode:"visible",children:n.children},s,0,null),a=ur(a,s,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Jr(t,e.child,null,l),t.child.memoizedState=ol(l),t.memoizedState=ll,a);if(!(t.mode&1))return Cs(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(C(419)),n=ma(a,n,void 0),Cs(e,t,l,n)}if(c=(l&e.childLanes)!==0,Ee||c){if(n=de,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,_t(e,s),rt(n,e,s,-1))}return wo(),n=ma(Error(C(421))),Cs(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Oe=Ut(s.nextSibling),Ie=t,Y=!0,et=null,e!==null&&(Fe[Ue++]=xt,Fe[Ue++]=yt,Fe[Ue++]=hr,xt=e.id,yt=e.overflow,hr=t),t=mo(t,n.children),t.flags|=4096,t)}function Oc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tl(e.return,t,r)}function pa(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function rh(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(je(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oc(e,r,t);else if(e.tag===19)Oc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(Z,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&di(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),pa(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&di(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}pa(t,!0,r,null,a);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Ht(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ht(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kp(e,t,r){switch(t.tag){case 3:eh(t),Qr();break;case 5:Ed(t);break;case 1:Te(t.type)&&ii(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Q(oi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?th(e,t,r):(Q(Z,Z.current&1),e=kt(e,t,r),e!==null?e.sibling:null);Q(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,Yd(e,t,r)}return kt(e,t,r)}var nh,cl,sh,ih;nh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cl=function(){};sh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,or(ct.current);var a=null;switch(r){case"input":s=Ra(e,s),n=Ra(e,n),a=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),a=[];break;case"textarea":s=Oa(e,s),n=Oa(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ni)}Ma(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Un.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var o=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(a||(a=[]),a.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Un.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&J("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};ih=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sp(e,t,r){var n=t.pendingProps;switch(Yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Te(t.type)&&si(),ge(t),null;case 3:return n=t.stateNode,Xr(),X(Pe),X(ve),lo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(xl(et),et=null))),cl(e,t),ge(t),null;case 5:ao(t);var s=or(Zn.current);if(r=t.type,e!==null&&t.stateNode!=null)sh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return ge(t),null}if(e=or(ct.current),ks(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[lt]=t,n[Xn]=a,e=(t.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(s=0;s<_n.length;s++)J(_n[s],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":Vo(n,a),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},J("invalid",n);break;case"textarea":Ho(n,a),J("invalid",n)}Ma(r,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&_s(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&_s(n.textContent,c,e),s=["children",""+c]):Un.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&J("scroll",n)}switch(r){case"input":gs(n),qo(n,a,!0);break;case"textarea":gs(n),Wo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ni)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$u(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[lt]=t,e[Xn]=n,nh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Da(r,n),r){case"dialog":J("cancel",e),J("close",e),s=n;break;case"iframe":case"object":case"embed":J("load",e),s=n;break;case"video":case"audio":for(s=0;s<_n.length;s++)J(_n[s],e);s=n;break;case"source":J("error",e),s=n;break;case"img":case"image":case"link":J("error",e),J("load",e),s=n;break;case"details":J("toggle",e),s=n;break;case"input":Vo(e,n),s=Ra(e,n),J("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),J("invalid",e);break;case"textarea":Ho(e,n),s=Oa(e,n),J("invalid",e);break;default:s=n}Ma(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?Mu(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Ou(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Bn(e,o):typeof o=="number"&&Bn(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Un.hasOwnProperty(a)?o!=null&&a==="onScroll"&&J("scroll",e):o!=null&&Dl(e,a,o,l))}switch(r){case"input":gs(e),qo(e,n,!1);break;case"textarea":gs(e),Wo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Fr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Fr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)ih(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=or(Zn.current),or(ct.current),ks(t)){if(n=t.stateNode,r=t.memoizedProps,n[lt]=t,(a=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:_s(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=t,t.stateNode=n}return ge(t),null;case 13:if(X(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Oe!==null&&t.mode&1&&!(t.flags&128))Nd(),Qr(),t.flags|=98560,a=!1;else if(a=ks(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(C(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[lt]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),a=!1}else et!==null&&(xl(et),et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):wo())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Xr(),cl(e,t),e===null&&Qn(t.stateNode.containerInfo),ge(t),null;case 10:return ro(t.type._context),ge(t),null;case 17:return Te(t.type)&&si(),ge(t),null;case 19:if(X(Z),a=t.memoizedState,a===null)return ge(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)gn(a,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=di(e),l!==null){for(t.flags|=128,gn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(Z,Z.current&1|2),t.child}e=e.sibling}a.tail!==null&&ne()>Zr&&(t.flags|=128,n=!0,gn(a,!1),t.lanes=4194304)}else{if(!n)if(e=di(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Y)return ge(t),null}else 2*ne()-a.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,n=!0,gn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,r=Z.current,Q(Z,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return vo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$e&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Cp(e,t){switch(Yl(t),t.tag){case 1:return Te(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),X(Pe),X(ve),lo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ao(t),null;case 13:if(X(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Z),null;case 4:return Xr(),null;case 10:return ro(t.type._context),null;case 22:case 23:return vo(),null;case 24:return null;default:return null}}var Es=!1,ye=!1,Ep=typeof WeakSet=="function"?WeakSet:Set,$=null;function Lr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function ul(e,t,r){try{r()}catch(n){re(e,t,n)}}var Ic=!1;function Pp(e,t){if(Ga=ei,e=ud(),Jl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(c=l+s),f!==a||n!==0&&f.nodeType!==3||(o=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(c=l),h===a&&++d===n&&(o=l),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ka={focusedElem:e,selectionRange:r},ei=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,k=m.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Xe(t.type,b),k);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){re(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return m=Ic,Ic=!1,m}function $n(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ul(t,r,a)}s=s.next}while(s!==n)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[Xn],delete t[Xa],delete t[dp],delete t[hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lh(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ni));else if(n!==4&&(e=e.child,e!==null))for(hl(e,t,r),e=e.sibling;e!==null;)hl(e,t,r),e=e.sibling}function fl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fl(e,t,r),e=e.sibling;e!==null;)fl(e,t,r),e=e.sibling}var he=null,Ye=!1;function Et(e,t,r){for(r=r.child;r!==null;)oh(e,t,r),r=r.sibling}function oh(e,t,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(_i,r)}catch{}switch(r.tag){case 5:ye||Lr(r,t);case 6:var n=he,s=Ye;he=null,Et(e,t,r),he=n,Ye=s,he!==null&&(Ye?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Ye?(e=he,r=r.stateNode,e.nodeType===8?oa(e.parentNode,r):e.nodeType===1&&oa(e,r),Wn(e)):oa(he,r.stateNode));break;case 4:n=he,s=Ye,he=r.stateNode.containerInfo,Ye=!0,Et(e,t,r),he=n,Ye=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&ul(r,t,l),s=s.next}while(s!==n)}Et(e,t,r);break;case 1:if(!ye&&(Lr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){re(r,t,c)}Et(e,t,r);break;case 21:Et(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Et(e,t,r),ye=n):Et(e,t,r);break;default:Et(e,t,r)}}function Dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ep),t.forEach(function(n){var s=Lp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:he=c.stateNode,Ye=!1;break e;case 3:he=c.stateNode.containerInfo,Ye=!0;break e;case 4:he=c.stateNode.containerInfo,Ye=!0;break e}c=c.return}if(he===null)throw Error(C(160));oh(a,l,s),he=null,Ye=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}function ch(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),it(e),n&4){try{$n(3,e,e.return),Ai(3,e)}catch(b){re(e,e.return,b)}try{$n(5,e,e.return)}catch(b){re(e,e.return,b)}}break;case 1:Qe(t,e),it(e),n&512&&r!==null&&Lr(r,r.return);break;case 5:if(Qe(t,e),it(e),n&512&&r!==null&&Lr(r,r.return),e.flags&32){var s=e.stateNode;try{Bn(s,"")}catch(b){re(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Ru(s,a),Da(c,l);var u=Da(c,a);for(l=0;l<o.length;l+=2){var d=o[l],f=o[l+1];d==="style"?Mu(s,f):d==="dangerouslySetInnerHTML"?Ou(s,f):d==="children"?Bn(s,f):Dl(s,d,f,u)}switch(c){case"input":Aa(s,a);break;case"textarea":Au(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Fr(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Fr(s,!!a.multiple,a.defaultValue,!0):Fr(s,!!a.multiple,a.multiple?[]:"",!1))}s[Xn]=a}catch(b){re(e,e.return,b)}}break;case 6:if(Qe(t,e),it(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(b){re(e,e.return,b)}}break;case 3:if(Qe(t,e),it(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(b){re(e,e.return,b)}break;case 4:Qe(t,e),it(e);break;case 13:Qe(t,e),it(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(xo=ne())),n&4&&Dc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(u=ye)||d,Qe(t,e),ye=u):Qe(t,e),it(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,p=h.child,h.tag){case 0:case 11:case 14:case 15:$n(4,h,h.return);break;case 1:Lr(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(b){re(n,r,b)}}break;case 5:Lr(h,h.return);break;case 22:if(h.memoizedState!==null){zc(f);continue}}p!==null?(p.return=h,$=p):zc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=f.stateNode,o=f.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Iu("display",l))}catch(b){re(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){re(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qe(t,e),it(e),n&4&&Dc(e);break;case 21:break;default:Qe(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Bn(s,""),n.flags&=-33);var a=Mc(e);fl(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Mc(e);hl(e,c,l);break;default:throw Error(C(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,r){$=e,uh(e)}function uh(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,a=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Es;if(!l){var c=s.alternate,o=c!==null&&c.memoizedState!==null||ye;c=Es;var u=ye;if(Es=l,(ye=o)&&!u)for($=s;$!==null;)l=$,o=l.child,l.tag===22&&l.memoizedState!==null?Fc(s):o!==null?(o.return=l,$=o):Fc(s);for(;a!==null;)$=a,uh(a),a=a.sibling;$=s,Es=c,ye=u}Lc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$=a):Lc(e)}}function Lc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Ai(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bc(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bc(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ye||t.flags&512&&dl(t)}catch(h){re(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function zc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Fc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ai(4,t)}catch(o){re(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){re(t,s,o)}}var a=t.return;try{dl(t)}catch(o){re(t,a,o)}break;case 5:var l=t.return;try{dl(t)}catch(o){re(t,l,o)}}}catch(o){re(t,t.return,o)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Rp=Math.ceil,mi=St.ReactCurrentDispatcher,po=St.ReactCurrentOwner,Ve=St.ReactCurrentBatchConfig,q=0,de=null,se=null,fe=0,$e=0,zr=Qt(0),ae=0,ns=null,mr=0,$i=0,go=0,On=null,Se=null,xo=0,Zr=1/0,mt=null,pi=!1,ml=null,Vt=null,Ps=!1,Dt=null,gi=0,In=0,pl=null,Hs=-1,Ws=0;function be(){return q&6?ne():Hs!==-1?Hs:Hs=ne()}function qt(e){return e.mode&1?q&2&&fe!==0?fe&-fe:mp.transition!==null?(Ws===0&&(Ws=Ku()),Ws):(e=W,e!==0||(e=window.event,e=e===void 0?16:td(e.type)),e):1}function rt(e,t,r,n){if(50<In)throw In=0,pl=null,Error(C(185));ls(e,r,n),(!(q&2)||e!==de)&&(e===de&&(!(q&2)&&($i|=r),ae===4&&Ot(e,fe)),Re(e,n),r===1&&q===0&&!(t.mode&1)&&(Zr=ne()+500,Pi&&Jt()))}function Re(e,t){var r=e.callbackNode;mm(e,t);var n=Zs(e,e===de?fe:0);if(n===0)r!==null&&Qo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qo(r),t===1)e.tag===0?fp(Uc.bind(null,e)):wd(Uc.bind(null,e)),cp(function(){!(q&6)&&Jt()}),r=null;else{switch(Qu(n)){case 1:r=Bl;break;case 4:r=Wu;break;case 16:r=Ys;break;case 536870912:r=Gu;break;default:r=Ys}r=yh(r,dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dh(e,t){if(Hs=-1,Ws=0,q&6)throw Error(C(327));var r=e.callbackNode;if(Hr()&&e.callbackNode!==r)return null;var n=Zs(e,e===de?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xi(e,n);else{t=n;var s=q;q|=2;var a=fh();(de!==e||fe!==t)&&(mt=null,Zr=ne()+500,cr(e,t));do try{Op();break}catch(c){hh(e,c)}while(!0);to(),mi.current=a,q=s,se!==null?t=0:(de=null,fe=0,t=ae)}if(t!==0){if(t===2&&(s=Ba(e),s!==0&&(n=s,t=gl(e,s))),t===1)throw r=ns,cr(e,0),Ot(e,n),Re(e,ne()),r;if(t===6)Ot(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ap(s)&&(t=xi(e,n),t===2&&(a=Ba(e),a!==0&&(n=a,t=gl(e,a))),t===1))throw r=ns,cr(e,0),Ot(e,n),Re(e,ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:nr(e,Se,mt);break;case 3:if(Ot(e,n),(n&130023424)===n&&(t=xo+500-ne(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ja(nr.bind(null,e,Se,mt),t);break}nr(e,Se,mt);break;case 4:if(Ot(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-tt(n);a=1<<l,l=t[l],l>s&&(s=l),n&=~a}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rp(n/1960))-n,10<n){e.timeoutHandle=Ja(nr.bind(null,e,Se,mt),n);break}nr(e,Se,mt);break;case 5:nr(e,Se,mt);break;default:throw Error(C(329))}}}return Re(e,ne()),e.callbackNode===r?dh.bind(null,e):null}function gl(e,t){var r=On;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=xi(e,t),e!==2&&(t=Se,Se=r,t!==null&&xl(t)),e}function xl(e){Se===null?Se=e:Se.push.apply(Se,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!st(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ot(e,t){for(t&=~go,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function Uc(e){if(q&6)throw Error(C(327));Hr();var t=Zs(e,0);if(!(t&1))return Re(e,ne()),null;var r=xi(e,t);if(e.tag!==0&&r===2){var n=Ba(e);n!==0&&(t=n,r=gl(e,n))}if(r===1)throw r=ns,cr(e,0),Ot(e,t),Re(e,ne()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,Se,mt),Re(e,ne()),null}function yo(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(Zr=ne()+500,Pi&&Jt())}}function pr(e){Dt!==null&&Dt.tag===0&&!(q&6)&&Hr();var t=q;q|=1;var r=Ve.transition,n=W;try{if(Ve.transition=null,W=1,e)return e()}finally{W=n,Ve.transition=r,q=t,!(q&6)&&Jt()}}function vo(){$e=zr.current,X(zr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,op(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(Yl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&si();break;case 3:Xr(),X(Pe),X(ve),lo();break;case 5:ao(n);break;case 4:Xr();break;case 13:X(Z);break;case 19:X(Z);break;case 10:ro(n.type._context);break;case 22:case 23:vo()}r=r.return}if(de=e,se=e=Ht(e.current,null),fe=$e=t,ae=0,ns=null,go=$i=mr=0,Se=On=null,lr!==null){for(t=0;t<lr.length;t++)if(r=lr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=s,n.next=l}r.pending=n}lr=null}return e}function hh(e,t){do{var r=se;try{if(to(),Bs.current=fi,hi){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}hi=!1}if(fr=0,ue=ie=ee=null,An=!1,es=0,po.current=null,r===null||r.return===null){ae=1,ns=t,se=null;break}e:{var a=e,l=r.return,c=r,o=t;if(t=fe,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ec(l);if(p!==null){p.flags&=-257,Pc(p,l,c,a,t),p.mode&1&&Cc(a,u,t),t=p,o=u;var m=t.updateQueue;if(m===null){var b=new Set;b.add(o),t.updateQueue=b}else m.add(o);break e}else{if(!(t&1)){Cc(a,u,t),wo();break e}o=Error(C(426))}}else if(Y&&c.mode&1){var k=Ec(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Pc(k,l,c,a,t),Zl(Yr(o,c));break e}}a=o=Yr(o,c),ae!==4&&(ae=2),On===null?On=[a]:On.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Qd(a,o,t);jc(a,x);break e;case 1:c=o;var g=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vt===null||!Vt.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Jd(a,c,t);jc(a,w);break e}}a=a.return}while(a!==null)}ph(r)}catch(N){t=N,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function fh(){var e=mi.current;return mi.current=fi,e===null?fi:e}function wo(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(mr&268435455)&&!($i&268435455)||Ot(de,fe)}function xi(e,t){var r=q;q|=2;var n=fh();(de!==e||fe!==t)&&(mt=null,cr(e,t));do try{$p();break}catch(s){hh(e,s)}while(!0);if(to(),q=r,mi.current=n,se!==null)throw Error(C(261));return de=null,fe=0,ae}function $p(){for(;se!==null;)mh(se)}function Op(){for(;se!==null&&!im();)mh(se)}function mh(e){var t=xh(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?ph(e):se=t,po.current=null}function ph(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Cp(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(r=Sp(r,t,$e),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function nr(e,t,r){var n=W,s=Ve.transition;try{Ve.transition=null,W=1,Ip(e,t,r,n)}finally{Ve.transition=s,W=n}return null}function Ip(e,t,r,n){do Hr();while(Dt!==null);if(q&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(pm(e,a),e===de&&(se=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,yh(Ys,function(){return Hr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ve.transition,Ve.transition=null;var l=W;W=1;var c=q;q|=4,po.current=null,Pp(e,r),ch(r,e),tp(Ka),ei=!!Ga,Ka=Ga=null,e.current=r,Tp(r),am(),q=c,W=l,Ve.transition=a}else e.current=r;if(Ps&&(Ps=!1,Dt=e,gi=s),a=e.pendingLanes,a===0&&(Vt=null),cm(r.stateNode),Re(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,e=ml,ml=null,e;return gi&1&&e.tag!==0&&Hr(),a=e.pendingLanes,a&1?e===pl?In++:(In=0,pl=e):In=0,Jt(),null}function Hr(){if(Dt!==null){var e=Qu(gi),t=Ve.transition,r=W;try{if(Ve.transition=null,W=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,gi=0,q&6)throw Error(C(331));var s=q;for(q|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:$n(8,d,a)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,p=d.return;if(ah(d),d===u){$=null;break}if(h!==null){h.return=p,$=h;break}$=p}}}var m=a.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$n(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}var g=e.current;for($=g;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=g;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ai(9,c)}}catch(N){re(c,c.return,N)}if(c===l){$=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,$=w;break e}$=c.return}}if(q=s,Jt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(_i,e)}catch{}n=!0}return n}finally{W=r,Ve.transition=t}}return!1}function Bc(e,t,r){t=Yr(r,t),t=Qd(e,t,1),e=Bt(e,t,1),t=be(),e!==null&&(ls(e,1,t),Re(e,t))}function re(e,t,r){if(e.tag===3)Bc(e,e,r);else for(;t!==null;){if(t.tag===3){Bc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vt===null||!Vt.has(n))){e=Yr(r,e),e=Jd(t,e,1),t=Bt(t,e,1),e=be(),t!==null&&(ls(t,1,e),Re(t,e));break}}t=t.return}}function Mp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>ne()-xo?cr(e,0):go|=r),Re(e,t)}function gh(e,t){t===0&&(e.mode&1?(t=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):t=1);var r=be();e=_t(e,t),e!==null&&(ls(e,t,r),Re(e,r))}function Dp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gh(e,r)}function Lp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),gh(e,r)}var xh;xh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,kp(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,Y&&t.flags&1048576&&jd(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var s=Kr(t,ve.current);qr(t,r),s=co(null,t,n,e,s,r);var a=uo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(n)?(a=!0,ii(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,so(t),s.updater=Ri,t.stateNode=s,s._reactInternals=t,nl(t,n,e,r),t=al(null,t,n,!0,a,r)):(t.tag=0,Y&&a&&Xl(t),je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Fp(n),e=Xe(n,e),s){case 0:t=il(null,t,n,e,r);break e;case 1:t=Ac(null,t,n,e,r);break e;case 11:t=Tc(null,t,n,e,r);break e;case 14:t=Rc(null,t,n,Xe(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),il(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Ac(e,t,n,s,r);case 3:e:{if(eh(t),e===null)throw Error(C(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Cd(e,t),ui(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Yr(Error(C(423)),t),t=$c(e,t,n,r,s);break e}else if(n!==s){s=Yr(Error(C(424)),t),t=$c(e,t,n,r,s);break e}else for(Oe=Ut(t.stateNode.containerInfo.firstChild),Ie=t,Y=!0,et=null,r=kd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),n===s){t=kt(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return Ed(t),e===null&&el(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,Qa(n,s)?l=null:a!==null&&Qa(n,a)&&(t.flags|=32),Zd(e,t),je(e,t,l,r),t.child;case 6:return e===null&&el(t),null;case 13:return th(e,t,r);case 4:return io(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jr(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Tc(e,t,n,s,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,Q(oi,n._currentValue),n._currentValue=l,a!==null)if(st(a.value,l)){if(a.children===s.children&&!Pe.current){t=kt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=wt(-1,r&-r),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),tl(a.return,r,t),c.lanes|=r;break}o=o.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(C(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),tl(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qr(t,r),s=We(s),n=n(s),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,s=Xe(n,t.pendingProps),s=Xe(n.type,s),Rc(e,t,n,s,r);case 15:return Xd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),qs(e,t),t.tag=1,Te(n)?(e=!0,ii(t)):e=!1,qr(t,r),Kd(t,n,s),nl(t,n,s,r),al(null,t,n,!0,e,r);case 19:return rh(e,t,r);case 22:return Yd(e,t,r)}throw Error(C(156,t.tag))};function yh(e,t){return Hu(e,t)}function zp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,r,n){return new zp(e,t,r,n)}function jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fp(e){if(typeof e=="function")return jo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zl)return 11;if(e===Fl)return 14}return 2}function Ht(e,t){var r=e.alternate;return r===null?(r=Be(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,n,s,a){var l=2;if(n=e,typeof e=="function")jo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Pr:return ur(r.children,s,a,t);case Ll:l=8,s|=8;break;case Ca:return e=Be(12,r,t,s|2),e.elementType=Ca,e.lanes=a,e;case Ea:return e=Be(13,r,t,s),e.elementType=Ea,e.lanes=a,e;case Pa:return e=Be(19,r,t,s),e.elementType=Pa,e.lanes=a,e;case Eu:return Oi(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Su:l=10;break e;case Cu:l=9;break e;case zl:l=11;break e;case Fl:l=14;break e;case Tt:l=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Be(l,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ur(e,t,r,n){return e=Be(7,e,n,t),e.lanes=r,e}function Oi(e,t,r,n){return e=Be(22,e,n,t),e.elementType=Eu,e.lanes=r,e.stateNode={isHidden:!1},e}function ga(e,t,r){return e=Be(6,e,null,t),e.lanes=r,e}function xa(e,t,r){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Up(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bo(e,t,r,n,s,a,l,c,o){return e=new Up(e,t,r,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Be(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},so(a),e}function Bp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vh(e){if(!e)return Gt;e=e._reactInternals;e:{if(xr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Te(r))return vd(e,r,t)}return t}function wh(e,t,r,n,s,a,l,c,o){return e=bo(r,n,!0,e,s,a,l,c,o),e.context=vh(null),r=e.current,n=be(),s=qt(r),a=wt(n,s),a.callback=t??null,Bt(r,a,s),e.current.lanes=s,ls(e,s,n),Re(e,n),e}function Ii(e,t,r,n){var s=t.current,a=be(),l=qt(s);return r=vh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bt(s,t,l),e!==null&&(rt(e,s,l,a),Us(e,s,l)),l}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function No(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function Vp(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function _o(e){this._internalRoot=e}Mi.prototype.render=_o.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ii(e,t,null,null)};Mi.prototype.unmount=_o.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){Ii(null,e,null,null)}),t[Nt]=null}};function Mi(e){this._internalRoot=e}Mi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$t.length&&t!==0&&t<$t[r].priority;r++);$t.splice(r,0,e),r===0&&ed(e)}};function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function qp(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=yi(l);a.call(u)}}var l=wh(t,n,e,0,null,!1,!1,"",qc);return e._reactRootContainer=l,e[Nt]=l.current,Qn(e.nodeType===8?e.parentNode:e),pr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=yi(o);c.call(u)}}var o=bo(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=o,e[Nt]=o.current,Qn(e.nodeType===8?e.parentNode:e),pr(function(){Ii(t,o,r,n)}),o}function Li(e,t,r,n,s){var a=r._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var c=s;s=function(){var o=yi(l);c.call(o)}}Ii(t,l,e,s)}else l=qp(r,t,e,s,n);return yi(l)}Ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nn(t.pendingLanes);r!==0&&(Vl(t,r|1),Re(t,ne()),!(q&6)&&(Zr=ne()+500,Jt()))}break;case 13:pr(function(){var n=_t(e,1);if(n!==null){var s=be();rt(n,e,1,s)}}),No(e,1)}};ql=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=be();rt(t,e,134217728,r)}No(e,134217728)}};Xu=function(e){if(e.tag===13){var t=qt(e),r=_t(e,t);if(r!==null){var n=be();rt(r,e,t,n)}No(e,t)}};Yu=function(){return W};Zu=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};za=function(e,t,r){switch(t){case"input":if(Aa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ei(n);if(!s)throw Error(C(90));Tu(n),Aa(n,s)}}}break;case"textarea":Au(e,r);break;case"select":t=r.value,t!=null&&Fr(e,!!r.multiple,t,!1)}};zu=yo;Fu=pr;var Hp={usingClientEntryPoint:!1,Events:[cs,$r,Ei,Du,Lu,yo]},xn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vu(e),e===null?null:e.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{_i=Ts.inject(Wp),ot=Ts}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ko(t))throw Error(C(200));return Bp(e,t,null,r)};Le.createRoot=function(e,t){if(!ko(e))throw Error(C(299));var r=!1,n="",s=jh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bo(e,1,!1,null,null,r,!1,n,s),e[Nt]=t.current,Qn(e.nodeType===8?e.parentNode:e),new _o(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Vu(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return pr(e)};Le.hydrate=function(e,t,r){if(!Di(t))throw Error(C(200));return Li(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!ko(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",l=jh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=wh(t,null,e,1,r??null,s,!1,a,l),e[Nt]=t.current,Qn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Mi(t)};Le.render=function(e,t,r){if(!Di(t))throw Error(C(200));return Li(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!Di(e))throw Error(C(40));return e._reactRootContainer?(pr(function(){Li(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};Le.unstable_batchedUpdates=yo;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Di(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Li(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(e){console.error(e)}}bh(),bu.exports=Le;var Gp=bu.exports,Nh,Hc=Gp;Nh=Hc.createRoot,Hc.hydrateRoot;const Kp="modulepreload",Qp=function(e){return"/"+e},Wc={},ds=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=Qp(o),o in Wc)return;Wc[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Kp,u||(f.as="script"),f.crossOrigin="",f.href=o,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},Jp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class So extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Xp extends So{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yp extends So{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zp extends So{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yl||(yl={}));var e0=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class t0{constructor(t,{headers:r={},customFetch:n,region:s=yl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Jp(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return e0(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=r;let c={},{region:o}=r;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(c["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(m=>{throw new Xp(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Yp(d);if(!d.ok)throw new Zp(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},Co={},zi={},hs={},Fi={},Ui={},r0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=r0();const n0=en.fetch,_h=en.fetch.bind(en),kh=en.Headers,s0=en.Request,i0=en.Response,an=Object.freeze(Object.defineProperty({__proto__:null,Headers:kh,Request:s0,Response:i0,default:_h,fetch:n0},Symbol.toStringTag,{value:"Module"})),a0=jf(an);var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});let l0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bi.default=l0;var Sh=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const o0=Sh(a0),c0=Sh(Bi);let u0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=o0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,o;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const b=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),k=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await a.text();try{u=JSON.parse(b),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new c0.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,c,o;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ui.default=u0;var d0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fi,"__esModule",{value:!0});const h0=d0(Ui);let f0=class extends h0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fi.default=f0;var m0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const p0=m0(Fi);let g0=class extends p0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};hs.default=g0;var x0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});const yn=x0(hs);let y0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new yn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zi.default=y0;var Vi={},qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.version=void 0;qi.version="0.0.0-automated";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.DEFAULT_HEADERS=void 0;const v0=qi;Vi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${v0.version}`};var Ch=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Co,"__esModule",{value:!0});const w0=Ch(zi),j0=Ch(hs),b0=Vi;let N0=class Eh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},b0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new w0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Eh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(l="POST",o=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new j0.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};Co.default=N0;var ln=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Ph=ln(Co);Ce.PostgrestClient=Ph.default;const Th=ln(zi);Ce.PostgrestQueryBuilder=Th.default;const Rh=ln(hs);Ce.PostgrestFilterBuilder=Rh.default;const Ah=ln(Fi);Ce.PostgrestTransformBuilder=Ah.default;const $h=ln(Ui);Ce.PostgrestBuilder=$h.default;const Oh=ln(Bi);Ce.PostgrestError=Oh.default;var _0=Ce.default={PostgrestClient:Ph.default,PostgrestQueryBuilder:Th.default,PostgrestFilterBuilder:Rh.default,PostgrestTransformBuilder:Ah.default,PostgrestBuilder:$h.default,PostgrestError:Oh.default};const{PostgrestClient:k0,PostgrestQueryBuilder:ay,PostgrestFilterBuilder:ly,PostgrestTransformBuilder:oy,PostgrestBuilder:cy,PostgrestError:uy}=_0;function S0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const C0=S0(),E0="2.11.15",P0=`realtime-js/${E0}`,T0="1.0.0",Ih=1e4,R0=1e3;var Mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mn||(Mn={}));var xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xe||(xe={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var vl;(function(e){e.websocket="websocket"})(vl||(vl={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class A0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+s));l=l+s;const o=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class Mh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Gc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=$0(l,e,t,s),a),{})},$0=(e,t,r,n)=>{const s=t.find(c=>c.name===e),a=s==null?void 0:s.type,l=r[e];return a&&!n.includes(a)?Dh(a,l):wl(l)},Dh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return D0(t,r)}switch(e){case K.bool:return O0(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return I0(t);case K.json:case K.jsonb:return M0(t);case K.timestamp:return L0(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return wl(t);default:return wl(t)}},wl=e=>e,O0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},I0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},M0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},D0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Dh(t,c))}return e},L0=e=>typeof e=="string"?e.replace(" ","T"):e,Lh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ya{constructor(t,r,n={},s=Ih){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kc||(Kc={}));class Dn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dn.syncState(this.state,s,a,l),this.pendingDiffs.forEach(o=>{this.state=Dn.syncDiff(this.state,o,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dn.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),l=this.transformState(r),c={},o={};return this.map(a,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const f=a[u];if(f){const h=d.map(k=>k.presence_ref),p=f.map(k=>k.presence_ref),m=d.filter(k=>p.indexOf(k.presence_ref)<0),b=f.filter(k=>h.indexOf(k.presence_ref)<0);m.length>0&&(c[u]=m),b.length>0&&(o[u]=b)}else c[u]=d}),this.syncDiff(a,{joins:c,leaves:o},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const f=t[c].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[c].unshift(...h)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[c]=u,s(c,u,o),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qc||(Qc={}));var Jc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jc||(Jc={}));var pt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class Eo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ya(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Mh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Dn(this),this.broadcastEndpointURL=Lh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(d=>t==null?void 0:t(pt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(pt.CLOSED));const o={},u={broadcast:a,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(pt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let b=0;b<p;b++){const k=h[b],{filter:{event:x,schema:g,table:y,filter:w}}=k,N=d&&d[b];if(N&&N.event===x&&N.schema===g&&N.table===y&&N.filter===w)m.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),this.state=xe.errored,t==null||t(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(pt.SUBSCRIBED);return}}).receive("error",d=>{this.state=xe.errored,t==null||t(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ya(this,Ze.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ya(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=Ze;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,b,k;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(b=p.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(p=>p.callback(h,n)):(a=this.bindings[l])===null||a===void 0||a.filter(p=>{var m,b,k,x,g,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const w=p.id,N=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(g=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:b,table:k,commit_timestamp:x,type:g,errors:y}=m;h=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:x,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Eo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gc(t.columns,t.old_record)),r}}const Xc=()=>{},z0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ih,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xc,this.ref=0,this.logger=Xc,this.conn=null,this.sendBuffer=[],this.serializer=new A0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>ds(async()=>{const{default:o}=await Promise.resolve().then(()=>an);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${vl.websocket}`,this.httpEndpoint=Lh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=C0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mn.connecting:return ir.Connecting;case Mn.open:return ir.Open;case Mn.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Eo(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:P0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(R0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([z0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Po extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class U0 extends Po{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jl extends Po{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var B0=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const zh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},V0=()=>B0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>an),void 0)).Response:Response}),bl=e=>{if(Array.isArray(e))return e.map(r=>bl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=bl(n)}),t};var yr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q0=(e,t,r)=>yr(void 0,void 0,void 0,function*(){const n=yield V0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new U0(va(s),e.status||500))}).catch(s=>{t(new jl(va(s),s))}):t(new jl(va(e),e))}),H0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function fs(e,t,r,n,s,a){return yr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,H0(t,n,s,a)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>q0(o,c,n))})})}function vi(e,t,r,n){return yr(this,void 0,void 0,function*(){return fs(e,"GET",t,r,n)})}function At(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return fs(e,"POST",t,n,s,r)})}function W0(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return fs(e,"PUT",t,n,s,r)})}function G0(e,t,r,n){return yr(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fh(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return fs(e,"DELETE",t,n,s,r)})}var ke=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const K0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q0{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=zh(s)}uploadOrUpdate(t,r,n,s){return ke(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Yc),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ke(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:Yc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new Po("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ke(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(t,r){return ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield vi(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}info(t){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bl(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(t){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield G0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof jl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return ke(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},K0),r),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const J0="2.7.1",X0={"X-Client-Info":`storage-js/${J0}`};var br=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class Y0{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},X0),r),this.fetch=zh(n)}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return br(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return br(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return br(this,void 0,void 0,function*(){try{return{data:yield W0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return br(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return br(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class Z0 extends Y0{constructor(t,r={},n){super(t,r,n)}from(t){return new Q0(this.url,this.headers,t,this.fetch)}}const eg="2.50.2";let kn="";typeof Deno<"u"?kn="deno":typeof document<"u"?kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kn="react-native":kn="node";const tg={"X-Client-Info":`supabase-js-${kn}/${eg}`},rg={headers:tg},ng={schema:"public"},sg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ig={};var ag=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const lg=e=>{let t;return e?t=e:typeof fetch>"u"?t=_h:t=fetch,(...r)=>t(...r)},og=()=>typeof Headers>"u"?kh:Headers,cg=(e,t,r)=>{const n=lg(r),s=og();return(a,l)=>ag(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var ug=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};function dg(e){return e.endsWith("/")?e:e+"/"}function hg(e,t){var r,n;const{db:s,auth:a,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ug(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Uh="2.70.0",Cr=30*1e3,Nl=3,wa=Nl*Cr,fg="http://localhost:9999",mg="supabase.auth.token",pg={"X-Client-Info":`gotrue-js/${Uh}`},_l="X-Supabase-Api-Version",Bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xg=6e5;class To extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yg extends To{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vg(e){return U(e)&&e.name==="AuthApiError"}class Vh extends To{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Xt extends To{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wg(e){return U(e)&&e.name==="AuthSessionMissingError"}class Rs extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Xt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $s extends Xt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zc extends Xt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kl extends Xt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ja(e){return U(e)&&e.name==="AuthRetryableFetchError"}class eu extends Xt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ln extends Xt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tu=` 	
\r=`.split(""),bg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tu.length;t+=1)e[tu[t].charCodeAt(0)]=-2;for(let t=0;t<wi.length;t+=1)e[wi[t].charCodeAt(0)]=t;return e})();function ru(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}}function qh(e,t,r){const n=bg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{kg(l,n,r)};for(let l=0;l<e.length;l+=1)qh(e.charCodeAt(l),s,a);return t.join("")}function Ng(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _g(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ng(n,t)}}function kg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)qh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Cg(e){const t=[];return _g(e,r=>t.push(r)),new Uint8Array(t)}function Eg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ru(s,r,n)),ru(null,r,n),t.join("")}function Pg(e){return Math.round(Date.now()/1e3)+e}function Tg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},zn=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function Rg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ag=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Os=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Is=async(e,t)=>{await e.removeItem(t)};class Hi{constructor(){this.promise=new Hi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Hi.promiseConstructor=Promise;function ba(e){const t=e.split(".");if(t.length!==3)throw new Ln("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gg.test(t[n]))throw new Ln("JWT not in base64url format");return{header:JSON.parse(nu(t[0])),payload:JSON.parse(nu(t[1])),signature:Sg(t[2]),raw:{header:t[0],payload:t[1]}}}async function $g(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Og(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function Ig(e){return("0"+e.toString(16)).substr(-2)}function Mg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ig).join("")}async function Dg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Lg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Dg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nr(e,t,r=!1){const n=Mg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wh(e,`${t}-code-verifier`,s);const a=await Lg(n);return[a,n===a?"plain":"s256"]}const zg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fg(e){const t=e.headers.get(_l);if(!t||!t.match(zg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ug(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(e){if(!Vg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var qg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hg=[502,503,504];async function su(e){var t;if(!Ag(e))throw new kl(sr(e),0);if(Hg.includes(e.status))throw new kl(sr(e),e.status);let r;try{r=await e.json()}catch(a){throw new Vh(sr(a),a)}let n;const s=Fg(e);if(s&&s.getTime()>=Bh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new eu(sr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new eu(sr(r),e.status,r.weak_password.reasons);throw new yg(sr(r),e.status||500,n)}const Wg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[_l]||(a[_l]=Bh["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await Gg(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function Gg(e,t,r,n,s,a){const l=Wg(t,n,s,a);let c;try{c=await e(r,Object.assign({},l))}catch(o){throw console.error(o),new kl(sr(o),0)}if(c.ok||await su(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await su(o)}}function ft(e){var t;let r=null;Xg(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Pg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function iu(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function It(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kg(e){return{data:e,error:null}}function Qg(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,l=qg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function Jg(e){return e}function Xg(e){return e.access_token&&e.refresh_token&&e.expires_in}const Na=["global","local","others"];var Yg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Zg{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Hh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Na[0]){if(Na.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Na.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:It})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Yg(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Qg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:It})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Jg});if(d.error)throw d.error;const f=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_r(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:It})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_r(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:It})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_r(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:It})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_r(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_r(t.userId),_r(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}const ex={getItem:e=>zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zn()&&globalThis.localStorage.removeItem(e)}};function au(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function tx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rx extends Gh{}async function nx(e,t,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}tx();const sx={url:fg,storageKey:mg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lu(e,t,r){return await r()}class ss{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Zg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hh(s.fetch),this.lock=s.lock||lu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Je()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nx:this.lock=lu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zn()?this.storage=ex:(this.memoryStorage={},this.storage=au(this.memoryStorage)):(this.memoryStorage={},this.storage=au(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Rg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jg(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new Vh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Nr(this.storage,this.storageKey)),a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:ft})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new As("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:c}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:iu})}else if("phone"in t){const{phone:a,password:l,options:c}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:iu})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,l,c,o,u,d,f,h,p;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:k,wallet:x,statement:g,options:y}=t;let w;if(Je())if(typeof x=="object")w=x;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))w=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const v=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let S;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")S=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)S=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const v=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=v}}try{const{data:k,error:x}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Eg(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ft});if(x)throw x;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Rs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:x})}catch(k){if(U(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ft});if(await Is(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(U(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:l}=t,c=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Rs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Nr(this.storage,this.storageKey));const{error:f}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new As("You must provide either an email or phone number.")}catch(c){if(U(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ft});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Nr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Kg})}catch(a){if(U(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:l,error:c}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new As("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:It}):await this._useSession(async r=>{var n,s,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:It})})}catch(r){if(U(r))return wg(r)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Pt;const l=s.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await Nr(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:It});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:l}=ba(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Je())throw new $s("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $s(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zc("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!a||!c||!l||!u)throw new $s("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let h=d+f;o&&(h=parseInt(o));const p=h-d;p*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:b,error:k}=await this._getUser(a);if(k)throw k;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(vg(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Tg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(U(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var l,c,o,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)throw l;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Og(async s=>(s>0&&await $g(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(s,a)=>{const l=200*Math.pow(2,s);return a&&ja(a)&&Date.now()+l-n<Cr})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Os(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${wa}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),ja(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hi;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Pt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),U(a)){const l={session:null,error:a};return ja(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(o){a.push(o)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Wh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${Nl} ticks`),s<=Nl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Nr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ba(s.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xg>Date.now()))return n;const{data:s,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Ln("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Ln("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:o}}=ba(n);if(Ug(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:l},error:null}}const u=Bg(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,l,Cg(`${c}.${o}`)))throw new Ln("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ss.nextInstanceID=0;const ix=ss;class ax extends ix{constructor(t){super(t)}}var lx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(f){l(f)}}function o(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class ox{constructor(t,r,n){var s,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=dg(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:ng,realtime:ig,auth:Object.assign(Object.assign({},sg),{storageKey:u}),global:rg},f=hg(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=cg(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new k0(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new t0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Z0(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return lx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:l,lock:c,debug:o},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ax({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new F0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cx=(e,t,r)=>new ox(e,t,r),ux="https://jkmyflqzrmtvacpsgrxs.supabase.co",dx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImprbXlmbHF6cm10dmFjcHNncnhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjAzNDMsImV4cCI6MjA2Njc5NjM0M30.i9T9hR0Ux7bX5-6i0wFFxqnktgvPi5a7vG4URrCkEUw",vt=cx(ux,dx);function Sr(e){const[t,r]=A.useState([]),[n,s]=A.useState(!0),[a,l]=A.useState(null),c=async()=>{try{s(!0);const{data:f,error:h}=await vt.from(e).select("*").order("created_at",{ascending:!1});if(h)throw h;r(f||[])}catch(f){l(f instanceof Error?f.message:"Erro desconhecido")}finally{s(!1)}},o=async f=>{try{const{data:h,error:p}=await vt.from(e).insert(f).select().single();if(p)throw p;return r(m=>[h,...m]),h}catch(h){throw l(h instanceof Error?h.message:"Erro ao inserir"),h}},u=async(f,h)=>{try{const{data:p,error:m}=await vt.from(e).update(h).eq("id",f).select().single();if(m)throw m;return r(b=>b.map(k=>k.id===f?p:k)),p}catch(p){throw l(p instanceof Error?p.message:"Erro ao atualizar"),p}},d=async f=>{try{const{error:h}=await vt.from(e).delete().eq("id",f);if(h)throw h;r(p=>p.filter(m=>m.id!==f))}catch(h){throw l(h instanceof Error?h.message:"Erro ao deletar"),h}};return A.useEffect(()=>{c()},[e]),{data:t,loading:n,error:a,fetchAll:c,insert:o,update:u,remove:d,setError:l}}function hx(){const[e,t]=A.useState([]),[r,n]=A.useState(!0),[s,a]=A.useState(null),l=async()=>{try{n(!0);const{data:h,error:p}=await vt.from("customers").select(`
          *,
          level:customer_levels(*)
        `).order("created_at",{ascending:!1});if(p)throw p;t(h||[])}catch(h){a(h instanceof Error?h.message:"Erro ao buscar clientes")}finally{n(!1)}},c=async h=>{try{const{data:p,error:m}=await vt.from("customers").insert({first_name:h.firstName,last_name:h.lastName,email:h.email,phone:h.phone,document:h.document,points:h.points||0,level_id:h.level.id,status:h.status,email_verified:h.emailVerified||!1,phone_verified:h.phoneVerified||!1,document_verified:h.documentVerified||!0}).select(`
          *,
          level:customer_levels(*)
        `).single();if(m)throw m;return t(b=>[p,...b]),p}catch(p){throw a(p instanceof Error?p.message:"Erro ao adicionar cliente"),p}},o=async(h,p)=>{try{const m={};p.firstName&&(m.first_name=p.firstName),p.lastName&&(m.last_name=p.lastName),p.email&&(m.email=p.email),p.phone&&(m.phone=p.phone),p.document&&(m.document=p.document),p.points!==void 0&&(m.points=p.points),p.level&&(m.level_id=p.level.id),p.status&&(m.status=p.status),p.emailVerified!==void 0&&(m.email_verified=p.emailVerified),p.phoneVerified!==void 0&&(m.phone_verified=p.phoneVerified),p.documentVerified!==void 0&&(m.document_verified=p.documentVerified);const{data:b,error:k}=await vt.from("customers").update(m).eq("id",h).select(`
          *,
          level:customer_levels(*)
        `).single();if(k)throw k;return t(x=>x.map(g=>g.id===h?b:g)),b}catch(m){throw a(m instanceof Error?m.message:"Erro ao atualizar cliente"),m}},u=h=>{const p=h.replace(/[^\d]/g,"");return e.find(m=>m.document.replace(/[^\d]/g,"")===p)},d=h=>e.find(p=>p.email.toLowerCase()===h.toLowerCase()),f=h=>{const p=h.replace(/[^\d]/g,"");return e.find(m=>m.phone.replace(/[^\d]/g,"")===p)};return A.useEffect(()=>{l()},[]),{customers:e,loading:r,error:s,fetchCustomers:l,addCustomer:c,updateCustomer:o,findCustomerByDocument:u,findCustomerByEmail:d,findCustomerByPhone:f,setError:a}}function fx(){const[e,t]=A.useState([]),[r,n]=A.useState(!0),[s,a]=A.useState(null),l=async()=>{try{n(!0);const{data:o,error:u}=await vt.from("point_movements").select("*").order("created_at",{ascending:!1});if(u)throw u;t(o||[])}catch(o){a(o instanceof Error?o.message:"Erro ao buscar movimentações")}finally{n(!1)}},c=async o=>{try{const{data:u,error:d}=await vt.from("point_movements").insert({customer_id:o.customerId,customer_document:o.customerDocument,type:o.type,points:o.points,description:o.description,date:o.date,reference:o.reference,coupon_code:o.couponCode}).select().single();if(d)throw d;return t(f=>[u,...f]),u}catch(u){throw a(u instanceof Error?u.message:"Erro ao adicionar movimentação"),u}};return A.useEffect(()=>{l()},[]),{movements:e,loading:r,error:s,fetchMovements:l,addMovement:c,setError:a}}const Kh=A.createContext(void 0),ut=()=>{const e=A.useContext(Kh);if(!e)throw new Error("useApp must be used within an AppProvider");return e},mx=e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0;for(let s=0;s<9;s++)r+=parseInt(t.charAt(s))*(10-s);let n=r*10%11;if((n===10||n===11)&&(n=0),n!==parseInt(t.charAt(9)))return!1;r=0;for(let s=0;s<10;s++)r+=parseInt(t.charAt(s))*(11-s);return n=r*10%11,(n===10||n===11)&&(n=0),n===parseInt(t.charAt(10))},vn=e=>e.replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),wn=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,document:e.document,points:e.points,level:Qh(e.level),status:e.status,registrationDate:e.registration_date,lastPurchase:e.last_purchase,address:e.address,preferences:e.preferences,emailVerified:e.email_verified,phoneVerified:e.phone_verified,documentVerified:e.document_verified}),Qh=e=>({id:e.id,name:e.name,color:e.color,icon:e.icon,order:e.order_position,requirements:{minPoints:e.min_points,minPurchaseValue:e.min_purchase_value,timeframe:e.timeframe_days},benefits:{pointsMultiplier:e.points_multiplier,referralBonus:e.referral_bonus,freeShipping:e.free_shipping,exclusiveEvents:e.exclusive_events,customRewards:e.custom_rewards||[]}}),px=e=>({id:e.id,customerId:e.customer_id,customerDocument:e.customer_document,type:e.type,points:e.points,description:e.description,date:e.date,reference:e.reference,couponCode:e.coupon_code}),gx=({children:e})=>{const{customers:t,loading:r,error:n,addCustomer:s,updateCustomer:a,findCustomerByDocument:l,findCustomerByEmail:c,findCustomerByPhone:o}=hx(),{data:u,loading:d,error:f,insert:h,update:p,remove:m}=Sr("customer_levels"),{movements:b,loading:k,error:x,addMovement:g}=fx(),{data:y,loading:w,error:N}=Sr("rewards"),{data:v,loading:S,error:j}=Sr("campaigns"),{data:M,loading:O,error:H}=Sr("referrals"),{data:le,loading:E,error:G,insert:we,update:Ke,remove:Yt}=Sr("referral_types"),{data:P,loading:D,error:z,update:R}=Sr("settings"),F=t.map(wn),oe=u.map(Qh),Ae=b.map(px),Zt=y.map(_=>({id:_.id,name:_.name,description:_.description,pointsCost:_.points_cost,type:_.type,value:_.value,isActive:_.is_active,expirationDays:_.expiration_days,image:_.image_url,conditions:_.conditions})),dt=v.map(_=>({id:_.id,name:_.name,type:_.type,multiplier:_.multiplier,startDate:_.start_date,endDate:_.end_date,products:_.products,isActive:_.is_active,widget:_.widget})),vr=M.map(_=>({id:_.id,referrerId:_.referrer_id,referrerDocument:_.referrer_document,referredId:_.referred_id||"",referredDocument:_.referred_document||"",referredIdentifier:_.referred_identifier,referredIdentifierType:_.referred_identifier_type,referralTypeId:_.referral_type_id,status:_.status,date:_.date,method:_.method,validatedDate:_.validated_date,rejectedReason:_.rejected_reason,purchaseValue:_.purchase_value})),of=le.map(_=>({id:_.id,name:_.name,description:_.description,icon:_.icon,color:_.color,isActive:_.is_active,methods:_.methods,referrerReward:_.referrer_reward,referredReward:_.referred_reward,conditions:_.conditions})),Ct=P[0]?{company:P[0].company,program:P[0].program,notifications:P[0].notifications,validation:P[0].validation,terms:P[0].terms}:{company:{name:"",website:"",address:""},program:{name:"",primaryColor:"#3B82F6",secondaryColor:"#10B981",font:"Inter",pointsPerReal:1,minPurchaseValue:50,pointsExpiration:{enabled:!0,days:365,notifyDaysBefore:30}},notifications:{email:!0,whatsapp:!0,sms:!1},validation:{requireCpfValidation:!0,requireEmailVerification:!1,requirePhoneVerification:!1,allowDuplicateEmail:!1,allowDuplicatePhone:!0},terms:""},cf=r||d||k||w||S||O||E||D,uf=n||f||x||N||j||H||G||z,Ao=_=>{const T=l(_);return T?wn(T):void 0},$o=_=>{const T=c(_);return T?wn(T):void 0},Oo=_=>{const T=o(_);return T?wn(T):void 0},Io=(_,T,L)=>{const wr=_.replace(/[^\d]/g,"");if(!mx(wr))return{document:vn(wr),email:T,phone:L,isValid:!1,conflicts:{duplicateDocument:!1}};const ht={};let cn=!1;const Mo=Ao(wr);if(Mo&&(ht.duplicateDocument=!0,ht.existingCustomer=Mo,cn=!0),T&&!Ct.validation.allowDuplicateEmail){const er=$o(T);er&&er.document!==vn(wr)&&(ht.duplicateEmail=!0,ht.existingCustomer||(ht.existingCustomer=er),cn=!0)}if(L&&!Ct.validation.allowDuplicatePhone){const er=Oo(L);er&&er.document!==vn(wr)&&(ht.duplicatePhone=!0,ht.existingCustomer||(ht.existingCustomer=er),cn=!0)}return{document:vn(wr),email:T,phone:L,isValid:!cn,conflicts:cn?ht:void 0}},df=async _=>{if(!Io(_.document,_.email,_.phone).isValid)return null;try{const L=await s({..._,document:vn(_.document)});return wn(L)}catch(L){return console.error("Erro ao adicionar cliente:",L),null}},hf=async(_,T)=>{try{await a(_,T)}catch(L){console.error("Erro ao atualizar cliente:",L)}},ff=async _=>{try{await g(_)}catch(T){console.error("Erro ao adicionar movimentação:",T)}},mf=async _=>{try{P[0]&&await R(P[0].id,{company:{...Ct.company,..._.company},program:{...Ct.program,..._.program},notifications:{...Ct.notifications,..._.notifications},validation:{...Ct.validation,..._.validation},terms:_.terms||Ct.terms})}catch(T){console.error("Erro ao atualizar configurações:",T)}},pf=async _=>{try{await h({name:_.name,color:_.color,icon:_.icon,order_position:_.order,min_points:_.requirements.minPoints,min_purchase_value:_.requirements.minPurchaseValue,timeframe_days:_.requirements.timeframe,points_multiplier:_.benefits.pointsMultiplier,referral_bonus:_.benefits.referralBonus,free_shipping:_.benefits.freeShipping,exclusive_events:_.benefits.exclusiveEvents,custom_rewards:_.benefits.customRewards})}catch(T){console.error("Erro ao adicionar nível:",T)}},gf=async(_,T)=>{try{const L={};T.name&&(L.name=T.name),T.color&&(L.color=T.color),T.icon&&(L.icon=T.icon),T.order&&(L.order_position=T.order),T.requirements&&(T.requirements.minPoints!==void 0&&(L.min_points=T.requirements.minPoints),T.requirements.minPurchaseValue!==void 0&&(L.min_purchase_value=T.requirements.minPurchaseValue),T.requirements.timeframe!==void 0&&(L.timeframe_days=T.requirements.timeframe)),T.benefits&&(T.benefits.pointsMultiplier!==void 0&&(L.points_multiplier=T.benefits.pointsMultiplier),T.benefits.referralBonus!==void 0&&(L.referral_bonus=T.benefits.referralBonus),T.benefits.freeShipping!==void 0&&(L.free_shipping=T.benefits.freeShipping),T.benefits.exclusiveEvents!==void 0&&(L.exclusive_events=T.benefits.exclusiveEvents),T.benefits.customRewards!==void 0&&(L.custom_rewards=T.benefits.customRewards)),await p(_,L)}catch(L){console.error("Erro ao atualizar nível:",L)}},xf=async _=>{const T=F.filter(L=>L.level.id===_);if(T.length>0){alert(`Não é possível deletar este nível pois há ${T.length} cliente(s) associado(s) a ele.`);return}if(oe.length<=1){alert("Não é possível deletar o último nível. Deve haver pelo menos um nível ativo.");return}try{await m(_)}catch(L){console.error("Erro ao deletar nível:",L)}},yf=async _=>{try{await we({name:_.name,description:_.description,icon:_.icon,color:_.color,is_active:_.isActive,methods:_.methods,referrer_reward:_.referrerReward,referred_reward:_.referredReward,conditions:_.conditions})}catch(T){console.error("Erro ao adicionar tipo de indicação:",T)}},vf=async(_,T)=>{try{const L={};T.name&&(L.name=T.name),T.description&&(L.description=T.description),T.icon&&(L.icon=T.icon),T.color&&(L.color=T.color),T.isActive!==void 0&&(L.is_active=T.isActive),T.methods&&(L.methods=T.methods),T.referrerReward&&(L.referrer_reward=T.referrerReward),T.referredReward&&(L.referred_reward=T.referredReward),T.conditions&&(L.conditions=T.conditions),await Ke(_,L)}catch(L){console.error("Erro ao atualizar tipo de indicação:",L)}},wf=async _=>{try{await Yt(_)}catch(T){console.error("Erro ao deletar tipo de indicação:",T)}};return i.jsx(Kh.Provider,{value:{customers:F,levels:oe,movements:Ae,rewards:Zt,campaigns:dt,referrals:vr,referralTypes:of,settings:Ct,loading:cf,error:uf,updateCustomer:hf,addMovement:ff,updateSettings:mf,addReferralType:yf,updateReferralType:vf,deleteReferralType:wf,validateCustomer:Io,findCustomerByDocument:Ao,findCustomerByEmail:$o,findCustomerByPhone:Oo,addCustomer:df,addLevel:pf,updateLevel:gf,deleteLevel:xf},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:o,...u},d)=>A.createElement("svg",{ref:d,...xx,width:s,height:s,stroke:n,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${yx(e)}`,c].join(" "),...u},[...t.map(([f,h])=>A.createElement(f,h)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=I("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=I("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=I("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=I("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=I("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=I("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=I("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=I("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=I("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=I("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=I("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=I("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=I("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=I("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=I("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=I("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=I("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lx=({children:e,currentPage:t,onPageChange:r})=>{const[n,s]=A.useState(!1),a=[{id:"dashboard",label:"Dashboard",icon:jt},{id:"customers",label:"Clientes",icon:Tl},{id:"levels",label:"Níveis",icon:qe},{id:"movements",label:"Movimentos",icon:jt},{id:"rewards",label:"Recompensas",icon:De},{id:"referrals",label:"Indicações",icon:Fn},{id:"communication",label:"Comunicação",icon:bi},{id:"objectives",label:"Objetivos",icon:Ks},{id:"settings",label:"Personalização",icon:rf}];return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:i.jsx("button",{onClick:()=>s(!n),className:"p-2 rounded-md bg-white shadow-md",children:n?i.jsx(tn,{size:24}):i.jsx(Cx,{size:24})})}),i.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[i.jsxs("div",{className:"flex items-center justify-center h-16 bg-blue-600 text-white",children:[i.jsx(De,{className:"w-8 h-8 mr-2"}),i.jsx("span",{className:"text-xl font-bold",children:"Cashback Pro"})]}),i.jsx("nav",{className:"mt-8",children:a.map(l=>{const c=l.icon;return i.jsxs("button",{onClick:()=>{r(l.id),s(!1)},className:`w-full flex items-center px-6 py-3 text-left transition-colors ${t===l.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[i.jsx(c,{className:"w-5 h-5 mr-3"}),l.label]},l.id)})})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-20 lg:hidden",onClick:()=>s(!1)}),i.jsx("div",{className:"lg:ml-64 p-4 lg:p-8",children:e})]})},uu=()=>{const{customers:e,movements:t,rewards:r,referrals:n}=ut(),s=o=>`${o.firstName} ${o.lastName}`.trim(),a=[{title:"Total de Clientes",value:e.length.toString(),icon:Tl,color:"bg-blue-500",change:"+12%"},{title:"Pontos Ativos",value:e.reduce((o,u)=>o+u.points,0).toLocaleString(),icon:qe,color:"bg-yellow-500",change:"+8%"},{title:"Resgates do Mês",value:t.filter(o=>o.type==="redeem").length.toString(),icon:De,color:"bg-green-500",change:"+15%"},{title:"Indicações",value:n.length.toString(),icon:Fn,color:"bg-purple-500",change:"+25%"}],l=t.slice(0,5),c=e.sort((o,u)=>u.points-o.points).slice(0,5);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Última atualização: ",new Date().toLocaleString("pt-BR")]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(o=>{const u=o.icon;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.title}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.value})]}),i.jsx("div",{className:`${o.color} p-3 rounded-full`,children:i.jsx(u,{className:"w-6 h-6 text-white"})})]}),i.jsxs("div",{className:"mt-4 flex items-center",children:[i.jsx("span",{className:"text-sm font-medium text-green-600",children:o.change}),i.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs mês anterior"})]})]},o.title)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Movimentações Recentes"}),i.jsx("div",{className:"space-y-4",children:l.map(o=>{const u=e.find(d=>d.id===o.customerId);return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o.type==="earn"?"bg-green-100":"bg-red-100"}`,children:i.jsx(jt,{className:`w-5 h-5 ${o.type==="earn"?"text-green-600":"text-red-600"}`})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?s(u):"Cliente não encontrado"}),i.jsx("p",{className:"text-sm text-gray-500",children:o.description})]})]}),i.jsxs("div",{className:`text-sm font-medium ${o.type==="earn"?"text-green-600":"text-red-600"}`,children:[o.type==="earn"?"+":"",o.points," pts"]})]},o.id)})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Top Clientes"}),i.jsx("div",{className:"space-y-4",children:c.map((o,u)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(Sn,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:s(o)}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Nível ",o.level.name]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[o.points.toLocaleString()," pts"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["#",u+1]})]})]},o.id))})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[i.jsx(Tl,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Adicionar Cliente"})]}),i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[i.jsx(De,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nova Recompensa"})]}),i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[i.jsx(jt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registrar Pontos"})]})]})]})]})},ka=[{code:"+55",country:"Brasil",flag:"🇧🇷"},{code:"+1",country:"Estados Unidos",flag:"🇺🇸"},{code:"+1",country:"Canadá",flag:"🇨🇦"},{code:"+54",country:"Argentina",flag:"🇦🇷"},{code:"+56",country:"Chile",flag:"🇨🇱"},{code:"+57",country:"Colômbia",flag:"🇨🇴"},{code:"+51",country:"Peru",flag:"🇵🇪"},{code:"+598",country:"Uruguai",flag:"🇺🇾"},{code:"+595",country:"Paraguai",flag:"🇵🇾"},{code:"+591",country:"Bolívia",flag:"🇧🇴"},{code:"+593",country:"Equador",flag:"🇪🇨"},{code:"+58",country:"Venezuela",flag:"🇻🇪"},{code:"+33",country:"França",flag:"🇫🇷"},{code:"+49",country:"Alemanha",flag:"🇩🇪"},{code:"+39",country:"Itália",flag:"🇮🇹"},{code:"+34",country:"Espanha",flag:"🇪🇸"},{code:"+351",country:"Portugal",flag:"🇵🇹"},{code:"+44",country:"Reino Unido",flag:"🇬🇧"},{code:"+81",country:"Japão",flag:"🇯🇵"},{code:"+86",country:"China",flag:"🇨🇳"},{code:"+91",country:"Índia",flag:"🇮🇳"},{code:"+61",country:"Austrália",flag:"🇦🇺"}],sf={Norte:[{ddd:"68",city:"Rio Branco",state:"AC"},{ddd:"82",city:"Maceió",state:"AL"},{ddd:"96",city:"Macapá",state:"AP"},{ddd:"92",city:"Manaus",state:"AM"},{ddd:"97",city:"Manaus Interior",state:"AM"},{ddd:"71",city:"Salvador",state:"BA"},{ddd:"73",city:"Ilhéus",state:"BA"},{ddd:"74",city:"Juazeiro",state:"BA"},{ddd:"75",city:"Feira de Santana",state:"BA"},{ddd:"77",city:"Barreiras",state:"BA"},{ddd:"85",city:"Fortaleza",state:"CE"},{ddd:"88",city:"Juazeiro do Norte",state:"CE"},{ddd:"61",city:"Brasília",state:"DF"},{ddd:"27",city:"Vitória",state:"ES"},{ddd:"28",city:"Cachoeiro de Itapemirim",state:"ES"},{ddd:"62",city:"Goiânia",state:"GO"},{ddd:"64",city:"Rio Verde",state:"GO"},{ddd:"98",city:"São Luís",state:"MA"},{ddd:"99",city:"Imperatriz",state:"MA"},{ddd:"65",city:"Cuiabá",state:"MT"},{ddd:"66",city:"Rondonópolis",state:"MT"},{ddd:"67",city:"Campo Grande",state:"MS"},{ddd:"31",city:"Belo Horizonte",state:"MG"},{ddd:"32",city:"Juiz de Fora",state:"MG"},{ddd:"33",city:"Governador Valadares",state:"MG"},{ddd:"34",city:"Uberlândia",state:"MG"},{ddd:"35",city:"Poços de Caldas",state:"MG"},{ddd:"37",city:"Divinópolis",state:"MG"},{ddd:"38",city:"Montes Claros",state:"MG"},{ddd:"91",city:"Belém",state:"PA"},{ddd:"93",city:"Santarém",state:"PA"},{ddd:"94",city:"Marabá",state:"PA"},{ddd:"83",city:"João Pessoa",state:"PB"},{ddd:"81",city:"Recife",state:"PE"},{ddd:"87",city:"Petrolina",state:"PE"},{ddd:"86",city:"Teresina",state:"PI"},{ddd:"89",city:"Picos",state:"PI"},{ddd:"41",city:"Curitiba",state:"PR"},{ddd:"42",city:"Ponta Grossa",state:"PR"},{ddd:"43",city:"Londrina",state:"PR"},{ddd:"44",city:"Maringá",state:"PR"},{ddd:"45",city:"Cascavel",state:"PR"},{ddd:"46",city:"Francisco Beltrão",state:"PR"},{ddd:"21",city:"Rio de Janeiro",state:"RJ"},{ddd:"22",city:"Campos dos Goytacazes",state:"RJ"},{ddd:"24",city:"Volta Redonda",state:"RJ"},{ddd:"84",city:"Natal",state:"RN"},{ddd:"69",city:"Porto Velho",state:"RO"},{ddd:"95",city:"Boa Vista",state:"RR"},{ddd:"51",city:"Porto Alegre",state:"RS"},{ddd:"53",city:"Pelotas",state:"RS"},{ddd:"54",city:"Caxias do Sul",state:"RS"},{ddd:"55",city:"Santa Maria",state:"RS"},{ddd:"48",city:"Florianópolis",state:"SC"},{ddd:"47",city:"Joinville",state:"SC"},{ddd:"49",city:"Chapecó",state:"SC"},{ddd:"79",city:"Aracaju",state:"SE"},{ddd:"11",city:"São Paulo",state:"SP"},{ddd:"12",city:"São José dos Campos",state:"SP"},{ddd:"13",city:"Santos",state:"SP"},{ddd:"14",city:"Bauru",state:"SP"},{ddd:"15",city:"Sorocaba",state:"SP"},{ddd:"16",city:"Ribeirão Preto",state:"SP"},{ddd:"17",city:"São José do Rio Preto",state:"SP"},{ddd:"18",city:"Presidente Prudente",state:"SP"},{ddd:"19",city:"Campinas",state:"SP"},{ddd:"63",city:"Palmas",state:"TO"}]},zx=e=>sf.Norte.map(r=>r.ddd).includes(e),af=e=>sf.Norte.find(t=>t.ddd===e),Fx=e=>{const t=e.replace(/[^\d]/g,"");return t.length===9&&t.startsWith("9")},Ux=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");return n.length===9?`${e} ${t} ${n.substring(0,5)}-${n.substring(5)}`:n.length===8?`${e} ${t} ${n.substring(0,4)}-${n.substring(4)}`:`${e} ${t} ${n}`},Bx=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");if(e==="+55"){const s=zx(t),a=Fx(n),l=af(t);return{isValid:s&&a,formatted:s&&a?Ux(e,t,n):"",errors:{invalidDDD:!s,invalidMobile:!a,requiresNineDigits:n.length!==9,mustStartWithNine:!n.startsWith("9")},areaInfo:l}}else{const s=n.length>=8&&n.length<=15;return{isValid:s,formatted:s?`${e} ${n}`:"",errors:{invalidLength:!s},areaInfo:null}}},lf=({value:e,onChange:t,error:r,placeholder:n="+55 11 99999-9999",className:s=""})=>{var w;const[a,l]=A.useState(ka[0]),[c,o]=A.useState(!1),[u,d]=A.useState(""),[f,h]=A.useState(""),[p,m]=A.useState(null);A.useEffect(()=>{if(e){const N=e.match(/^(\+\d{1,4})\s(\d{2})\s(.+)$/);if(N){const[,v,S,j]=N,M=ka.find(O=>O.code===v);M&&(l(M),d(S),h(j.replace(/[^\d]/g,"")))}}},[]),A.useEffect(()=>{if(u&&f){const N=Bx(a.code,u,f);m(N),N.isValid&&t(N.formatted)}},[a,u,f,t]);const b=N=>{const v=N.replace(/[^\d]/g,"").substring(0,2);d(v)},k=N=>{let v=N.replace(/[^\d]/g,"");a.code==="+55"?v=v.substring(0,9):v=v.substring(0,15),h(v)},x=N=>a.code==="+55"&&N.length>=5?`${N.substring(0,5)}-${N.substring(5)}`:N,y=a.code==="+55"&&u?af(u):null;return i.jsxs("div",{className:`relative ${s}`,children:[i.jsxs("div",{className:"flex",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{type:"button",onClick:()=>o(!c),className:"flex items-center px-3 py-2 border border-r-0 border-gray-300 rounded-l-lg bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("span",{className:"mr-2",children:a.flag}),i.jsx("span",{className:"text-sm font-medium",children:a.code}),i.jsx(bx,{className:"w-4 h-4 ml-1 text-gray-400"})]}),c&&i.jsx("div",{className:"absolute top-full left-0 z-50 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ka.map(N=>i.jsxs("button",{type:"button",onClick:()=>{l(N),o(!1),d(""),h("")},className:"flex items-center w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[i.jsx("span",{className:"mr-3",children:N.flag}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:N.country}),i.jsx("div",{className:"text-xs text-gray-500",children:N.code})]}),a.code===N.code&&a.country===N.country&&i.jsx(Wr,{className:"w-4 h-4 text-blue-600"})]},`${N.code}-${N.country}`))})]}),a.code==="+55"&&i.jsx("input",{type:"text",value:u,onChange:N=>b(N.target.value),placeholder:"11",maxLength:2,className:`w-16 px-2 py-2 border-t border-b border-gray-300 text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${(w=p==null?void 0:p.errors)!=null&&w.invalidDDD?"border-red-300 bg-red-50":""}`}),i.jsx("input",{type:"text",value:x(f),onChange:N=>k(N.target.value),placeholder:a.code==="+55"?"99999-9999":"999999999",className:`flex-1 px-3 py-2 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p&&!p.isValid?"border-red-300 bg-red-50":""}`})]}),y&&i.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[i.jsx(Wr,{className:"w-3 h-3 mr-1"}),y.city," - ",y.state]}),p&&!p.isValid&&i.jsx("div",{className:"mt-1 text-xs text-red-600",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Sl,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:a.code==="+55"?i.jsxs(i.Fragment,{children:[p.errors.invalidDDD&&"DDD inválido. ",p.errors.requiresNineDigits&&"Celular deve ter 9 dígitos. ",p.errors.mustStartWithNine&&"Celular deve começar com 9. "]}):p.errors.invalidLength&&"Número deve ter entre 8 e 15 dígitos."})]})}),(p==null?void 0:p.isValid)&&i.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[i.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Número válido: ",p.formatted]}),r&&i.jsxs("div",{className:"mt-1 text-xs text-red-600 flex items-center",children:[i.jsx(Sl,{className:"w-3 h-3 mr-1"}),r]}),c&&i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})},Vx=({customer:e,onBack:t})=>{const{movements:r,levels:n,updateCustomer:s,addMovement:a}=ut(),[l,c]=A.useState(!1),[o,u]=A.useState(e),[d,f]=A.useState(0),[h,p]=A.useState(""),m=r.filter(w=>w.customerId===e.id),b=w=>`${w.firstName} ${w.lastName}`.trim(),k=()=>{s(e.id,o),c(!1)},x=()=>{if(d&&h){const w={customerId:e.id,customerDocument:e.document,type:"admin_adjust",points:d,description:h,date:new Date().toISOString().split("T")[0]};a(w),s(e.id,{points:e.points+d}),f(0),p("")}},g=w=>{const v=w?`ONLINE-${Date.now()}`:void 0,S={customerId:e.id,customerDocument:e.document,type:"redeem",points:-100,description:`Resgate ${w?"online":"offline"}: Desconto R$ 10,00`,date:new Date().toISOString().split("T")[0],couponCode:v};a(S),s(e.id,{points:e.points-100})},y=w=>{const N=w.replace(/[^\d]/g,"");let v=N;N.length>=4&&(v=N.replace(/(\d{3})(\d{1,3})/,"$1.$2")),N.length>=7&&(v=N.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),N.length>=10&&(v=N.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),u({...o,document:v})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:t,className:"mr-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(vx,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Detalhes do Cliente"})]}),i.jsxs("button",{onClick:()=>c(!l),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(nt,{className:"w-4 h-4 mr-2"}),l?"Cancelar":"Editar"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),l?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),i.jsx("input",{type:"text",value:o.firstName,onChange:w=>u({...o,firstName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),i.jsx("input",{type:"text",value:o.lastName,onChange:w=>u({...o,lastName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Sobrenome"})]})]}),i.jsx("input",{type:"email",value:o.email,onChange:w=>u({...o,email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Email"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),i.jsx(lf,{value:o.phone,onChange:w=>u({...o,phone:w})})]}),i.jsx("input",{type:"text",value:o.document,onChange:w=>y(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF",maxLength:14}),i.jsx("button",{onClick:k,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Salvar Alterações"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b(e)}),i.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Zh,{className:"w-4 h-4 text-gray-400 mr-2"}),i.jsx("span",{className:"text-sm text-gray-600",children:e.phone})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ro,{className:"w-4 h-4 text-gray-400 mr-2"}),i.jsx("span",{className:"text-sm text-gray-600",children:e.document})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Saldo de Pontos"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(qe,{className:"w-8 h-8 text-yellow-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.points.toLocaleString()}),i.jsx("p",{className:"text-sm text-gray-500",children:"pontos disponíveis"})]})]}),i.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Status"}),i.jsxs("select",{value:e.status,onChange:w=>s(e.id,{status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nível"}),i.jsx("select",{value:e.level.id,onChange:w=>{const N=n.find(v=>v.id===w.target.value);N&&s(e.id,{level:N})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:n.map(w=>i.jsx("option",{value:w.id,children:w.name},w.id))})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gerenciar Pontos"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"number",value:d,onChange:w=>f(Number(w.target.value)),placeholder:"Pontos",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("input",{type:"text",value:h,onChange:w=>p(w.target.value),placeholder:"Motivo",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Pontos"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resgatar Recompensa"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("button",{onClick:()=>g(!0),className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Resgate Online"}),i.jsx("button",{onClick:()=>g(!1),className:"bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Resgate Offline"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Histórico de Pontos"}),i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(w=>i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.type==="earn"?"bg-green-100":w.type==="redeem"?"bg-red-100":w.type==="admin_adjust"?"bg-blue-100":"bg-gray-100"}`,children:[w.type==="earn"&&i.jsx(jt,{className:"w-4 h-4 text-green-600"}),w.type==="redeem"&&i.jsx(De,{className:"w-4 h-4 text-red-600"}),w.type==="admin_adjust"&&i.jsx(nt,{className:"w-4 h-4 text-blue-600"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.description}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.date).toLocaleDateString("pt-BR")}),i.jsxs("p",{className:`text-sm font-semibold ${w.points>0?"text-green-600":"text-red-600"}`,children:[w.points>0?"+":"",w.points," pts"]})]}),w.couponCode&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Cupom: ",w.couponCode]})]})]},w.id))})]})]})]})},qx=()=>{var S,j,M,O,H,le;const{customers:e,validateCustomer:t,addCustomer:r,levels:n}=ut(),[s,a]=A.useState(""),[l,c]=A.useState("all"),[o,u]=A.useState(null),[d,f]=A.useState(!1),[h,p]=A.useState({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),[m,b]=A.useState(null),k=E=>`${E.firstName} ${E.lastName}`.trim(),x=e.filter(E=>{const we=k(E).toLowerCase().includes(s.toLowerCase())||E.email.toLowerCase().includes(s.toLowerCase())||E.document.includes(s),Ke=l==="all"||E.status===l;return we&&Ke}),g=E=>{const G=E.replace(/[^\d]/g,"");let we=G;if(G.length>=4&&(we=G.replace(/(\d{3})(\d{1,3})/,"$1.$2")),G.length>=7&&(we=G.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),G.length>=10&&(we=G.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),p({...h,document:we}),G.length===11){const Ke=t(G,h.email,h.phone);b(Ke)}else b(null)},y=E=>{if(p({...h,email:E}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,E,h.phone);b(G)}},w=E=>{if(p({...h,phone:E}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,h.email,E);b(G)}},N=()=>{if(!(m!=null&&m.isValid))return;const E={...h,level:n[0],registrationDate:new Date().toISOString().split("T")[0],emailVerified:!1,phoneVerified:!1,documentVerified:!0};r(E)&&(f(!1),p({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),b(null))},v=E=>{const we=[E.documentVerified,E.emailVerified,E.phoneVerified].filter(Boolean).length;return we===3?i.jsx(ji,{className:"w-4 h-4 text-green-600"}):we>=1?i.jsx(Sl,{className:"w-4 h-4 text-yellow-600"}):i.jsx(Dx,{className:"w-4 h-4 text-red-600"})};return o?i.jsx(Vx,{customer:o,onBack:()=>u(null)}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clientes"}),i.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou CPF...",value:s,onChange:E=>a(E.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todos os Status"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPF"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verificação"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nível"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Última Compra"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(E=>i.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[E.firstName.charAt(0),E.lastName.charAt(0)]})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:k(E)}),i.jsx("div",{className:"text-sm text-gray-500",children:E.email}),i.jsx("div",{className:"text-sm text-gray-500",children:E.phone})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.document})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[v(E),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsxs("div",{className:E.documentVerified?"text-green-600":"text-red-600",children:["CPF: ",E.documentVerified?"Verificado":"Pendente"]}),i.jsxs("div",{className:E.emailVerified?"text-green-600":"text-red-600",children:["Email: ",E.emailVerified?"Verificado":"Pendente"]}),i.jsxs("div",{className:E.phoneVerified?"text-green-600":"text-red-600",children:["Tel: ",E.phoneVerified?"Verificado":"Pendente"]})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(qe,{className:"w-4 h-4 text-yellow-500 mr-1"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.points.toLocaleString()})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:E.level.color+"20",color:E.level.color},children:E.level.name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.status==="active"?"Ativo":"Inativo"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.lastPurchase?new Date(E.lastPurchase).toLocaleDateString("pt-BR"):"Nunca"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[i.jsx("button",{onClick:()=>u(E),className:"text-blue-600 hover:text-blue-900 mr-4",children:i.jsx(nt,{className:"w-4 h-4"})}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ex,{className:"w-4 h-4"})})]})]},E.id))})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(jt,{className:"w-5 h-5 text-blue-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clientes Ativos"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(E=>E.status==="active").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(ji,{className:"w-5 h-5 text-green-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Totalmente Verificados"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(E=>E.documentVerified&&E.emailVerified&&E.phoneVerified).length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(qe,{className:"w-5 h-5 text-yellow-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Totais"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((E,G)=>E+G.points,0).toLocaleString()})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(De,{className:"w-5 h-5 text-purple-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Média de Pontos"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Math.round(e.reduce((E,G)=>E+G.points,0)/e.length).toLocaleString()})]})]})})]}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Cliente"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),i.jsx("input",{type:"text",value:h.firstName,onChange:E=>p({...h,firstName:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"João"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),i.jsx("input",{type:"text",value:h.lastName,onChange:E=>p({...h,lastName:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Silva"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF (Chave Primária)"}),i.jsx("input",{type:"text",value:h.document,onChange:E=>g(E.target.value),placeholder:"000.000.000-00",maxLength:14,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${m&&!m.isValid?"border-red-300":"border-gray-300"}`}),m&&!m.isValid&&i.jsxs("div",{className:"mt-1 text-sm text-red-600",children:[((S=m.conflicts)==null?void 0:S.duplicateDocument)&&"CPF já cadastrado",!((j=m.conflicts)!=null&&j.duplicateDocument)&&"CPF inválido"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Chave Secundária)"}),i.jsx("input",{type:"email",value:h.email,onChange:E=>y(E.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${(M=m==null?void 0:m.conflicts)!=null&&M.duplicateEmail?"border-red-300":"border-gray-300"}`,placeholder:"joao@email.com"}),((O=m==null?void 0:m.conflicts)==null?void 0:O.duplicateEmail)&&i.jsx("div",{className:"mt-1 text-sm text-red-600",children:"Email já cadastrado para outro CPF"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone Celular (Chave Secundária)"}),i.jsx(lf,{value:h.phone,onChange:w,placeholder:"+55 85 99999-9999",error:(H=m==null?void 0:m.conflicts)!=null&&H.duplicatePhone?"Telefone já cadastrado para outro CPF":void 0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Iniciais"}),i.jsx("input",{type:"number",value:h.points,onChange:E=>p({...h,points:Number(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),((le=m==null?void 0:m.conflicts)==null?void 0:le.existingCustomer)&&i.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cliente Existente Encontrado:"}),i.jsxs("p",{className:"text-sm text-yellow-700",children:[k(m.conflicts.existingCustomer)," - ",m.conflicts.existingCustomer.document]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>{f(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:N,disabled:!(m!=null&&m.isValid),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Adicionar Cliente"})]})]})})]})},Hx=()=>{const{levels:e,addLevel:t,updateLevel:r,deleteLevel:n}=ut(),[s,a]=A.useState(!1),[l,c]=A.useState(null),[o,u]=A.useState({name:"",color:"#3B82F6",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),[d,f]=A.useState(""),h={award:Sn,star:qe,crown:Cl,trophy:cu,gem:ou},p=[{value:"award",label:"Prêmio",icon:Sn},{value:"star",label:"Estrela",icon:qe},{value:"crown",label:"Coroa",icon:Cl},{value:"trophy",label:"Troféu",icon:cu},{value:"gem",label:"Gema",icon:ou}],m=["#CD7F32","#C0C0C0","#FFD700","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899"],b=()=>{u({name:"",color:"#3B82F6",icon:"award",order:e.length+1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),f("")},k=v=>{v?(c(v),u({name:v.name,color:v.color,icon:v.icon,order:v.order,requirements:v.requirements,benefits:v.benefits})):(c(null),b()),a(!0)},x=()=>{a(!1),c(null),b()},g=v=>{if(v.preventDefault(),!o.name.trim()){alert("Nome do nível é obrigatório");return}const S={...o,requirements:{minPoints:o.requirements.minPoints||void 0,minPurchaseValue:o.requirements.minPurchaseValue||void 0,timeframe:o.requirements.timeframe||void 0}};l?r(l.id,S):t(S),x()},y=()=>{d.trim()&&(u({...o,benefits:{...o.benefits,customRewards:[...o.benefits.customRewards,d.trim()]}}),f(""))},w=v=>{u({...o,benefits:{...o.benefits,customRewards:o.benefits.customRewards.filter((S,j)=>j!==v)}})},N=v=>{confirm(`Tem certeza que deseja deletar o nível "${v.name}"?`)&&n(v.id)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Níveis de Clientes"}),i.jsxs("button",{onClick:()=>k(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Novo Nível"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>{var j;const S=h[v.icon]||Sn;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:v.color+"20"},children:i.jsx(S,{className:"w-6 h-6",style:{color:v.color}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Ordem: ",v.order]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>k(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:i.jsx(nt,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>N(v),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:i.jsx(is,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Mínimo: ",((j=v.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),v.requirements.minPurchaseValue&&i.jsxs("p",{className:"text-sm text-gray-600",children:["Compra mínima: R$ ",v.requirements.minPurchaseValue.toLocaleString()]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Benefícios"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("li",{children:["• ",v.benefits.pointsMultiplier,"x pontos em compras"]}),i.jsxs("li",{children:["• ",v.benefits.referralBonus,"x pontos em indicações"]}),v.benefits.freeShipping&&i.jsx("li",{children:"• Frete grátis"}),v.benefits.exclusiveEvents&&i.jsx("li",{children:"• Eventos exclusivos"}),v.benefits.customRewards.map((M,O)=>i.jsxs("li",{children:["• ",M]},O))]})]})]})]},v.id)})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resumo dos Níveis"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nível"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requisitos"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Multiplicador"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benefícios"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>{var j;const S=h[v.icon]||Sn;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:v.color+"20"},children:i.jsx(S,{className:"w-4 h-4",style:{color:v.color}})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Ordem ",v.order]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((j=v.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.benefits.pointsMultiplier,"x"]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.benefits.freeShipping&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Frete grátis"}),v.benefits.exclusiveEvents&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Eventos"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[i.jsx("button",{onClick:()=>k(v),className:"text-blue-600 hover:text-blue-900 mr-4",children:i.jsx(nt,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>N(v),className:"text-red-600 hover:text-red-900",children:i.jsx(is,{className:"w-4 h-4"})})]})]},v.id)})})]})})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Nível":"Novo Nível"}),i.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(tn,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Nível"}),i.jsx("input",{type:"text",value:o.name,onChange:v=>u({...o,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Bronze, Prata, Ouro",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem"}),i.jsx("input",{type:"number",value:o.order,onChange:v=>u({...o,order:Number(v.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ícone"}),i.jsx("div",{className:"grid grid-cols-5 gap-3",children:p.map(v=>{const S=v.icon;return i.jsxs("button",{type:"button",onClick:()=>u({...o,icon:v.value}),className:`p-3 border-2 rounded-lg flex flex-col items-center justify-center transition-colors ${o.icon===v.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx(S,{className:"w-6 h-6 mb-1"}),i.jsx("span",{className:"text-xs",children:v.label})]},v.value)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(v=>i.jsx("button",{type:"button",onClick:()=>u({...o,color:v}),className:`w-10 h-10 rounded-full border-2 transition-all ${o.color===v?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:v}},v))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Requisitos"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Mínimos"}),i.jsx("input",{type:"number",value:o.requirements.minPoints||"",onChange:v=>u({...o,requirements:{...o.requirements,minPoints:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mínima (R$)"}),i.jsx("input",{type:"number",value:o.requirements.minPurchaseValue||"",onChange:v=>u({...o,requirements:{...o.requirements,minPurchaseValue:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período (dias)"}),i.jsx("input",{type:"number",value:o.requirements.timeframe||"",onChange:v=>u({...o,requirements:{...o.requirements,timeframe:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Benefícios"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Multiplicador de Pontos"}),i.jsx("input",{type:"number",value:o.benefits.pointsMultiplier,onChange:v=>u({...o,benefits:{...o.benefits,pointsMultiplier:Number(v.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bônus de Indicação"}),i.jsx("input",{type:"number",value:o.benefits.referralBonus,onChange:v=>u({...o,benefits:{...o.benefits,referralBonus:Number(v.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"freeShipping",checked:o.benefits.freeShipping,onChange:v=>u({...o,benefits:{...o.benefits,freeShipping:v.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"freeShipping",className:"ml-2 block text-sm text-gray-900",children:"Frete grátis"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"exclusiveEvents",checked:o.benefits.exclusiveEvents,onChange:v=>u({...o,benefits:{...o.benefits,exclusiveEvents:v.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"exclusiveEvents",className:"ml-2 block text-sm text-gray-900",children:"Eventos exclusivos"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recompensas Personalizadas"}),i.jsxs("div",{className:"space-y-2",children:[o.benefits.customRewards.map((v,S)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:v}),i.jsx("button",{type:"button",onClick:()=>w(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:i.jsx(tn,{className:"w-4 h-4"})})]},S)),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:d,onChange:v=>f(v.target.value),placeholder:"Digite uma recompensa personalizada",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:v=>{v.key==="Enter"&&(v.preventDefault(),y())}}),i.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar"})]})]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Nível"]})]})]})]})})]})},Wx=({customer:e,movement:t,onClose:r})=>{const{settings:n}=ut(),s=o=>`${o.firstName} ${o.lastName}`.trim(),a=o=>new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=()=>{window.print()},c=({viaNumber:o})=>i.jsxs("div",{className:"receipt-content bg-white p-6 border border-gray-300 rounded-lg mb-4",children:[i.jsxs("div",{className:"text-center border-b border-gray-200 pb-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(De,{className:"w-8 h-8 text-blue-600 mr-2"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.company.name})]}),i.jsx("p",{className:"text-sm text-gray-600",children:n.program.name}),i.jsx("p",{className:"text-xs text-gray-500",children:n.company.website}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs("strong",{children:["COMPROVANTE DE RESGATE - ",o,"ª VIA"]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[i.jsx(Pl,{className:"w-4 h-4 mr-1"}),"Dados do Cliente"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Nome:"})," ",s(e)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"CPF:"})," ",e.document]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Telefone:"})," ",e.phone]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Nível:"}),i.jsx("span",{className:"ml-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Pontos Disponíveis:"})," ",e.points.toLocaleString()]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[i.jsx(De,{className:"w-4 h-4 mr-1"}),"Detalhes do Resgate"]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Descrição:"})," ",t.description]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Pontos Resgatados:"}),i.jsxs("span",{className:"text-red-600 font-bold",children:[Math.abs(t.points)," pontos"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Data/Hora:"})," ",a(t.date)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Referência:"})," ",t.reference||"N/A"]}),t.couponCode&&i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"font-medium",children:"Código do Cupom:"}),i.jsx("span",{className:"ml-1 px-2 py-1 bg-blue-100 text-blue-800 rounded font-mono text-sm",children:t.couponCode})]})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[i.jsx(qe,{className:"w-4 h-4 mr-1"}),"Saldo Atualizado"]}),i.jsx("div",{className:"bg-blue-50 p-3 rounded",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Saldo atual de pontos:"}),i.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(e.points+t.points).toLocaleString()," pontos"]})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[i.jsx(Ro,{className:"w-4 h-4 mr-1"}),"Informações Importantes"]}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[i.jsx("p",{children:"• Este comprovante é válido como prova de resgate de pontos"}),i.jsx("p",{children:"• Guarde este comprovante para seus registros"}),i.jsx("p",{children:"• Em caso de dúvidas, entre em contato conosco"}),t.couponCode&&i.jsx("p",{children:"• O código do cupom deve ser apresentado no momento da compra"}),n.program.pointsExpiration.enabled&&i.jsxs("p",{children:["• Pontos expiram em ",n.program.pointsExpiration.days," dias"]})]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-4 text-center",children:i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("p",{children:n.company.address}),i.jsxs("p",{className:"mt-1",children:[i.jsx("span",{className:"font-medium",children:"Data de Emissão:"})," ",a(new Date().toISOString())]}),i.jsx("p",{className:"mt-2 text-xs",children:i.jsx("strong",{children:"Obrigado por participar do nosso programa de fidelidade!"})})]})})]});return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"no-print flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comprovante de Resgate"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Tx,{className:"w-4 h-4 mr-2"}),"Imprimir"]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(tn,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsx(c,{viaNumber:1}),i.jsx("div",{className:"print-only border-t-2 border-dashed border-gray-400 my-4 page-break"}),i.jsx(c,{viaNumber:2})]})]})})},Gx=()=>{const{movements:e,customers:t,addMovement:r,updateCustomer:n,findCustomerByDocument:s}=ut(),[a,l]=A.useState(""),[c,o]=A.useState("all"),[u,d]=A.useState(!1),[f,h]=A.useState(null),[p,m]=A.useState(""),[b,k]=A.useState(null),[x,g]=A.useState({type:"earn",points:0,description:"",reference:"",couponCode:""}),[y,w]=A.useState(!1),[N,v]=A.useState(null),S=R=>`${R.firstName} ${R.lastName}`.trim(),j=e.filter(R=>{const F=t.find(Zt=>Zt.id===R.customerId),oe=F&&S(F).toLowerCase().includes(a.toLowerCase())||R.description.toLowerCase().includes(a.toLowerCase()),Ae=c==="all"||R.type===c;return oe&&Ae}),M=()=>`ONLINE-${Date.now().toString().slice(-6)}`,O=R=>{const F=R.replace(/[^\d]/g,"");let oe=F;if(F.length>=4&&(oe=F.replace(/(\d{3})(\d{1,3})/,"$1.$2")),F.length>=7&&(oe=F.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),F.length>=10&&(oe=F.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),m(oe),F.length===11){const Ae=s(F);k(Ae||null)}else k(null)},H=()=>{h("add_points"),g({type:"earn",points:0,description:"",reference:"",couponCode:""}),m(""),k(null),d(!0)},le=()=>{h("redeem_offline"),g({type:"redeem",points:100,description:"Resgate offline: Desconto R$ 10,00",reference:"",couponCode:""}),m(""),k(null),d(!0)},E=()=>{h("redeem_online");const R=M();g({type:"redeem",points:100,description:"Resgate online: Desconto R$ 10,00",reference:"",couponCode:R}),m(""),k(null),d(!0)},G=()=>{d(!1),h(null),m(""),k(null),g({type:"earn",points:0,description:"",reference:"",couponCode:""})},we=()=>{if(b&&x.points&&x.description){const R={customerId:b.id,customerDocument:b.document,type:x.type,points:x.type==="redeem"?-Math.abs(x.points):x.points,description:x.description,date:new Date().toISOString().split("T")[0],reference:x.reference||void 0,couponCode:x.couponCode||void 0};r(R);const F=x.type==="redeem"?-Math.abs(x.points):x.points;if(n(b.id,{points:b.points+F}),x.type==="redeem"){const oe={...R,id:Date.now().toString()};v({customer:b,movement:oe}),w(!0)}G()}},Ke=()=>{w(!1),v(null)},Yt=R=>{switch(R){case"earn":return i.jsx(jt,{className:"w-5 h-5 text-green-600"});case"redeem":return i.jsx(De,{className:"w-5 h-5 text-red-600"});case"admin_adjust":return i.jsx(nt,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(jt,{className:"w-5 h-5 text-gray-600"})}},P=R=>{switch(R){case"earn":return"Ganho";case"redeem":return"Resgate";case"admin_adjust":return"Ajuste Admin";case"referral":return"Indicação";case"expire":return"Expiração";case"refund":return"Reembolso";default:return R}},D=()=>{switch(f){case"add_points":return"Registrar Nova Compra";case"redeem_offline":return"Resgate Offline";case"redeem_online":return"Resgate Online";default:return"Nova Movimentação"}},z=()=>{switch(f){case"add_points":return"Registrar Compra";case"redeem_offline":return"Confirmar Resgate";case"redeem_online":return"Gerar Cupom";default:return"Adicionar"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Movimentos de Pontos"}),i.jsxs("button",{onClick:H,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Nova Movimentação"]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrição...",value:a,onChange:R=>l(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("select",{value:c,onChange:R=>o(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todos os Tipos"}),i.jsx("option",{value:"earn",children:"Ganho"}),i.jsx("option",{value:"redeem",children:"Resgate"}),i.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Offline"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom para impressão"})]}),i.jsx(Rx,{className:"w-8 h-8 text-blue-600"})]}),i.jsx("button",{onClick:le,className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Iniciar Resgate"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Online"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom digital"})]}),i.jsx(ef,{className:"w-8 h-8 text-green-600"})]}),i.jsx("button",{onClick:E,className:"mt-4 w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Gerar Cupom"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acumular Pontos"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Registrar compra"})]}),i.jsx(jt,{className:"w-8 h-8 text-yellow-600"})]}),i.jsx("button",{onClick:H,className:"mt-4 w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Registrar Compra"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referência"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(R=>{const F=t.find(oe=>oe.id===R.customerId);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(R.date).toLocaleDateString("pt-BR")}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F?S(F):"Cliente não encontrado"}),i.jsx("div",{className:"text-sm text-gray-500",children:F==null?void 0:F.email})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[Yt(R.type),i.jsx("span",{className:"ml-2 text-sm text-gray-900",children:P(R.type)})]})}),i.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[R.description,R.couponCode&&i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Cupom: ",R.couponCode]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`text-sm font-semibold ${R.points>0?"text-green-600":"text-red-600"}`,children:[R.points>0?"+":"",R.points]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.reference||"-"})]},R.id)})})]})})}),u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:D()}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF do Cliente"}),i.jsx("input",{type:"text",value:p,onChange:R=>O(R.target.value),placeholder:"000.000.000-00",maxLength:14,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),p.replace(/[^\d]/g,"").length===11&&i.jsx("div",{className:"mt-2",children:b?i.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:i.jsxs("span",{className:"text-sm font-medium text-green-600",children:[b.firstName.charAt(0),b.lastName.charAt(0)]})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:S(b)}),i.jsxs("p",{className:"text-xs text-green-600",children:[b.email," • ",b.points," pontos"]})]})]})}):i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-800",children:"Cliente não encontrado com este CPF"})})})]}),!f&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{value:x.type,onChange:R=>g({...x,type:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"earn",children:"Ganho"}),i.jsx("option",{value:"redeem",children:"Resgate"}),i.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f==="add_points"?"Pontos Ganhos":"Pontos"}),i.jsx("input",{type:"number",value:x.points,onChange:R=>g({...x,points:Number(R.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),i.jsx("input",{type:"text",value:x.description,onChange:R=>g({...x,description:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:f==="add_points"?"Ex: Compra no valor de R$ 150,00":f==="redeem_offline"?"Ex: Resgate offline: Desconto R$ 10,00":f==="redeem_online"?"Ex: Resgate online: Desconto R$ 10,00":"Descrição da movimentação"})]}),f==="add_points"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referência (opcional)"}),i.jsx("input",{type:"text",value:x.reference,onChange:R=>g({...x,reference:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pedido #12345"})]}),(f==="redeem_offline"||f==="redeem_online")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código do Cupom"}),i.jsx("input",{type:"text",value:x.couponCode,onChange:R=>g({...x,couponCode:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:f==="redeem_offline"?"Digite o código do cupom":"Código gerado automaticamente",readOnly:f==="redeem_online"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:G,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:we,disabled:!b,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:z()})]})]})}),y&&N&&i.jsx(Wx,{customer:N.customer,movement:N.movement,onClose:Ke})]})},Kx=()=>{const{rewards:e}=ut(),[t,r]=A.useState(!1),[n,s]=A.useState(null),[a,l]=A.useState({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30}),c=()=>{r(!1),s(null),l({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30})},o=d=>{switch(d){case"discount":return"Desconto";case"product":return"Produto";case"service":return"Serviço";case"custom":return"Personalizado";default:return d}},u=d=>{switch(d){case"discount":return i.jsx(De,{className:"w-5 h-5 text-green-600"});case"product":return i.jsx(qe,{className:"w-5 h-5 text-blue-600"});case"service":return i.jsx(Jh,{className:"w-5 h-5 text-purple-600"});default:return i.jsx(De,{className:"w-5 h-5 text-gray-600"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recompensas"}),i.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Nova Recompensa"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configuração de Pontos"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),i.jsx("input",{type:"number",defaultValue:1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quantos pontos vale cada R$1,00 gasto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mínimo de Compra (R$)"}),i.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor mínimo para acumular pontos"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiração de Pontos (dias)"}),i.jsx("input",{type:"number",defaultValue:365,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias para expiração dos pontos"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[u(d.type),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),i.jsx("p",{className:"text-sm text-gray-500",children:o(d.type)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[d.isActive?i.jsx(Yh,{className:"w-4 h-4 text-green-600"}):i.jsx(Xh,{className:"w-4 h-4 text-gray-400"}),i.jsx("button",{onClick:()=>{s(d),r(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:i.jsx(nt,{className:"w-4 h-4"})}),i.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:i.jsx(is,{className:"w-4 h-4"})})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custo:"}),i.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[d.pointsCost," pontos"]})]}),d.type==="discount"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Desconto:"}),i.jsxs("span",{className:"text-sm font-bold text-green-600",children:["R$ ",d.value]})]}),d.expirationDays&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Validade:"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[d.expirationDays," dias"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),i.jsx("span",{className:`text-sm font-medium ${d.isActive?"text-green-600":"text-red-600"}`,children:d.isActive?"Ativa":"Inativa"})]})]})]},d.id))}),t&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Editar Recompensa":"Nova Recompensa"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),i.jsx("input",{type:"text",value:n?n.name:a.name,onChange:d=>n?s({...n,name:d.target.value}):l({...a,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),i.jsx("textarea",{value:n?n.description:a.description,onChange:d=>n?s({...n,description:d.target.value}):l({...a,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{value:n?n.type:a.type,onChange:d=>n?s({...n,type:d.target.value}):l({...a,type:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"discount",children:"Desconto"}),i.jsx("option",{value:"product",children:"Produto"}),i.jsx("option",{value:"service",children:"Serviço"}),i.jsx("option",{value:"custom",children:"Personalizado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo em Pontos"}),i.jsx("input",{type:"number",value:n?n.pointsCost:a.pointsCost,onChange:d=>n?s({...n,pointsCost:Number(d.target.value)}):l({...a,pointsCost:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),i.jsx("input",{type:"number",value:n?n.value:a.value,onChange:d=>n?s({...n,value:Number(d.target.value)}):l({...a,value:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),i.jsx("input",{type:"number",value:n?n.expirationDays||30:a.expirationDays,onChange:d=>n?s({...n,expirationDays:Number(d.target.value)}):l({...a,expirationDays:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isActive",checked:n?n.isActive:a.isActive,onChange:d=>n?s({...n,isActive:d.target.checked}):l({...a,isActive:d.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Recompensa ativa"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>{r(!1),s(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:c,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"})]})]})})]})},Qx=()=>{const{referrals:e,referralTypes:t,customers:r,addReferralType:n,updateReferralType:s,deleteReferralType:a}=ut(),[l,c]=A.useState("list"),[o,u]=A.useState(!1),[d,f]=A.useState(null),[h,p]=A.useState({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),m=j=>`${j.firstName} ${j.lastName}`.trim(),b=j=>{switch(j){case"validated":return i.jsx(Wr,{className:"w-5 h-5 text-green-600"});case"rejected":return i.jsx(tn,{className:"w-5 h-5 text-red-600"});case"pending":return i.jsx(_a,{className:"w-5 h-5 text-yellow-600"});default:return i.jsx(_a,{className:"w-5 h-5 text-gray-600"})}},k=j=>{switch(j){case"validated":return"Validada";case"rejected":return"Rejeitada";case"pending":return"Pendente";default:return j}},x=j=>{switch(j){case"email":return i.jsx(El,{className:"w-4 h-4"});case"whatsapp":return i.jsx(bi,{className:"w-4 h-4"});case"sms":return i.jsx(nf,{className:"w-4 h-4"});case"qrcode":return i.jsx(ef,{className:"w-4 h-4"});default:return i.jsx(Fn,{className:"w-4 h-4"})}},g=j=>{switch(j){case"crown":return i.jsx(Cl,{className:"w-5 h-5"});case"heart":return i.jsx(_x,{className:"w-5 h-5"});case"building":return i.jsx(jx,{className:"w-5 h-5"});case"gift":return i.jsx(De,{className:"w-5 h-5"});default:return i.jsx(Fn,{className:"w-5 h-5"})}},y=j=>{switch(j){case"fixed":return"Valor Fixo (R$)";case"percentage":return"Percentual (%)";case"points":return"Pontos";case"gift":return"Brinde";default:return j}},w=()=>{d?s(d.id,h):n(h),u(!1),f(null),p({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}})},N=j=>{f(j),p({name:j.name,description:j.description,icon:j.icon,color:j.color,isActive:j.isActive,methods:j.methods,referrerReward:j.referrerReward,referredReward:j.referredReward,conditions:j.conditions||{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),u(!0)},v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],S=[{value:"user-plus",label:"Usuário Plus"},{value:"crown",label:"Coroa"},{value:"heart",label:"Coração"},{value:"building",label:"Prédio"},{value:"gift",label:"Presente"},{value:"star",label:"Estrela"},{value:"award",label:"Prêmio"},{value:"trophy",label:"Troféu"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistema de Indicações"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>c("list"),className:`px-4 py-2 rounded-lg transition-colors ${l==="list"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Indicações"}),i.jsx("button",{onClick:()=>c("types"),className:`px-4 py-2 rounded-lg transition-colors ${l==="types"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tipos de Indicação"}),i.jsx("button",{onClick:()=>c("config"),className:`px-4 py-2 rounded-lg transition-colors ${l==="config"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Configurações"})]})]}),l==="list"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Fn,{className:"w-5 h-5 text-blue-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Indicações"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(Wr,{className:"w-5 h-5 text-green-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Validadas"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="validated").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(_a,{className:"w-5 h-5 text-yellow-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pendentes"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="pending").length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(De,{className:"w-5 h-5 text-purple-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipos Ativos"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.isActive).length})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lista de Indicações"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicador"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>{const M=r.find(le=>le.id===j.referrerId),O=r.find(le=>le.id===j.referredId),H=t.find(le=>le.id===j.referralTypeId);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.date).toLocaleDateString("pt-BR")}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:M?m(M):"N/A"}),i.jsx("div",{className:"text-sm text-gray-500",children:M==null?void 0:M.email})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:O?m(O):"N/A"}),i.jsx("div",{className:"text-sm text-gray-500",children:O==null?void 0:O.email})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:(H==null?void 0:H.color)+"20"},children:i.jsx("div",{style:{color:H==null?void 0:H.color},children:g((H==null?void 0:H.icon)||"user-plus")})}),i.jsx("span",{className:"text-sm text-gray-900",children:H==null?void 0:H.name})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[x(j.method),i.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j.method})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[b(j.status),i.jsx("span",{className:"ml-2 text-sm text-gray-900",children:k(j.status)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:j.status==="pending"&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"text-green-600 hover:text-green-900",children:i.jsx(Wr,{className:"w-4 h-4"})}),i.jsx("button",{className:"text-red-600 hover:text-red-900",children:i.jsx(tn,{className:"w-4 h-4"})})]})})]},j.id)})})]})})]})]}),l==="types"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tipos de Indicação"}),i.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Novo Tipo"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(j=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:j.color+"20"},children:i.jsx("div",{style:{color:j.color},children:g(j.icon)})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),i.jsxs("div",{className:"flex items-center mt-1",children:[j.isActive?i.jsx(Yh,{className:"w-4 h-4 text-green-600 mr-1"}):i.jsx(Xh,{className:"w-4 h-4 text-gray-400 mr-1"}),i.jsx("span",{className:`text-sm ${j.isActive?"text-green-600":"text-gray-400"}`,children:j.isActive?"Ativo":"Inativo"})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>N(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:i.jsx(nt,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>a(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:i.jsx(is,{className:"w-4 h-4"})})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:j.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicador"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[y(j.referrerReward.type),": ",j.referrerReward.value]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referrerReward.description})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicado"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[y(j.referredReward.type),": ",j.referredReward.value]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referredReward.description})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Métodos Disponíveis"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:j.methods.map(M=>i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[x(M),i.jsx("span",{className:"ml-1 capitalize",children:M})]},M))})]}),j.conditions&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Condições"}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[j.conditions.minPurchaseValue&&i.jsxs("div",{children:["• Compra mínima: R$ ",j.conditions.minPurchaseValue]}),j.conditions.validityDays&&i.jsxs("div",{children:["• Validade: ",j.conditions.validityDays," dias"]}),j.conditions.maxReferrals&&i.jsxs("div",{children:["• Máximo: ",j.conditions.maxReferrals," indicações"]}),j.conditions.requiresFirstPurchase&&i.jsx("div",{children:"• Requer primeira compra"})]})]})]})]},j.id))})]}),l==="config"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações Gerais"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Validação Automática"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"manual",children:"Manual"}),i.jsx("option",{value:"first_purchase",children:"Após primeira compra"}),i.jsx("option",{value:"immediate",children:"Imediata"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite Global de Indicações por Cliente"}),i.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"allowSelfReferral",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"allowSelfReferral",className:"ml-2 block text-sm text-gray-900",children:"Permitir auto-indicação (mesmo email/telefone)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"trackReferralSource",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"trackReferralSource",className:"ml-2 block text-sm text-gray-900",children:"Rastrear origem das indicações"})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Configurações"})})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:d?"Editar Tipo de Indicação":"Novo Tipo de Indicação"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),i.jsx("input",{type:"text",value:h.name,onChange:j=>p({...h,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ícone"}),i.jsx("select",{value:h.icon,onChange:j=>p({...h,icon:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:S.map(j=>i.jsx("option",{value:j.value,children:j.label},j.value))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),i.jsx("textarea",{value:h.description,onChange:j=>p({...h,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(j=>i.jsx("button",{onClick:()=>p({...h,color:j}),className:`w-8 h-8 rounded-full border-2 ${h.color===j?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:j}},j))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Métodos de Indicação"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["email","whatsapp","sms","qrcode"].map(j=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:h.methods.includes(j),onChange:M=>{M.target.checked?p({...h,methods:[...h.methods,j]}):p({...h,methods:h.methods.filter(O=>O!==j)})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j})]},j))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicador"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{value:h.referrerReward.type,onChange:j=>p({...h,referrerReward:{...h.referrerReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"points",children:"Pontos"}),i.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),i.jsx("option",{value:"percentage",children:"Percentual (%)"}),i.jsx("option",{value:"gift",children:"Brinde"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),i.jsx("input",{type:"number",value:h.referrerReward.value,onChange:j=>p({...h,referrerReward:{...h.referrerReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),i.jsx("input",{type:"text",value:h.referrerReward.description,onChange:j=>p({...h,referrerReward:{...h.referrerReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicado"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{value:h.referredReward.type,onChange:j=>p({...h,referredReward:{...h.referredReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"points",children:"Pontos"}),i.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),i.jsx("option",{value:"percentage",children:"Percentual (%)"}),i.jsx("option",{value:"gift",children:"Brinde"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),i.jsx("input",{type:"number",value:h.referredReward.value,onChange:j=>p({...h,referredReward:{...h.referredReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),i.jsx("input",{type:"text",value:h.referredReward.description,onChange:j=>p({...h,referredReward:{...h.referredReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Condições"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mínima (R$)"}),i.jsx("input",{type:"number",value:h.conditions.minPurchaseValue,onChange:j=>p({...h,conditions:{...h.conditions,minPurchaseValue:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),i.jsx("input",{type:"number",value:h.conditions.validityDays,onChange:j=>p({...h,conditions:{...h.conditions,validityDays:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máximo de Indicações"}),i.jsx("input",{type:"number",value:h.conditions.maxReferrals,onChange:j=>p({...h,conditions:{...h.conditions,maxReferrals:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"requiresFirstPurchase",checked:h.conditions.requiresFirstPurchase,onChange:j=>p({...h,conditions:{...h.conditions,requiresFirstPurchase:j.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"requiresFirstPurchase",className:"ml-2 block text-sm text-gray-900",children:"Requer primeira compra"})]})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isActive",checked:h.isActive,onChange:j=>p({...h,isActive:j.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Tipo de indicação ativo"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>{u(!1),f(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:w,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d?"Atualizar":"Criar"," Tipo"]})]})]})})]})},Jx=()=>{const[e,t]=A.useState("campaigns"),[r,n]=A.useState(!1),s=[{id:"1",name:"Boas-vindas Novos Clientes",type:"welcome",status:"active",sent:150,opened:120,clicked:45},{id:"2",name:"Pontos Prestes a Expirar",type:"expiration",status:"active",sent:89,opened:67,clicked:23}],a=[{id:"1",name:"Boas-vindas",channel:"email",subject:"Bem-vindo ao nosso programa de fidelidade!",preview:"Olá {nome}, seja bem-vindo ao nosso programa..."},{id:"2",name:"Pontos Expiração",channel:"whatsapp",subject:"Seus pontos vão expirar em breve",preview:"Oi {nome}! Você tem {pontos} pontos que expiram em {dias} dias..."}],l=[{id:"1",name:"Novo Cliente Cadastrado",trigger:"customer_registered",action:"send_welcome_email",status:"active"},{id:"2",name:"Pontos Próximos ao Vencimento",trigger:"points_expiring_soon",action:"send_expiration_warning",status:"active"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Comunicação"}),i.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(on,{className:"w-4 h-4 mr-2"}),"Nova Campanha"]})]}),i.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[i.jsx("button",{onClick:()=>t("campaigns"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="campaigns"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Campanhas"}),i.jsx("button",{onClick:()=>t("templates"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="templates"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Templates"}),i.jsx("button",{onClick:()=>t("automation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="automation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Automação"})]}),e==="campaigns"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx($x,{className:"w-5 h-5 text-blue-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Enviadas"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"239"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(El,{className:"w-5 h-5 text-green-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Abertas"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"187"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(bi,{className:"w-5 h-5 text-purple-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cliques"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"68"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(Jh,{className:"w-5 h-5 text-yellow-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Abertura"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"78%"})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Campanhas Ativas"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviadas"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertas"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliques"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(c=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.type==="welcome"?"Boas-vindas":"Expiração"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="active"?"Ativa":"Inativa"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.sent}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.opened}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.clicked}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[i.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:i.jsx(nt,{className:"w-4 h-4"})}),i.jsx("button",{className:"text-red-600 hover:text-red-900",children:i.jsx(is,{className:"w-4 h-4"})})]})]},c.id))})]})})]})]}),e==="templates"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Templates de Mensagem"})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(c=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[c.channel==="email"&&i.jsx(El,{className:"w-4 h-4 text-blue-600"}),c.channel==="whatsapp"&&i.jsx(bi,{className:"w-4 h-4 text-green-600"}),c.channel==="sms"&&i.jsx(nf,{className:"w-4 h-4 text-purple-600"}),i.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:i.jsx(nt,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Assunto:"}),i.jsx("p",{className:"text-sm text-gray-600",children:c.subject})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),i.jsx("p",{className:"text-sm text-gray-600",children:c.preview})]})]})]},c.id))})})]})}),e==="automation"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Régua de Comunicação"})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:l.map(c=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:c.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Quando: ",c.trigger==="customer_registered"?"Cliente se cadastra":"Pontos próximos ao vencimento"]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Ação: ",c.action==="send_welcome_email"?"Enviar email de boas-vindas":"Enviar aviso de expiração"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="active"?"Ativa":"Inativa"}),i.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:i.jsx(nt,{className:"w-4 h-4"})})]})]},c.id))})})]})})]})},Xx=()=>{const[e]=A.useState([{id:"1",title:"Criar a Conta (Cadastro Nível 1)",description:"Cliente realiza o cadastro básico com nome e email",icon:Pl,reward:{type:"points",value:100},completed:85,total:100,status:"active"},{id:"2",title:"Cadastro Nível 2",description:"Cliente completa cadastro com telefone, endereço e WhatsApp",icon:Zh,reward:{type:"points",value:200},completed:67,total:100,status:"active"},{id:"3",title:"Cadastro Nível 3",description:"Cliente informa preferências de produtos, marcas, serviços e cor de cabelo",icon:Sx,reward:{type:"points",value:300},completed:23,total:100,status:"active"},{id:"4",title:"Review de Produtos",description:"Cliente avalia produtos comprados",icon:qe,reward:{type:"points",value:50},completed:45,total:100,status:"active"},{id:"5",title:"Comprar uma Categoria de Produtos",description:"Cliente realiza compra em categoria específica",icon:Ix,reward:{type:"points",value:500},completed:12,total:100,status:"active"}]),[t,r]=A.useState(!1),[n,s]=A.useState({title:"",description:"",rewardType:"points",rewardValue:0,target:100}),a=(l,c)=>Math.round(l/c*100);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Objetivos e Metas"}),i.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Novo Objetivo"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Ks,{className:"w-5 h-5 text-blue-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Objetivos Ativos"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(ji,{className:"w-5 h-5 text-green-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Conclusão"}),i.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(e.reduce((l,c)=>l+a(c.completed,c.total),0)/e.length),"%"]})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(qe,{className:"w-5 h-5 text-yellow-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Distribuídos"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,c)=>l+c.reward.value*c.completed,0).toLocaleString()})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(Pl,{className:"w-5 h-5 text-purple-600"})})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Participantes"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,c)=>l+c.completed,0)})]})]})})]}),i.jsx("div",{className:"space-y-4",children:e.map(l=>{const c=l.icon,o=a(l.completed,l.total);return i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(c,{className:"w-6 h-6 text-blue-600"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Progresso"}),i.jsxs("span",{className:"font-medium text-gray-900",children:[l.completed,"/",l.total," (",o,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}),i.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(qe,{className:"w-4 h-4 text-yellow-500 mr-1"}),i.jsxs("span",{children:["Recompensa: ",l.reward.value," pontos"]})]}),i.jsx("div",{className:"flex items-center text-sm",children:l.status==="active"?i.jsxs(i.Fragment,{children:[i.jsx(ji,{className:"w-4 h-4 text-green-500 mr-1"}),i.jsx("span",{className:"text-green-600",children:"Ativo"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Nx,{className:"w-4 h-4 text-gray-400 mr-1"}),i.jsx("span",{className:"text-gray-500",children:"Inativo"})]})})]})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:i.jsx(Ks,{className:"w-4 h-4"})})})]})},l.id)})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Jornada do Cliente"}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"flex items-center justify-between",children:e.map((l,c)=>{const o=l.icon,u=a(l.completed,l.total),d=u>=80;return i.jsxs("div",{className:"flex flex-col items-center relative",children:[c<e.length-1&&i.jsx("div",{className:"absolute top-6 left-full w-full h-0.5 bg-gray-200 z-0"}),i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${d?"bg-green-100 border-2 border-green-500":"bg-gray-100 border-2 border-gray-300"}`,children:i.jsx(o,{className:`w-6 h-6 ${d?"text-green-600":"text-gray-400"}`})}),i.jsxs("div",{className:"mt-3 text-center max-w-24",children:[i.jsx("p",{className:"text-xs font-medium text-gray-900 leading-tight",children:l.title.split(" ").slice(0,2).join(" ")}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u,"%"]})]})]},l.id)})})})]}),t&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Objetivo"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título"}),i.jsx("input",{type:"text",value:n.title,onChange:l=>s({...n,title:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),i.jsx("textarea",{value:n.description,onChange:l=>s({...n,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Recompensa"}),i.jsxs("select",{value:n.rewardType,onChange:l=>s({...n,rewardType:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"points",children:"Pontos"}),i.jsx("option",{value:"discount",children:"Desconto"}),i.jsx("option",{value:"gift",children:"Brinde"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),i.jsx("input",{type:"number",value:n.rewardValue,onChange:l=>s({...n,rewardValue:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta"}),i.jsx("input",{type:"number",value:n.target,onChange:l=>s({...n,target:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:()=>{r(!1),s({title:"",description:"",rewardType:"points",rewardValue:0,target:100})},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Objetivo"})]})]})})]})},Yx=()=>{const{settings:e,updateSettings:t}=ut(),[r,n]=A.useState("company"),[s,a]=A.useState(e),[l,c]=A.useState(""),[o,u]=A.useState(""),d=()=>{t(s)},f=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA"],h=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins"],p=(m,b)=>{const k=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;(k.test(b)||b==="")&&(m==="primary"?(c(b),k.test(b)&&a({...s,program:{...s.program,primaryColor:b}})):(u(b),k.test(b)&&a({...s,program:{...s.program,secondaryColor:b}})))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Personalização"}),i.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Ax,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})]}),i.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[i.jsxs("button",{onClick:()=>n("company"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="company"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Mx,{className:"w-4 h-4 mr-2"}),"Empresa"]}),i.jsxs("button",{onClick:()=>n("program"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="program"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Px,{className:"w-4 h-4 mr-2"}),"Programa"]}),i.jsxs("button",{onClick:()=>n("validation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="validation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Ox,{className:"w-4 h-4 mr-2"}),"Validação"]}),i.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="notifications"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(wx,{className:"w-4 h-4 mr-2"}),"Notificações"]}),i.jsxs("button",{onClick:()=>n("terms"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="terms"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Regulamento"]})]}),r==="company"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informações da Empresa"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa"}),i.jsx("input",{type:"text",value:s.company.name,onChange:m=>a({...s,company:{...s.company,name:m.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),i.jsx("input",{type:"url",value:s.company.website,onChange:m=>a({...s,company:{...s.company,website:m.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),i.jsx("textarea",{value:s.company.address,onChange:m=>a({...s,company:{...s.company,address:m.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Empresa"}),i.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(rf,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsxs("div",{className:"flex text-sm text-gray-600",children:[i.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[i.jsx("span",{children:"Upload um arquivo"}),i.jsx("input",{type:"file",className:"sr-only",accept:"image/*"})]}),i.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF até 10MB"})]})})]})]})]}),r==="program"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações do Programa"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Programa"}),i.jsx("input",{type:"text",value:s.program.name,onChange:m=>a({...s,program:{...s.program,name:m.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),i.jsx("input",{type:"number",value:s.program.pointsPerReal,onChange:m=>a({...s,program:{...s.program,pointsPerReal:Number(m.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mínimo de Compra (R$)"}),i.jsx("input",{type:"number",value:s.program.minPurchaseValue,onChange:m=>a({...s,program:{...s.program,minPurchaseValue:Number(m.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte"}),i.jsx("select",{value:s.program.font,onChange:m=>a({...s,program:{...s.program,font:m.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:h.map(m=>i.jsx("option",{value:m,children:m},m))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Primária"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(m=>i.jsx("button",{onClick:()=>a({...s,program:{...s.program,primaryColor:m}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${s.program.primaryColor===m?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:m},title:m},m))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um código HEX personalizado:"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),i.jsx("input",{type:"text",value:l.replace("#",""),onChange:m=>p("primary","#"+m.target.value),placeholder:"3B82F6",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),i.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:s.program.primaryColor}}),i.jsx("span",{className:"text-sm text-gray-600 font-mono",children:s.program.primaryColor})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Secundária"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(m=>i.jsx("button",{onClick:()=>a({...s,program:{...s.program,secondaryColor:m}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${s.program.secondaryColor===m?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:m},title:m},m))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um código HEX personalizado:"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),i.jsx("input",{type:"text",value:o.replace("#",""),onChange:m=>p("secondary","#"+m.target.value),placeholder:"10B981",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),i.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:s.program.secondaryColor}}),i.jsx("span",{className:"text-sm text-gray-600 font-mono",children:s.program.secondaryColor})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Preview das Cores"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:s.program.primaryColor},children:"Cor Primária"}),i.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:s.program.primaryColor})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:s.program.secondaryColor},children:"Cor Secundária"}),i.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:s.program.secondaryColor})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{background:`linear-gradient(45deg, ${s.program.primaryColor}, ${s.program.secondaryColor})`},children:"Gradiente"}),i.jsx("p",{className:"text-xs text-center mt-1",children:"Combinação"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Expiração de Pontos"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"pointsExpiration",checked:s.program.pointsExpiration.enabled,onChange:m=>a({...s,program:{...s.program,pointsExpiration:{...s.program.pointsExpiration,enabled:m.target.checked}}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"pointsExpiration",className:"ml-2 block text-sm text-gray-900",children:"Ativar expiração de pontos"})]}),s.program.pointsExpiration.enabled&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período de Expiração (dias)"}),i.jsx("input",{type:"number",value:s.program.pointsExpiration.days,onChange:m=>a({...s,program:{...s.program,pointsExpiration:{...s.program.pointsExpiration,days:Number(m.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notificar antes (dias)"}),i.jsx("input",{type:"number",value:s.program.pointsExpiration.notifyDaysBefore,onChange:m=>a({...s,program:{...s.program,pointsExpiration:{...s.program.pointsExpiration,notifyDaysBefore:Number(m.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r==="validation"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Validação"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sistema de Chaves"}),i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx("strong",{children:"Chave Primária:"})," CPF - Identificador único obrigatório",i.jsx("br",{}),i.jsx("strong",{children:"Chaves Secundárias:"})," Email e Telefone - Para comunicação e indicações"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Validação de CPF"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Verificar se o CPF é válido matematicamente"})]}),i.jsx("input",{type:"checkbox",checked:s.validation.requireCpfValidation,onChange:m=>a({...s,validation:{...s.validation,requireCpfValidation:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificação de Email"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificação por email antes de ativar conta"})]}),i.jsx("input",{type:"checkbox",checked:s.validation.requireEmailVerification,onChange:m=>a({...s,validation:{...s.validation,requireEmailVerification:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificação de Telefone"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificação por SMS antes de ativar conta"})]}),i.jsx("input",{type:"checkbox",checked:s.validation.requirePhoneVerification,onChange:m=>a({...s,validation:{...s.validation,requirePhoneVerification:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Email Duplicado"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo email seja usado por CPFs diferentes"})]}),i.jsx("input",{type:"checkbox",checked:s.validation.allowDuplicateEmail,onChange:m=>a({...s,validation:{...s.validation,allowDuplicateEmail:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Telefone Duplicado"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo telefone seja usado por CPFs diferentes"})]}),i.jsx("input",{type:"checkbox",checked:s.validation.allowDuplicatePhone,onChange:m=>a({...s,validation:{...s.validation,allowDuplicatePhone:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Importante"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsx("li",{children:"• O CPF sempre será único no sistema (chave primária)"}),i.jsx("li",{children:"• Email e telefone podem ser usados para indicações mesmo se duplicados"}),i.jsx("li",{children:"• Recomendamos manter email único para melhor experiência do usuário"}),i.jsx("li",{children:"• Telefone duplicado é comum em famílias que compartilham números"})]})]})]})]}),r==="notifications"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Notificação"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificações por email"})]}),i.jsx("input",{type:"checkbox",checked:s.notifications.email,onChange:m=>a({...s,notifications:{...s.notifications,email:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificações por WhatsApp"})]}),i.jsx("input",{type:"checkbox",checked:s.notifications.whatsapp,onChange:m=>a({...s,notifications:{...s.notifications,whatsapp:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SMS"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificações por SMS"})]}),i.jsx("input",{type:"checkbox",checked:s.notifications.sms,onChange:m=>a({...s,notifications:{...s.notifications,sms:m.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),r==="terms"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Regulamento do Programa"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Termos e Condições"}),i.jsx("textarea",{value:s.terms,onChange:m=>a({...s,terms:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:15,placeholder:"Digite aqui os termos e condições do seu programa de fidelidade..."})]})]})]})},Zx=()=>{const{loading:e,error:t}=ut();return t?i.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-red-600 text-xl font-semibold mb-2",children:"Erro ao carregar dados"}),i.jsx("div",{className:"text-gray-600 text-sm",children:t}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tentar Novamente"})]})}):e?i.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(kx,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),i.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Carregando dados..."}),i.jsx("div",{className:"text-gray-500 text-sm mt-2",children:"Conectando ao banco de dados"})]})}):null};function ey(){const[e,t]=A.useState("dashboard"),r=()=>{switch(e){case"dashboard":return i.jsx(uu,{});case"customers":return i.jsx(qx,{});case"levels":return i.jsx(Hx,{});case"movements":return i.jsx(Gx,{});case"rewards":return i.jsx(Kx,{});case"referrals":return i.jsx(Qx,{});case"communication":return i.jsx(Jx,{});case"objectives":return i.jsx(Xx,{});case"settings":return i.jsx(Yx,{});default:return i.jsx(uu,{})}};return i.jsx(gx,{children:i.jsxs(Lx,{currentPage:e,onPageChange:t,children:[i.jsx(Zx,{}),r()]})})}Nh(document.getElementById("root")).render(i.jsx(A.StrictMode,{children:i.jsx(ey,{})}));
