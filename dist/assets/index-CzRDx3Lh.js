(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var gu={exports:{}},Ei={},xu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),_f=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),Tf=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),$f=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),Bo=Symbol.iterator;function If(e){return e===null||typeof e!="object"?null:(e=Bo&&e[Bo]||e["@@iterator"],typeof e=="function"?e:null)}var yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vu=Object.assign,wu={};function nn(e,t,r){this.props=e,this.context=t,this.refs=wu,this.updater=r||yu}nn.prototype.isReactComponent={};nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ju(){}ju.prototype=nn.prototype;function Ol(e,t,r){this.props=e,this.context=t,this.refs=wu,this.updater=r||yu}var Il=Ol.prototype=new ju;Il.constructor=Ol;vu(Il,nn.prototype);Il.isPureReactComponent=!0;var Uo=Array.isArray,bu=Object.prototype.hasOwnProperty,Ml={current:null},Nu={key:!0,ref:!0,__self:!0,__source:!0};function ku(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)bu.call(t,n)&&!Nu.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:as,type:e,key:a,ref:l,props:i,_owner:Ml.current}}function Mf(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function Df(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vo=/\/+/g;function Xi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Df(""+e.key):t.toString(36)}function Ms(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case as:case _f:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Xi(l,0):n,Uo(i)?(r="",e!=null&&(r=e.replace(Vo,"$&/")+"/"),Ms(i,t,r,"",function(u){return u})):i!=null&&(Dl(i)&&(i=Mf(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Vo,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Uo(e))for(var c=0;c<e.length;c++){a=e[c];var o=n+Xi(a,c);l+=Ms(a,t,r,o,i)}else if(o=If(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=n+Xi(a,c++),l+=Ms(a,t,r,o,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ms(e,t,r){if(e==null)return e;var n=[],i=0;return Ms(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Ds={transition:null},Ff={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Ml};function _u(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ms,forEach:function(e,t,r){ms(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=nn;U.Fragment=Cf;U.Profiler=Ef;U.PureComponent=Ol;U.StrictMode=Sf;U.Suspense=Af;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ff;U.act=_u;U.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vu({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Ml.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)bu.call(t,o)&&!Nu.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:as,type:e.type,key:i,ref:a,props:n,_owner:l}};U.createContext=function(e){return e={$$typeof:Tf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pf,_context:e},e.Consumer=e};U.createElement=ku;U.createFactory=function(e){var t=ku.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Rf,render:e}};U.isValidElement=Dl;U.lazy=function(e){return{$$typeof:Of,_payload:{_status:-1,_result:e},_init:Lf}};U.memo=function(e,t){return{$$typeof:$f,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};U.unstable_act=_u;U.useCallback=function(e,t){return be.current.useCallback(e,t)};U.useContext=function(e){return be.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return be.current.useDeferredValue(e)};U.useEffect=function(e,t){return be.current.useEffect(e,t)};U.useId=function(){return be.current.useId()};U.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};U.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return be.current.useMemo(e,t)};U.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};U.useRef=function(e){return be.current.useRef(e)};U.useState=function(e){return be.current.useState(e)};U.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};U.useTransition=function(){return be.current.useTransition()};U.version="18.3.1";xu.exports=U;var A=xu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=A,Bf=Symbol.for("react.element"),Uf=Symbol.for("react.fragment"),Vf=Object.prototype.hasOwnProperty,qf=zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hf={key:!0,ref:!0,__self:!0,__source:!0};function Cu(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Vf.call(t,n)&&!Hf.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Bf,type:e,key:a,ref:l,props:i,_owner:qf.current}}Ei.Fragment=Uf;Ei.jsx=Cu;Ei.jsxs=Cu;gu.exports=Ei;var s=gu.exports,Su={exports:{}},Me={},Eu={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var E=T.length;T.push(D);e:for(;0<E;){var L=E-1>>>1,q=T[L];if(0<i(q,D))T[L]=D,T[E]=q,E=L;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],E=T.pop();if(E!==D){T[0]=E;e:for(var L=0,q=T.length,Le=q>>>1;L<Le;){var Qe=2*(L+1)-1,cn=T[Qe],dt=Qe+1,jr=T[dt];if(0>i(cn,E))dt<q&&0>i(jr,cn)?(T[L]=jr,T[dt]=E,L=dt):(T[L]=cn,T[Qe]=E,L=Qe);else if(dt<q&&0>i(jr,E))T[L]=jr,T[dt]=E,L=dt;else break e}}return D}function i(T,D){var E=T.sortIndex-D.sortIndex;return E!==0?E:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,m=null,h=3,p=!1,g=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=T)n(u),D.sortIndex=D.expirationTime,t(o,D);else break;D=r(u)}}function w(T){if(b=!1,y(T),!g)if(r(o)!==null)g=!0,Ke(N);else{var D=r(u);D!==null&&Zt(w,D.startTime-T)}}function N(T,D){g=!1,b&&(b=!1,x(j),j=-1),p=!0;var E=h;try{for(y(D),m=r(o);m!==null&&(!(m.expirationTime>D)||T&&!H());){var L=m.callback;if(typeof L=="function"){m.callback=null,h=m.priorityLevel;var q=L(m.expirationTime<=D);D=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(o)&&n(o),y(D)}else n(o);m=r(o)}if(m!==null)var Le=!0;else{var Qe=r(u);Qe!==null&&Zt(w,Qe.startTime-D),Le=!1}return Le}finally{m=null,h=E,p=!1}}var v=!1,C=null,j=-1,M=5,O=-1;function H(){return!(e.unstable_now()-O<M)}function le(){if(C!==null){var T=e.unstable_now();O=T;var D=!0;try{D=C(!0,T)}finally{D?P():(v=!1,C=null)}}else v=!1}var P;if(typeof f=="function")P=function(){f(le)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ve=G.port2;G.port1.onmessage=le,P=function(){ve.postMessage(null)}}else P=function(){k(le,0)};function Ke(T){C=T,v||(v=!0,P())}function Zt(T,D){j=k(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Ke(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var E=h;h=D;try{return T()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var E=h;h=T;try{return D()}finally{h=E}},e.unstable_scheduleCallback=function(T,D,E){var L=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?L+E:L):E=L,T){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=E+q,T={id:d++,callback:D,priorityLevel:T,startTime:E,expirationTime:q,sortIndex:-1},E>L?(T.sortIndex=E,t(u,T),r(o)===null&&T===r(u)&&(b?(x(j),j=-1):b=!0,Zt(w,E-L))):(T.sortIndex=q,t(o,T),g||p||(g=!0,Ke(N))),T},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(T){var D=h;return function(){var E=h;h=D;try{return T.apply(this,arguments)}finally{h=E}}}})(Pu);Eu.exports=Pu;var Wf=Eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=A,Oe=Wf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tu=new Set,Un={};function xr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Un[e]=t,e=0;e<t.length;e++)Tu.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=Object.prototype.hasOwnProperty,Kf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qo={},Ho={};function Qf(e){return Ra.call(Ho,e)?!0:Ra.call(qo,e)?!1:Kf.test(e)?Ho[e]=!0:(qo[e]=!0,!1)}function Jf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xf(e,t,r,n){if(t===null||typeof t>"u"||Jf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fe[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fe[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fe[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fe[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fe[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fe[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fe[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fe[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fe[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Fl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ll,Fl);fe[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ll,Fl);fe[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ll,Fl);fe[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fe[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fe[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function zl(e,t,r,n){var i=fe.hasOwnProperty(t)?fe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xf(t,r,i,n)&&(r=null),n||i===null?Qf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ct=Gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ru=Symbol.for("react.provider"),Au=Symbol.for("react.context"),Ul=Symbol.for("react.forward_ref"),$a=Symbol.for("react.suspense"),Oa=Symbol.for("react.suspense_list"),Vl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),$u=Symbol.for("react.offscreen"),Wo=Symbol.iterator;function dn(e){return e===null||typeof e!="object"?null:(e=Wo&&e[Wo]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Yi;function bn(e){if(Yi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yi=t&&t[1]||""}return`
`+Yi+e}var Zi=!1;function ea(e,t){if(!e||Zi)return"";Zi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,c=a.length-1;1<=l&&0<=c&&i[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==a[c]){var o=`
`+i[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{Zi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bn(e):""}function Yf(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1),e;case 11:return e=ea(e.type.render,!1),e;case 1:return e=ea(e.type,!0),e;default:return""}}function Ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Pr:return"Portal";case Aa:return"Profiler";case Bl:return"StrictMode";case $a:return"Suspense";case Oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Au:return(e.displayName||"Context")+".Consumer";case Ru:return(e._context.displayName||"Context")+".Provider";case Ul:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vl:return t=e.displayName||null,t!==null?t:Ia(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Ia(e(t))}catch{}}return null}function Zf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(t);case 8:return t===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function em(e){var t=Ou(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=em(e))}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ou(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ma(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Go(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mu(e,t){t=t.checked,t!=null&&zl(e,"checked",t,!1)}function Da(e,t){Mu(e,t);var r=Gt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?La(e,t.type,r):t.hasOwnProperty("defaultValue")&&La(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ko(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function La(e,t,r){(t!=="number"||Qs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nn=Array.isArray;function Br(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(Nn(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gt(r)}}function Du(e,t){var r=Gt(t.value),n=Gt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,Fu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tm=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){tm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function zu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function Bu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=zu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var rm=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(e,t){if(t){if(rm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Ua(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=null;function ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,Ur=null,Vr=null;function Xo(e){if(e=cs(e)){if(typeof qa!="function")throw Error(S(280));var t=e.stateNode;t&&(t=$i(t),qa(e.stateNode,e.type,t))}}function Uu(e){Ur?Vr?Vr.push(e):Vr=[e]:Ur=e}function Vu(){if(Ur){var e=Ur,t=Vr;if(Vr=Ur=null,Xo(e),t)for(e=0;e<t.length;e++)Xo(t[e])}}function qu(e,t){return e(t)}function Hu(){}var ta=!1;function Wu(e,t,r){if(ta)return e(t,r);ta=!0;try{return qu(e,t,r)}finally{ta=!1,(Ur!==null||Vr!==null)&&(Hu(),Vu())}}function qn(e,t){var r=e.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var Ha=!1;if(bt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Ha=!1}function nm(e,t,r,n,i,a,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Pn=!1,Js=null,Xs=!1,Wa=null,sm={onError:function(e){Pn=!0,Js=e}};function im(e,t,r,n,i,a,l,c,o){Pn=!1,Js=null,nm.apply(sm,arguments)}function am(e,t,r,n,i,a,l,c,o){if(im.apply(this,arguments),Pn){if(Pn){var u=Js;Pn=!1,Js=null}else throw Error(S(198));Xs||(Xs=!0,Wa=u)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yo(e){if(yr(e)!==e)throw Error(S(188))}function lm(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Yo(i),e;if(a===n)return Yo(i),t;a=a.sibling}throw Error(S(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,n=a;break}if(c===n){l=!0,n=i,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,n=i;break}if(c===n){l=!0,n=a,r=i;break}c=c.sibling}if(!l)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function Ku(e){return e=lm(e),e!==null?Qu(e):null}function Qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qu(e);if(t!==null)return t;e=e.sibling}return null}var Ju=Oe.unstable_scheduleCallback,Zo=Oe.unstable_cancelCallback,om=Oe.unstable_shouldYield,cm=Oe.unstable_requestPaint,ne=Oe.unstable_now,um=Oe.unstable_getCurrentPriorityLevel,Hl=Oe.unstable_ImmediatePriority,Xu=Oe.unstable_UserBlockingPriority,Ys=Oe.unstable_NormalPriority,dm=Oe.unstable_LowPriority,Yu=Oe.unstable_IdlePriority,Pi=null,ct=null;function hm(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:pm,fm=Math.log,mm=Math.LN2;function pm(e){return e>>>=0,e===0?32:31-(fm(e)/mm|0)|0}var ys=64,vs=4194304;function kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?n=kn(c):(a&=l,a!==0&&(n=kn(a)))}else l=r&~i,l!==0?n=kn(l):a!==0&&(n=kn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rt(t),i=1<<r,n|=e[r],t&=~i;return n}function gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-rt(a),c=1<<l,o=i[l];o===-1?(!(c&r)||c&n)&&(i[l]=gm(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Ga(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zu(){var e=ys;return ys<<=1,!(ys&4194240)&&(ys=64),e}function ra(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function ym(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var W=0;function ed(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var td,Gl,rd,nd,sd,Ka=!1,ws=[],Ft=null,zt=null,Bt=null,Hn=new Map,Wn=new Map,Ot=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function fn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=cs(t),t!==null&&Gl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wm(e,t,r,n,i){switch(t){case"focusin":return Ft=fn(Ft,e,t,r,n,i),!0;case"dragenter":return zt=fn(zt,e,t,r,n,i),!0;case"mouseover":return Bt=fn(Bt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Hn.set(a,fn(Hn.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Wn.set(a,fn(Wn.get(a)||null,e,t,r,n,i)),!0}return!1}function id(e){var t=ar(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=Gu(r),t!==null){e.blockedOn=t,sd(e.priority,function(){rd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Va=n,r.target.dispatchEvent(n),Va=null}else return t=cs(r),t!==null&&Gl(t),e.blockedOn=r,!1;t.shift()}return!0}function tc(e,t,r){Ls(e)&&r.delete(t)}function jm(){Ka=!1,Ft!==null&&Ls(Ft)&&(Ft=null),zt!==null&&Ls(zt)&&(zt=null),Bt!==null&&Ls(Bt)&&(Bt=null),Hn.forEach(tc),Wn.forEach(tc)}function mn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ka||(Ka=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,jm)))}function Gn(e){function t(i){return mn(i,e)}if(0<ws.length){mn(ws[0],e);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ft!==null&&mn(Ft,e),zt!==null&&mn(zt,e),Bt!==null&&mn(Bt,e),Hn.forEach(t),Wn.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)id(r),r.blockedOn===null&&Ot.shift()}var qr=Ct.ReactCurrentBatchConfig,ei=!0;function bm(e,t,r,n){var i=W,a=qr.transition;qr.transition=null;try{W=1,Kl(e,t,r,n)}finally{W=i,qr.transition=a}}function Nm(e,t,r,n){var i=W,a=qr.transition;qr.transition=null;try{W=4,Kl(e,t,r,n)}finally{W=i,qr.transition=a}}function Kl(e,t,r,n){if(ei){var i=Qa(e,t,r,n);if(i===null)ha(e,t,n,ti,r),ec(e,n);else if(wm(i,e,t,r,n))n.stopPropagation();else if(ec(e,n),t&4&&-1<vm.indexOf(e)){for(;i!==null;){var a=cs(i);if(a!==null&&td(a),a=Qa(e,t,r,n),a===null&&ha(e,t,n,ti,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ha(e,t,n,null,r)}}var ti=null;function Qa(e,t,r,n){if(ti=null,e=ql(n),e=ar(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(um()){case Hl:return 1;case Xu:return 4;case Ys:case dm:return 16;case Yu:return 536870912;default:return 16}default:return 16}}var Dt=null,Ql=null,Fs=null;function ld(){if(Fs)return Fs;var e,t=Ql,r=t.length,n,i="value"in Dt?Dt.value:Dt.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return Fs=i.slice(e,1<n?1-n:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function rc(){return!1}function De(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?js:rc,this.isPropagationStopped=rc,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=De(sn),os=te({},sn,{view:0,detail:0}),km=De(os),na,sa,pn,Ti=te({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(na=e.screenX-pn.screenX,sa=e.screenY-pn.screenY):sa=na=0,pn=e),na)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),nc=De(Ti),_m=te({},Ti,{dataTransfer:0}),Cm=De(_m),Sm=te({},os,{relatedTarget:0}),ia=De(Sm),Em=te({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pm=De(Em),Tm=te({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rm=De(Tm),Am=te({},sn,{data:0}),sc=De(Am),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Im[e])?!!t[e]:!1}function Xl(){return Mm}var Dm=te({},os,{key:function(e){if(e.key){var t=$m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lm=De(Dm),Fm=te({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=De(Fm),zm=te({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Bm=De(zm),Um=te({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vm=De(Um),qm=te({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=De(qm),Wm=[9,13,27,32],Yl=bt&&"CompositionEvent"in window,Tn=null;bt&&"documentMode"in document&&(Tn=document.documentMode);var Gm=bt&&"TextEvent"in window&&!Tn,od=bt&&(!Yl||Tn&&8<Tn&&11>=Tn),ac=" ",lc=!1;function cd(e,t){switch(e){case"keyup":return Wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function Km(e,t){switch(e){case"compositionend":return ud(t);case"keypress":return t.which!==32?null:(lc=!0,ac);case"textInput":return e=t.data,e===ac&&lc?null:e;default:return null}}function Qm(e,t){if(Rr)return e==="compositionend"||!Yl&&cd(e,t)?(e=ld(),Fs=Ql=Dt=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return od&&t.locale!=="ko"?null:t.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jm[e.type]:t==="textarea"}function dd(e,t,r,n){Uu(n),t=ri(t,"onChange"),0<t.length&&(r=new Jl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rn=null,Kn=null;function Xm(e){bd(e,0)}function Ri(e){var t=Or(e);if(Iu(t))return e}function Ym(e,t){if(e==="change")return t}var hd=!1;if(bt){var aa;if(bt){var la="oninput"in document;if(!la){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),la=typeof cc.oninput=="function"}aa=la}else aa=!1;hd=aa&&(!document.documentMode||9<document.documentMode)}function uc(){Rn&&(Rn.detachEvent("onpropertychange",fd),Kn=Rn=null)}function fd(e){if(e.propertyName==="value"&&Ri(Kn)){var t=[];dd(t,Kn,e,ql(e)),Wu(Xm,t)}}function Zm(e,t,r){e==="focusin"?(uc(),Rn=t,Kn=r,Rn.attachEvent("onpropertychange",fd)):e==="focusout"&&uc()}function ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Kn)}function tp(e,t){if(e==="click")return Ri(t)}function rp(e,t){if(e==="input"||e==="change")return Ri(t)}function np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:np;function Qn(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ra.call(t,i)||!st(e[i],t[i]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var r=dc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dc(r)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sp(e){var t=pd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&md(r.ownerDocument.documentElement,r)){if(n!==null&&Zl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=hc(r,a);var l=hc(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ip=bt&&"documentMode"in document&&11>=document.documentMode,Ar=null,Ja=null,An=null,Xa=!1;function fc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xa||Ar==null||Ar!==Qs(n)||(n=Ar,"selectionStart"in n&&Zl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),An&&Qn(An,n)||(An=n,n=ri(Ja,"onSelect"),0<n.length&&(t=new Jl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ar)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $r={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},oa={},gd={};bt&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ai(e){if(oa[e])return oa[e];if(!$r[e])return e;var t=$r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gd)return oa[e]=t[r];return e}var xd=Ai("animationend"),yd=Ai("animationiteration"),vd=Ai("animationstart"),wd=Ai("transitionend"),jd=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){jd.set(e,t),xr(t,[e])}for(var ca=0;ca<mc.length;ca++){var ua=mc[ca],ap=ua.toLowerCase(),lp=ua[0].toUpperCase()+ua.slice(1);Qt(ap,"on"+lp)}Qt(xd,"onAnimationEnd");Qt(yd,"onAnimationIteration");Qt(vd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(wd,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function pc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,am(n,t,void 0,e),e.currentTarget=null}function bd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&i.isPropagationStopped())break e;pc(i,c,u),a=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&i.isPropagationStopped())break e;pc(i,c,u),a=o}}}if(Xs)throw e=Wa,Xs=!1,Wa=null,e}function J(e,t){var r=t[rl];r===void 0&&(r=t[rl]=new Set);var n=e+"__bubble";r.has(n)||(Nd(t,e,2,!1),r.add(n))}function da(e,t,r){var n=0;t&&(n|=4),Nd(r,e,n,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Ns]){e[Ns]=!0,Tu.forEach(function(r){r!=="selectionchange"&&(op.has(r)||da(r,!1,e),da(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,da("selectionchange",!1,t))}}function Nd(e,t,r,n){switch(ad(t)){case 1:var i=bm;break;case 4:i=Nm;break;default:i=Kl}r=i.bind(null,t,r,e),i=void 0,!Ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ha(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;l=l.return}for(;c!==null;){if(l=ar(c),l===null)return;if(o=l.tag,o===5||o===6){n=a=l;continue e}c=c.parentNode}}n=n.return}Wu(function(){var u=a,d=ql(r),m=[];e:{var h=jd.get(e);if(h!==void 0){var p=Jl,g=e;switch(e){case"keypress":if(zs(r)===0)break e;case"keydown":case"keyup":p=Lm;break;case"focusin":g="focus",p=ia;break;case"focusout":g="blur",p=ia;break;case"beforeblur":case"afterblur":p=ia;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bm;break;case xd:case yd:case vd:p=Pm;break;case wd:p=Vm;break;case"scroll":p=km;break;case"wheel":p=Hm;break;case"copy":case"cut":case"paste":p=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ic}var b=(t&4)!==0,k=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var f=u,y;f!==null;){y=f;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=qn(f,x),w!=null&&b.push(Xn(f,w,y)))),k)break;f=f.return}0<b.length&&(h=new p(h,g,null,r,d),m.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Va&&(g=r.relatedTarget||r.fromElement)&&(ar(g)||g[Nt]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?ar(g):null,g!==null&&(k=yr(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=nc,w="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=ic,w="onPointerLeave",x="onPointerEnter",f="pointer"),k=p==null?h:Or(p),y=g==null?h:Or(g),h=new b(w,f+"leave",p,r,d),h.target=k,h.relatedTarget=y,w=null,ar(d)===u&&(b=new b(x,f+"enter",g,r,d),b.target=y,b.relatedTarget=k,w=b),k=w,p&&g)t:{for(b=p,x=g,f=0,y=b;y;y=br(y))f++;for(y=0,w=x;w;w=br(w))y++;for(;0<f-y;)b=br(b),f--;for(;0<y-f;)x=br(x),y--;for(;f--;){if(b===x||x!==null&&b===x.alternate)break t;b=br(b),x=br(x)}b=null}else b=null;p!==null&&gc(m,h,p,b,!1),g!==null&&k!==null&&gc(m,k,g,b,!0)}}e:{if(h=u?Or(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=Ym;else if(oc(h))if(hd)N=rp;else{N=ep;var v=Zm}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=tp);if(N&&(N=N(e,u))){dd(m,N,r,d);break e}v&&v(e,h,u),e==="focusout"&&(v=h._wrapperState)&&v.controlled&&h.type==="number"&&La(h,"number",h.value)}switch(v=u?Or(u):window,e){case"focusin":(oc(v)||v.contentEditable==="true")&&(Ar=v,Ja=u,An=null);break;case"focusout":An=Ja=Ar=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,fc(m,r,d);break;case"selectionchange":if(ip)break;case"keydown":case"keyup":fc(m,r,d)}var C;if(Yl)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Rr?cd(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(od&&r.locale!=="ko"&&(Rr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Rr&&(C=ld()):(Dt=d,Ql="value"in Dt?Dt.value:Dt.textContent,Rr=!0)),v=ri(u,j),0<v.length&&(j=new sc(j,e,null,r,d),m.push({event:j,listeners:v}),C?j.data=C:(C=ud(r),C!==null&&(j.data=C)))),(C=Gm?Km(e,r):Qm(e,r))&&(u=ri(u,"onBeforeInput"),0<u.length&&(d=new sc("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=C))}bd(m,t)})}function Xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ri(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qn(e,r),a!=null&&n.unshift(Xn(e,a,i)),a=qn(e,t),a!=null&&n.push(Xn(e,a,i))),e=e.return}return n}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gc(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,i?(o=qn(r,a),o!=null&&l.unshift(Xn(r,o,c))):i||(o=qn(r,a),o!=null&&l.push(Xn(r,o,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var cp=/\r\n?/g,up=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(cp,`
`).replace(up,"")}function ks(e,t,r){if(t=xc(t),xc(e)!==t&&r)throw Error(S(425))}function ni(){}var Ya=null,Za=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,hp=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(fp)}:tl;function fp(e){setTimeout(function(){throw e})}function fa(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Gn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Gn(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),ot="__reactFiber$"+an,Yn="__reactProps$"+an,Nt="__reactContainer$"+an,rl="__reactEvents$"+an,mp="__reactListeners$"+an,pp="__reactHandles$"+an;function ar(e){var t=e[ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nt]||r[ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vc(e);e!==null;){if(r=e[ot])return r;e=vc(e)}return t}e=r,r=e.parentNode}return null}function cs(e){return e=e[ot]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function $i(e){return e[Yn]||null}var nl=[],Ir=-1;function Jt(e){return{current:e}}function X(e){0>Ir||(e.current=nl[Ir],nl[Ir]=null,Ir--)}function Q(e,t){Ir++,nl[Ir]=e.current,e.current=t}var Kt={},ye=Jt(Kt),Ee=Jt(!1),dr=Kt;function Qr(e,t){var r=e.type.contextTypes;if(!r)return Kt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pe(e){return e=e.childContextTypes,e!=null}function si(){X(Ee),X(ye)}function wc(e,t,r){if(ye.current!==Kt)throw Error(S(168));Q(ye,t),Q(Ee,r)}function kd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(S(108,Zf(e)||"Unknown",i));return te({},r,n)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,dr=ye.current,Q(ye,e),Q(Ee,Ee.current),!0}function jc(e,t,r){var n=e.stateNode;if(!n)throw Error(S(169));r?(e=kd(e,t,dr),n.__reactInternalMemoizedMergedChildContext=e,X(Ee),X(ye),Q(ye,e)):X(Ee),Q(Ee,r)}var gt=null,Oi=!1,ma=!1;function _d(e){gt===null?gt=[e]:gt.push(e)}function gp(e){Oi=!0,_d(e)}function Xt(){if(!ma&&gt!==null){ma=!0;var e=0,t=W;try{var r=gt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gt=null,Oi=!1}catch(i){throw gt!==null&&(gt=gt.slice(e+1)),Ju(Hl,Xt),i}finally{W=t,ma=!1}}return null}var Mr=[],Dr=0,ai=null,li=0,Fe=[],ze=0,hr=null,xt=1,yt="";function rr(e,t){Mr[Dr++]=li,Mr[Dr++]=ai,ai=e,li=t}function Cd(e,t,r){Fe[ze++]=xt,Fe[ze++]=yt,Fe[ze++]=hr,hr=e;var n=xt;e=yt;var i=32-rt(n)-1;n&=~(1<<i),r+=1;var a=32-rt(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,xt=1<<32-rt(t)+i|r<<i|n,yt=a+e}else xt=1<<a|r<<i|n,yt=e}function eo(e){e.return!==null&&(rr(e,1),Cd(e,1,0))}function to(e){for(;e===ai;)ai=Mr[--Dr],Mr[Dr]=null,li=Mr[--Dr],Mr[Dr]=null;for(;e===hr;)hr=Fe[--ze],Fe[ze]=null,yt=Fe[--ze],Fe[ze]=null,xt=Fe[--ze],Fe[ze]=null}var $e=null,Ae=null,Y=!1,tt=null;function Sd(e,t){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Ae=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:xt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Ae=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function il(e){if(Y){var t=Ae;if(t){var r=t;if(!bc(e,t)){if(sl(e))throw Error(S(418));t=Ut(r.nextSibling);var n=$e;t&&bc(e,t)?Sd(n,r):(e.flags=e.flags&-4097|2,Y=!1,$e=e)}}else{if(sl(e))throw Error(S(418));e.flags=e.flags&-4097|2,Y=!1,$e=e}}}function Nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function _s(e){if(e!==$e)return!1;if(!Y)return Nc(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=Ae)){if(sl(e))throw Ed(),Error(S(418));for(;t;)Sd(e,t),t=Ut(t.nextSibling)}if(Nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=Ut(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=$e?Ut(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=Ae;e;)e=Ut(e.nextSibling)}function Jr(){Ae=$e=null,Y=!1}function ro(e){tt===null?tt=[e]:tt.push(e)}var xp=Ct.ReactCurrentBatchConfig;function gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=i.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kc(e){var t=e._init;return t(e._payload)}function Pd(e){function t(x,f){if(e){var y=x.deletions;y===null?(x.deletions=[f],x.flags|=16):y.push(f)}}function r(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function n(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function i(x,f){return x=Wt(x,f),x.index=0,x.sibling=null,x}function a(x,f,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<f?(x.flags|=2,f):y):(x.flags|=2,f)):(x.flags|=1048576,f)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,f,y,w){return f===null||f.tag!==6?(f=ja(y,x.mode,w),f.return=x,f):(f=i(f,y),f.return=x,f)}function o(x,f,y,w){var N=y.type;return N===Tr?d(x,f,y.props.children,w,y.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rt&&kc(N)===f.type)?(w=i(f,y.props),w.ref=gn(x,f,y),w.return=x,w):(w=Gs(y.type,y.key,y.props,null,x.mode,w),w.ref=gn(x,f,y),w.return=x,w)}function u(x,f,y,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=ba(y,x.mode,w),f.return=x,f):(f=i(f,y.children||[]),f.return=x,f)}function d(x,f,y,w,N){return f===null||f.tag!==7?(f=ur(y,x.mode,w,N),f.return=x,f):(f=i(f,y),f.return=x,f)}function m(x,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ja(""+f,x.mode,y),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:return y=Gs(f.type,f.key,f.props,null,x.mode,y),y.ref=gn(x,null,f),y.return=x,y;case Pr:return f=ba(f,x.mode,y),f.return=x,f;case Rt:var w=f._init;return m(x,w(f._payload),y)}if(Nn(f)||dn(f))return f=ur(f,x.mode,y,null),f.return=x,f;Cs(x,f)}return null}function h(x,f,y,w){var N=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:c(x,f,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:return y.key===N?o(x,f,y,w):null;case Pr:return y.key===N?u(x,f,y,w):null;case Rt:return N=y._init,h(x,f,N(y._payload),w)}if(Nn(y)||dn(y))return N!==null?null:d(x,f,y,w,null);Cs(x,y)}return null}function p(x,f,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,c(f,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ps:return x=x.get(w.key===null?y:w.key)||null,o(f,x,w,N);case Pr:return x=x.get(w.key===null?y:w.key)||null,u(f,x,w,N);case Rt:var v=w._init;return p(x,f,y,v(w._payload),N)}if(Nn(w)||dn(w))return x=x.get(y)||null,d(f,x,w,N,null);Cs(f,w)}return null}function g(x,f,y,w){for(var N=null,v=null,C=f,j=f=0,M=null;C!==null&&j<y.length;j++){C.index>j?(M=C,C=null):M=C.sibling;var O=h(x,C,y[j],w);if(O===null){C===null&&(C=M);break}e&&C&&O.alternate===null&&t(x,C),f=a(O,f,j),v===null?N=O:v.sibling=O,v=O,C=M}if(j===y.length)return r(x,C),Y&&rr(x,j),N;if(C===null){for(;j<y.length;j++)C=m(x,y[j],w),C!==null&&(f=a(C,f,j),v===null?N=C:v.sibling=C,v=C);return Y&&rr(x,j),N}for(C=n(x,C);j<y.length;j++)M=p(C,x,j,y[j],w),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?j:M.key),f=a(M,f,j),v===null?N=M:v.sibling=M,v=M);return e&&C.forEach(function(H){return t(x,H)}),Y&&rr(x,j),N}function b(x,f,y,w){var N=dn(y);if(typeof N!="function")throw Error(S(150));if(y=N.call(y),y==null)throw Error(S(151));for(var v=N=null,C=f,j=f=0,M=null,O=y.next();C!==null&&!O.done;j++,O=y.next()){C.index>j?(M=C,C=null):M=C.sibling;var H=h(x,C,O.value,w);if(H===null){C===null&&(C=M);break}e&&C&&H.alternate===null&&t(x,C),f=a(H,f,j),v===null?N=H:v.sibling=H,v=H,C=M}if(O.done)return r(x,C),Y&&rr(x,j),N;if(C===null){for(;!O.done;j++,O=y.next())O=m(x,O.value,w),O!==null&&(f=a(O,f,j),v===null?N=O:v.sibling=O,v=O);return Y&&rr(x,j),N}for(C=n(x,C);!O.done;j++,O=y.next())O=p(C,x,j,O.value,w),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?j:O.key),f=a(O,f,j),v===null?N=O:v.sibling=O,v=O);return e&&C.forEach(function(le){return t(x,le)}),Y&&rr(x,j),N}function k(x,f,y,w){if(typeof y=="object"&&y!==null&&y.type===Tr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:e:{for(var N=y.key,v=f;v!==null;){if(v.key===N){if(N=y.type,N===Tr){if(v.tag===7){r(x,v.sibling),f=i(v,y.props.children),f.return=x,x=f;break e}}else if(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rt&&kc(N)===v.type){r(x,v.sibling),f=i(v,y.props),f.ref=gn(x,v,y),f.return=x,x=f;break e}r(x,v);break}else t(x,v);v=v.sibling}y.type===Tr?(f=ur(y.props.children,x.mode,w,y.key),f.return=x,x=f):(w=Gs(y.type,y.key,y.props,null,x.mode,w),w.ref=gn(x,f,y),w.return=x,x=w)}return l(x);case Pr:e:{for(v=y.key;f!==null;){if(f.key===v)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){r(x,f.sibling),f=i(f,y.children||[]),f.return=x,x=f;break e}else{r(x,f);break}else t(x,f);f=f.sibling}f=ba(y,x.mode,w),f.return=x,x=f}return l(x);case Rt:return v=y._init,k(x,f,v(y._payload),w)}if(Nn(y))return g(x,f,y,w);if(dn(y))return b(x,f,y,w);Cs(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(r(x,f.sibling),f=i(f,y),f.return=x,x=f):(r(x,f),f=ja(y,x.mode,w),f.return=x,x=f),l(x)):r(x,f)}return k}var Xr=Pd(!0),Td=Pd(!1),oi=Jt(null),ci=null,Lr=null,no=null;function so(){no=Lr=ci=null}function io(e){var t=oi.current;X(oi),e._currentValue=t}function al(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hr(e,t){ci=e,no=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(no!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(ci===null)throw Error(S(308));Lr=e,ci.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var lr=null;function ao(e){lr===null?lr=[e]:lr.push(e)}function Rd(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ao(t)):(r.next=i.next,i.next=r),t.interleaved=r,kt(e,n)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var At=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,kt(e,r)}return i=n.interleaved,i===null?(t.next=t,ao(n)):(t.next=i.next,i.next=t),n.interleaved=t,kt(e,r)}function Bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wl(e,r)}}function _c(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ui(e,t,r,n){var i=e.updateQueue;At=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?a=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(a!==null){var m=i.baseState;l=0,d=u=o=null,c=a;do{var h=c.lane,p=c.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,b=c;switch(h=t,p=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){m=g.call(p,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(p,m,h):g,h==null)break e;m=te({},m,h);break e;case 2:At=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,o=m):d=d.next=p,l|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mr|=l,e.lanes=l,e.memoizedState=m}}function Cc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(S(191,i));i.call(n)}}}var us={},ut=Jt(us),Zn=Jt(us),es=Jt(us);function or(e){if(e===us)throw Error(S(174));return e}function oo(e,t){switch(Q(es,t),Q(Zn,e),Q(ut,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}X(ut),Q(ut,t)}function Yr(){X(ut),X(Zn),X(es)}function $d(e){or(es.current);var t=or(ut.current),r=za(t,e.type);t!==r&&(Q(Zn,e),Q(ut,r))}function co(e){Zn.current===e&&(X(ut),X(Zn))}var Z=Jt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=[];function uo(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var Us=Ct.ReactCurrentDispatcher,ga=Ct.ReactCurrentBatchConfig,fr=0,ee=null,ie=null,ce=null,hi=!1,$n=!1,ts=0,yp=0;function me(){throw Error(S(321))}function ho(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!st(e[r],t[r]))return!1;return!0}function fo(e,t,r,n,i,a){if(fr=a,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?bp:Np,e=r(n,i),$n){a=0;do{if($n=!1,ts=0,25<=a)throw Error(S(301));a+=1,ce=ie=null,t.updateQueue=null,Us.current=kp,e=r(n,i)}while($n)}if(Us.current=fi,t=ie!==null&&ie.next!==null,fr=0,ce=ie=ee=null,hi=!1,t)throw Error(S(300));return e}function mo(){var e=ts!==0;return ts=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?ee.memoizedState=ce=e:ce=ce.next=e,ce}function Ge(){if(ie===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ce===null?ee.memoizedState:ce.next;if(t!==null)ce=t,ie=e;else{if(e===null)throw Error(S(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ce===null?ee.memoizedState=ce=e:ce=ce.next=e}return ce}function rs(e,t){return typeof t=="function"?t(e):t}function xa(e){var t=Ge(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=ie,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=l=null,o=null,u=a;do{var d=u.lane;if((fr&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=m,l=n):o=o.next=m,ee.lanes|=d,mr|=d}u=u.next}while(u!==null&&u!==a);o===null?l=n:o.next=c,st(n,t.memoizedState)||(Se=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ee.lanes|=a,mr|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ya(e){var t=Ge(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);st(a,t.memoizedState)||(Se=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Od(){}function Id(e,t){var r=ee,n=Ge(),i=t(),a=!st(n.memoizedState,i);if(a&&(n.memoizedState=i,Se=!0),n=n.queue,po(Ld.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ce!==null&&ce.memoizedState.tag&1){if(r.flags|=2048,ns(9,Dd.bind(null,r,n,i,t),void 0,null),ue===null)throw Error(S(349));fr&30||Md(r,t,i)}return i}function Md(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dd(e,t,r,n){t.value=r,t.getSnapshot=n,Fd(t)&&zd(e)}function Ld(e,t,r){return r(function(){Fd(t)&&zd(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!st(e,r)}catch{return!0}}function zd(e){var t=kt(e,1);t!==null&&nt(t,e,1,-1)}function Sc(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t.queue=e,e=e.dispatch=jp.bind(null,ee,e),[t.memoizedState,e]}function ns(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Bd(){return Ge().memoizedState}function Vs(e,t,r,n){var i=lt();ee.flags|=e,i.memoizedState=ns(1|t,r,void 0,n===void 0?null:n)}function Ii(e,t,r,n){var i=Ge();n=n===void 0?null:n;var a=void 0;if(ie!==null){var l=ie.memoizedState;if(a=l.destroy,n!==null&&ho(n,l.deps)){i.memoizedState=ns(t,r,a,n);return}}ee.flags|=e,i.memoizedState=ns(1|t,r,a,n)}function Ec(e,t){return Vs(8390656,8,e,t)}function po(e,t){return Ii(2048,8,e,t)}function Ud(e,t){return Ii(4,2,e,t)}function Vd(e,t){return Ii(4,4,e,t)}function qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4,4,qd.bind(null,t,e),r)}function go(){}function Wd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ho(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Gd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ho(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Kd(e,t,r){return fr&21?(st(r,t)||(r=Zu(),ee.lanes|=r,mr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=r)}function vp(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=ga.transition;ga.transition={};try{e(!1),t()}finally{W=r,ga.transition=n}}function Qd(){return Ge().memoizedState}function wp(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jd(e))Xd(t,r);else if(r=Rd(e,t,r,n),r!==null){var i=je();nt(r,e,n,i),Yd(r,t,n)}}function jp(e,t,r){var n=Ht(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))Xd(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,r);if(i.hasEagerState=!0,i.eagerState=c,st(c,l)){var o=t.interleaved;o===null?(i.next=i,ao(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}r=Rd(e,t,i,n),r!==null&&(i=je(),nt(r,e,n,i),Yd(r,t,n))}}function Jd(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Xd(e,t){$n=hi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wl(e,r)}}var fi={readContext:We,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},bp={readContext:We,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:Ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,qd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wp.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Sc,useDebugValue:go,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Sc(!1),t=e[0];return e=vp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,i=lt();if(Y){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),ue===null)throw Error(S(349));fr&30||Md(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ec(Ld.bind(null,n,a,e),[e]),n.flags|=2048,ns(9,Dd.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=lt(),t=ue.identifierPrefix;if(Y){var r=yt,n=xt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Np={readContext:We,useCallback:Wd,useContext:We,useEffect:po,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:Vd,useMemo:Gd,useReducer:xa,useRef:Bd,useState:function(){return xa(rs)},useDebugValue:go,useDeferredValue:function(e){var t=Ge();return Kd(t,ie.memoizedState,e)},useTransition:function(){var e=xa(rs)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Id,useId:Qd,unstable_isNewReconciler:!1},kp={readContext:We,useCallback:Wd,useContext:We,useEffect:po,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:Vd,useMemo:Gd,useReducer:ya,useRef:Bd,useState:function(){return ya(rs)},useDebugValue:go,useDeferredValue:function(e){var t=Ge();return ie===null?t.memoizedState=e:Kd(t,ie.memoizedState,e)},useTransition:function(){var e=ya(rs)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Id,useId:Qd,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ll(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mi={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=je(),i=Ht(e),a=wt(n,i);a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,i),t!==null&&(nt(t,e,i,n),Bs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=je(),i=Ht(e),a=wt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,i),t!==null&&(nt(t,e,i,n),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=je(),n=Ht(e),i=wt(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vt(e,i,n),t!==null&&(nt(t,e,n,r),Bs(t,e,n))}};function Pc(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Qn(r,n)||!Qn(i,a):!0}function Zd(e,t,r){var n=!1,i=Kt,a=t.contextType;return typeof a=="object"&&a!==null?a=We(a):(i=Pe(t)?dr:ye.current,n=t.contextTypes,a=(n=n!=null)?Qr(e,i):Kt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Tc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function ol(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},lo(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=We(a):(a=Pe(t)?dr:ye.current,i.context=Qr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ll(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mi.enqueueReplaceState(i,i.state,null),ui(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var r="",n=t;do r+=Yf(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function va(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _p=typeof WeakMap=="function"?WeakMap:Map;function eh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pi||(pi=!0,vl=n),cl(e,t)},r}function th(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){cl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){cl(e,t),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Rc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _p;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Fp.bind(null,e,t,r),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var Cp=Ct.ReactCurrentOwner,Se=!1;function we(e,t,r,n){t.child=e===null?Td(t,null,r,n):Xr(t,e.child,r,n)}function Oc(e,t,r,n,i){r=r.render;var a=t.ref;return Hr(t,i),n=fo(e,t,r,n,a,i),r=mo(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(Y&&r&&eo(t),t.flags|=1,we(e,t,n,i),t.child)}function Ic(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!ko(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,rh(e,t,a,n,i)):(e=Gs(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qn,r(l,n)&&e.ref===t.ref)return _t(e,t,i)}return t.flags|=1,e=Wt(a,n),e.ref=t.ref,e.return=t,t.child=e}function rh(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Qn(a,n)&&e.ref===t.ref)if(Se=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,_t(e,t,i)}return ul(e,t,r,n,i)}function nh(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(zr,Re),Re|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(zr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Q(zr,Re),Re|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Q(zr,Re),Re|=n;return we(e,t,i,r),t.child}function sh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ul(e,t,r,n,i){var a=Pe(r)?dr:ye.current;return a=Qr(t,a),Hr(t,i),r=fo(e,t,r,n,a,i),n=mo(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(Y&&n&&eo(t),t.flags|=1,we(e,t,r,i),t.child)}function Mc(e,t,r,n,i){if(Pe(r)){var a=!0;ii(t)}else a=!1;if(Hr(t,i),t.stateNode===null)qs(e,t),Zd(t,r,n),ol(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Pe(r)?dr:ye.current,u=Qr(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Tc(t,l,n,u),At=!1;var h=t.memoizedState;l.state=h,ui(t,n,l,i),o=t.memoizedState,c!==n||h!==o||Ee.current||At?(typeof d=="function"&&(ll(t,r,d,n),o=t.memoizedState),(c=At||Pc(t,r,c,n,h,o,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ad(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ye(t.type,c),l.props=u,m=t.pendingProps,h=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=We(o):(o=Pe(r)?dr:ye.current,o=Qr(t,o));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||h!==o)&&Tc(t,l,n,o),At=!1,h=t.memoizedState,l.state=h,ui(t,n,l,i);var g=t.memoizedState;c!==m||h!==g||Ee.current||At?(typeof p=="function"&&(ll(t,r,p,n),g=t.memoizedState),(u=At||Pc(t,r,u,n,h,g,o)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return dl(e,t,r,n,a,i)}function dl(e,t,r,n,i,a){sh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&jc(t,r,!1),_t(e,t,a);n=t.stateNode,Cp.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Xr(t,e.child,null,a),t.child=Xr(t,null,c,a)):we(e,t,c,a),t.memoizedState=n.state,i&&jc(t,r,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wc(e,t.context,!1),oo(e,t.containerInfo)}function Dc(e,t,r,n,i){return Jr(),ro(i),t.flags|=256,we(e,t,r,n),t.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ah(e,t,r){var n=t.pendingProps,i=Z.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Q(Z,i&1),e===null)return il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Fi(l,n,0,null),e=ur(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fl(r),t.memoizedState=hl,e):xo(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Sp(e,t,l,n,c,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,c=i.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=Wt(i,o),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Wt(c,a):(a=ur(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?fl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=hl,n}return a=e.child,e=a.sibling,n=Wt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xo(e,t){return t=Fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,n){return n!==null&&ro(n),Xr(t,e.child,null,r),e=xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sp(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=va(Error(S(422))),Ss(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Fi({mode:"visible",children:n.children},i,0,null),a=ur(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Xr(t,e.child,null,l),t.child.memoizedState=fl(l),t.memoizedState=hl,a);if(!(t.mode&1))return Ss(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(S(419)),n=va(a,n,void 0),Ss(e,t,l,n)}if(c=(l&e.childLanes)!==0,Se||c){if(n=ue,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,kt(e,i),nt(n,e,i,-1))}return No(),n=va(Error(S(421))),Ss(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zp.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ae=Ut(i.nextSibling),$e=t,Y=!0,tt=null,e!==null&&(Fe[ze++]=xt,Fe[ze++]=yt,Fe[ze++]=hr,xt=e.id,yt=e.overflow,hr=t),t=xo(t,n.children),t.flags|=4096,t)}function Lc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),al(e.return,t,r)}function wa(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function lh(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(we(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,r,t);else if(e.tag===19)Lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(Z,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&di(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),wa(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&di(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}wa(t,!0,r,null,a);break;case"together":wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ep(e,t,r){switch(t.tag){case 3:ih(t),Jr();break;case 5:$d(t);break;case 1:Pe(t.type)&&ii(t);break;case 4:oo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Q(oi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?ah(e,t,r):(Q(Z,Z.current&1),e=_t(e,t,r),e!==null?e.sibling:null);Q(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return lh(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,nh(e,t,r)}return _t(e,t,r)}var oh,ml,ch,uh;oh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ml=function(){};ch=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,or(ut.current);var a=null;switch(r){case"input":i=Ma(e,i),n=Ma(e,n),a=[];break;case"select":i=te({},i,{value:void 0}),n=te({},n,{value:void 0}),a=[];break;case"textarea":i=Fa(e,i),n=Fa(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ni)}Ba(r,n);var l;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Un.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var o=n[u];if(c=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(a||(a=[]),a.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Un.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&J("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};uh=function(e,t,r,n){r!==n&&(t.flags|=4)};function xn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Pp(e,t,r){var n=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Pe(t.type)&&si(),pe(t),null;case 3:return n=t.stateNode,Yr(),X(Ee),X(ye),uo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(bl(tt),tt=null))),ml(e,t),pe(t),null;case 5:co(t);var i=or(es.current);if(r=t.type,e!==null&&t.stateNode!=null)ch(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(S(166));return pe(t),null}if(e=or(ut.current),_s(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ot]=t,n[Yn]=a,e=(t.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(i=0;i<_n.length;i++)J(_n[i],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":Go(n,a),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},J("invalid",n);break;case"textarea":Qo(n,a),J("invalid",n)}Ba(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&ks(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&ks(n.textContent,c,e),i=["children",""+c]):Un.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&J("scroll",n)}switch(r){case"input":gs(n),Ko(n,a,!0);break;case"textarea":gs(n),Jo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ni)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ot]=t,e[Yn]=n,oh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ua(r,n),r){case"dialog":J("cancel",e),J("close",e),i=n;break;case"iframe":case"object":case"embed":J("load",e),i=n;break;case"video":case"audio":for(i=0;i<_n.length;i++)J(_n[i],e);i=n;break;case"source":J("error",e),i=n;break;case"img":case"image":case"link":J("error",e),J("load",e),i=n;break;case"details":J("toggle",e),i=n;break;case"input":Go(e,n),i=Ma(e,n),J("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=te({},n,{value:void 0}),J("invalid",e);break;case"textarea":Qo(e,n),i=Fa(e,n),J("invalid",e);break;default:i=n}Ba(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?Bu(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Fu(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Vn(e,o):typeof o=="number"&&Vn(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Un.hasOwnProperty(a)?o!=null&&a==="onScroll"&&J("scroll",e):o!=null&&zl(e,a,o,l))}switch(r){case"input":gs(e),Ko(e,n,!1);break;case"textarea":gs(e),Jo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Br(e,!!n.multiple,a,!1):n.defaultValue!=null&&Br(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)uh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(r=or(es.current),or(ut.current),_s(t)){if(n=t.stateNode,r=t.memoizedProps,n[ot]=t,(a=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:ks(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=t,t.stateNode=n}return pe(t),null;case 13:if(X(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ae!==null&&t.mode&1&&!(t.flags&128))Ed(),Jr(),t.flags|=98560,a=!1;else if(a=_s(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(S(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(S(317));a[ot]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),a=!1}else tt!==null&&(bl(tt),tt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):No())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Yr(),ml(e,t),e===null&&Jn(t.stateNode.containerInfo),pe(t),null;case 10:return io(t.type._context),pe(t),null;case 17:return Pe(t.type)&&si(),pe(t),null;case 19:if(X(Z),a=t.memoizedState,a===null)return pe(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)xn(a,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=di(e),l!==null){for(t.flags|=128,xn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(Z,Z.current&1|2),t.child}e=e.sibling}a.tail!==null&&ne()>en&&(t.flags|=128,n=!0,xn(a,!1),t.lanes=4194304)}else{if(!n)if(e=di(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Y)return pe(t),null}else 2*ne()-a.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,n=!0,xn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,r=Z.current,Q(Z,n?r&1|2:r&1),t):(pe(t),null);case 22:case 23:return bo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Re&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Tp(e,t){switch(to(t),t.tag){case 1:return Pe(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),X(Ee),X(ye),uo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return co(t),null;case 13:if(X(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Z),null;case 4:return Yr(),null;case 10:return io(t.type._context),null;case 22:case 23:return bo(),null;case 24:return null;default:return null}}var Es=!1,xe=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Fr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function pl(e,t,r){try{r()}catch(n){re(e,t,n)}}var Fc=!1;function Ap(e,t){if(Ya=ei,e=pd(),Zl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(c=l+i),m!==a||n!==0&&m.nodeType!==3||(o=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++u===i&&(c=l),h===a&&++d===n&&(o=l),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Za={focusedElem:e,selectionRange:r},ei=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,k=g.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ye(t.type,b),k);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){re(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=Fc,Fc=!1,g}function On(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&pl(t,r,a)}i=i.next}while(i!==n)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dh(e){var t=e.alternate;t!==null&&(e.alternate=null,dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[Yn],delete t[rl],delete t[mp],delete t[pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hh(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ni));else if(n!==4&&(e=e.child,e!==null))for(xl(e,t,r),e=e.sibling;e!==null;)xl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}var de=null,Ze=!1;function Pt(e,t,r){for(r=r.child;r!==null;)fh(e,t,r),r=r.sibling}function fh(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 5:xe||Fr(r,t);case 6:var n=de,i=Ze;de=null,Pt(e,t,r),de=n,Ze=i,de!==null&&(Ze?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ze?(e=de,r=r.stateNode,e.nodeType===8?fa(e.parentNode,r):e.nodeType===1&&fa(e,r),Gn(e)):fa(de,r.stateNode));break;case 4:n=de,i=Ze,de=r.stateNode.containerInfo,Ze=!0,Pt(e,t,r),de=n,Ze=i;break;case 0:case 11:case 14:case 15:if(!xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&pl(r,t,l),i=i.next}while(i!==n)}Pt(e,t,r);break;case 1:if(!xe&&(Fr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){re(r,t,c)}Pt(e,t,r);break;case 21:Pt(e,t,r);break;case 22:r.mode&1?(xe=(n=xe)||r.memoizedState!==null,Pt(e,t,r),xe=n):Pt(e,t,r);break;default:Pt(e,t,r)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rp),t.forEach(function(n){var i=Bp.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Je(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:de=c.stateNode,Ze=!1;break e;case 3:de=c.stateNode.containerInfo,Ze=!0;break e;case 4:de=c.stateNode.containerInfo,Ze=!0;break e}c=c.return}if(de===null)throw Error(S(160));fh(a,l,i),de=null,Ze=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}function mh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),at(e),n&4){try{On(3,e,e.return),Di(3,e)}catch(b){re(e,e.return,b)}try{On(5,e,e.return)}catch(b){re(e,e.return,b)}}break;case 1:Je(t,e),at(e),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(Je(t,e),at(e),n&512&&r!==null&&Fr(r,r.return),e.flags&32){var i=e.stateNode;try{Vn(i,"")}catch(b){re(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Mu(i,a),Ua(c,l);var u=Ua(c,a);for(l=0;l<o.length;l+=2){var d=o[l],m=o[l+1];d==="style"?Bu(i,m):d==="dangerouslySetInnerHTML"?Fu(i,m):d==="children"?Vn(i,m):zl(i,d,m,u)}switch(c){case"input":Da(i,a);break;case"textarea":Du(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Br(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Br(i,!!a.multiple,a.defaultValue,!0):Br(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yn]=a}catch(b){re(e,e.return,b)}}break;case 6:if(Je(t,e),at(e),n&4){if(e.stateNode===null)throw Error(S(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){re(e,e.return,b)}}break;case 3:if(Je(t,e),at(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gn(t.containerInfo)}catch(b){re(e,e.return,b)}break;case 4:Je(t,e),at(e);break;case 13:Je(t,e),at(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(wo=ne())),n&4&&Bc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xe=(u=xe)||d,Je(t,e),xe=u):Je(t,e),at(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(m=$=d;$!==null;){switch(h=$,p=h.child,h.tag){case 0:case 11:case 14:case 15:On(4,h,h.return);break;case 1:Fr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){re(n,r,b)}}break;case 5:Fr(h,h.return);break;case 22:if(h.memoizedState!==null){Vc(m);continue}}p!==null?(p.return=h,$=p):Vc(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,o=m.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=zu("display",l))}catch(b){re(e,e.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){re(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Je(t,e),at(e),n&4&&Bc(e);break;case 21:break;default:Je(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hh(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vn(i,""),n.flags&=-33);var a=zc(e);yl(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,c=zc(e);xl(e,c,l);break;default:throw Error(S(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $p(e,t,r){$=e,ph(e)}function ph(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Es;if(!l){var c=i.alternate,o=c!==null&&c.memoizedState!==null||xe;c=Es;var u=xe;if(Es=l,(xe=o)&&!u)for($=i;$!==null;)l=$,o=l.child,l.tag===22&&l.memoizedState!==null?qc(i):o!==null?(o.return=l,$=o):qc(i);for(;a!==null;)$=a,ph(a),a=a.sibling;$=i,Es=c,xe=u}Uc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):Uc(e)}}function Uc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Di(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xe)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Cc(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cc(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Gn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}xe||t.flags&512&&gl(t)}catch(h){re(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Vc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function qc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Di(4,t)}catch(o){re(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(o){re(t,i,o)}}var a=t.return;try{gl(t)}catch(o){re(t,a,o)}break;case 5:var l=t.return;try{gl(t)}catch(o){re(t,l,o)}}}catch(o){re(t,t.return,o)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Op=Math.ceil,mi=Ct.ReactCurrentDispatcher,yo=Ct.ReactCurrentOwner,Ue=Ct.ReactCurrentBatchConfig,V=0,ue=null,se=null,he=0,Re=0,zr=Jt(0),ae=0,ss=null,mr=0,Li=0,vo=0,In=null,_e=null,wo=0,en=1/0,mt=null,pi=!1,vl=null,qt=null,Ps=!1,Lt=null,gi=0,Mn=0,wl=null,Hs=-1,Ws=0;function je(){return V&6?ne():Hs!==-1?Hs:Hs=ne()}function Ht(e){return e.mode&1?V&2&&he!==0?he&-he:xp.transition!==null?(Ws===0&&(Ws=Zu()),Ws):(e=W,e!==0||(e=window.event,e=e===void 0?16:ad(e.type)),e):1}function nt(e,t,r,n){if(50<Mn)throw Mn=0,wl=null,Error(S(185));ls(e,r,n),(!(V&2)||e!==ue)&&(e===ue&&(!(V&2)&&(Li|=r),ae===4&&It(e,he)),Te(e,n),r===1&&V===0&&!(t.mode&1)&&(en=ne()+500,Oi&&Xt()))}function Te(e,t){var r=e.callbackNode;xm(e,t);var n=Zs(e,e===ue?he:0);if(n===0)r!==null&&Zo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zo(r),t===1)e.tag===0?gp(Hc.bind(null,e)):_d(Hc.bind(null,e)),hp(function(){!(V&6)&&Xt()}),r=null;else{switch(ed(n)){case 1:r=Hl;break;case 4:r=Xu;break;case 16:r=Ys;break;case 536870912:r=Yu;break;default:r=Ys}r=Nh(r,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gh(e,t){if(Hs=-1,Ws=0,V&6)throw Error(S(327));var r=e.callbackNode;if(Wr()&&e.callbackNode!==r)return null;var n=Zs(e,e===ue?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xi(e,n);else{t=n;var i=V;V|=2;var a=yh();(ue!==e||he!==t)&&(mt=null,en=ne()+500,cr(e,t));do try{Dp();break}catch(c){xh(e,c)}while(!0);so(),mi.current=a,V=i,se!==null?t=0:(ue=null,he=0,t=ae)}if(t!==0){if(t===2&&(i=Ga(e),i!==0&&(n=i,t=jl(e,i))),t===1)throw r=ss,cr(e,0),It(e,n),Te(e,ne()),r;if(t===6)It(e,n);else{if(i=e.current.alternate,!(n&30)&&!Ip(i)&&(t=xi(e,n),t===2&&(a=Ga(e),a!==0&&(n=a,t=jl(e,a))),t===1))throw r=ss,cr(e,0),It(e,n),Te(e,ne()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(S(345));case 2:nr(e,_e,mt);break;case 3:if(It(e,n),(n&130023424)===n&&(t=wo+500-ne(),10<t)){if(Zs(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tl(nr.bind(null,e,_e,mt),t);break}nr(e,_e,mt);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-rt(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Op(n/1960))-n,10<n){e.timeoutHandle=tl(nr.bind(null,e,_e,mt),n);break}nr(e,_e,mt);break;case 5:nr(e,_e,mt);break;default:throw Error(S(329))}}}return Te(e,ne()),e.callbackNode===r?gh.bind(null,e):null}function jl(e,t){var r=In;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=xi(e,t),e!==2&&(t=_e,_e=r,t!==null&&bl(t)),e}function bl(e){_e===null?_e=e:_e.push.apply(_e,e)}function Ip(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!st(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~vo,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),n=1<<r;e[r]=-1,t&=~n}}function Hc(e){if(V&6)throw Error(S(327));Wr();var t=Zs(e,0);if(!(t&1))return Te(e,ne()),null;var r=xi(e,t);if(e.tag!==0&&r===2){var n=Ga(e);n!==0&&(t=n,r=jl(e,n))}if(r===1)throw r=ss,cr(e,0),It(e,t),Te(e,ne()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,_e,mt),Te(e,ne()),null}function jo(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(en=ne()+500,Oi&&Xt())}}function pr(e){Lt!==null&&Lt.tag===0&&!(V&6)&&Wr();var t=V;V|=1;var r=Ue.transition,n=W;try{if(Ue.transition=null,W=1,e)return e()}finally{W=n,Ue.transition=r,V=t,!(V&6)&&Xt()}}function bo(){Re=zr.current,X(zr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dp(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(to(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&si();break;case 3:Yr(),X(Ee),X(ye),uo();break;case 5:co(n);break;case 4:Yr();break;case 13:X(Z);break;case 19:X(Z);break;case 10:io(n.type._context);break;case 22:case 23:bo()}r=r.return}if(ue=e,se=e=Wt(e.current,null),he=Re=t,ae=0,ss=null,vo=Li=mr=0,_e=In=null,lr!==null){for(t=0;t<lr.length;t++)if(r=lr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}lr=null}return e}function xh(e,t){do{var r=se;try{if(so(),Us.current=fi,hi){for(var n=ee.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hi=!1}if(fr=0,ce=ie=ee=null,$n=!1,ts=0,yo.current=null,r===null||r.return===null){ae=1,ss=t,se=null;break}e:{var a=e,l=r.return,c=r,o=t;if(t=he,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ac(l);if(p!==null){p.flags&=-257,$c(p,l,c,a,t),p.mode&1&&Rc(a,u,t),t=p,o=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(o),t.updateQueue=b}else g.add(o);break e}else{if(!(t&1)){Rc(a,u,t),No();break e}o=Error(S(426))}}else if(Y&&c.mode&1){var k=Ac(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$c(k,l,c,a,t),ro(Zr(o,c));break e}}a=o=Zr(o,c),ae!==4&&(ae=2),In===null?In=[a]:In.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=eh(a,o,t);_c(a,x);break e;case 1:c=o;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qt===null||!qt.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=th(a,c,t);_c(a,w);break e}}a=a.return}while(a!==null)}wh(r)}catch(N){t=N,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function yh(){var e=mi.current;return mi.current=fi,e===null?fi:e}function No(){(ae===0||ae===3||ae===2)&&(ae=4),ue===null||!(mr&268435455)&&!(Li&268435455)||It(ue,he)}function xi(e,t){var r=V;V|=2;var n=yh();(ue!==e||he!==t)&&(mt=null,cr(e,t));do try{Mp();break}catch(i){xh(e,i)}while(!0);if(so(),V=r,mi.current=n,se!==null)throw Error(S(261));return ue=null,he=0,ae}function Mp(){for(;se!==null;)vh(se)}function Dp(){for(;se!==null&&!om();)vh(se)}function vh(e){var t=bh(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?wh(e):se=t,yo.current=null}function wh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Tp(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(r=Pp(r,t,Re),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function nr(e,t,r){var n=W,i=Ue.transition;try{Ue.transition=null,W=1,Lp(e,t,r,n)}finally{Ue.transition=i,W=n}return null}function Lp(e,t,r,n){do Wr();while(Lt!==null);if(V&6)throw Error(S(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(ym(e,a),e===ue&&(se=ue=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,Nh(Ys,function(){return Wr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ue.transition,Ue.transition=null;var l=W;W=1;var c=V;V|=4,yo.current=null,Ap(e,r),mh(r,e),sp(Za),ei=!!Ya,Za=Ya=null,e.current=r,$p(r),cm(),V=c,W=l,Ue.transition=a}else e.current=r;if(Ps&&(Ps=!1,Lt=e,gi=i),a=e.pendingLanes,a===0&&(qt=null),hm(r.stateNode),Te(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pi)throw pi=!1,e=vl,vl=null,e;return gi&1&&e.tag!==0&&Wr(),a=e.pendingLanes,a&1?e===wl?Mn++:(Mn=0,wl=e):Mn=0,Xt(),null}function Wr(){if(Lt!==null){var e=ed(gi),t=Ue.transition,r=W;try{if(Ue.transition=null,W=16>e?16:e,Lt===null)var n=!1;else{if(e=Lt,Lt=null,gi=0,V&6)throw Error(S(331));var i=V;for(V|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:On(8,d,a)}var m=d.child;if(m!==null)m.return=d,$=m;else for(;$!==null;){d=$;var h=d.sibling,p=d.return;if(dh(d),d===u){$=null;break}if(h!==null){h.return=p,$=h;break}$=p}}}var g=a.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:On(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}var f=e.current;for($=f;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=f;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Di(9,c)}}catch(N){re(c,c.return,N)}if(c===l){$=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,$=w;break e}$=c.return}}if(V=i,Xt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Pi,e)}catch{}n=!0}return n}finally{W=r,Ue.transition=t}}return!1}function Wc(e,t,r){t=Zr(r,t),t=eh(e,t,1),e=Vt(e,t,1),t=je(),e!==null&&(ls(e,1,t),Te(e,t))}function re(e,t,r){if(e.tag===3)Wc(e,e,r);else for(;t!==null;){if(t.tag===3){Wc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){e=Zr(r,e),e=th(t,e,1),t=Vt(t,e,1),e=je(),t!==null&&(ls(t,1,e),Te(t,e));break}}t=t.return}}function Fp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&r,ue===e&&(he&r)===r&&(ae===4||ae===3&&(he&130023424)===he&&500>ne()-wo?cr(e,0):vo|=r),Te(e,t)}function jh(e,t){t===0&&(e.mode&1?(t=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):t=1);var r=je();e=kt(e,t),e!==null&&(ls(e,t,r),Te(e,r))}function zp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jh(e,r)}function Bp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(t),jh(e,r)}var bh;bh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Se=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Se=!1,Ep(e,t,r);Se=!!(e.flags&131072)}else Se=!1,Y&&t.flags&1048576&&Cd(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var i=Qr(t,ye.current);Hr(t,r),i=fo(null,t,n,e,i,r);var a=mo();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(a=!0,ii(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lo(t),i.updater=Mi,t.stateNode=i,i._reactInternals=t,ol(t,n,e,r),t=dl(null,t,n,!0,a,r)):(t.tag=0,Y&&a&&eo(t),we(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Vp(n),e=Ye(n,e),i){case 0:t=ul(null,t,n,e,r);break e;case 1:t=Mc(null,t,n,e,r);break e;case 11:t=Oc(null,t,n,e,r);break e;case 14:t=Ic(null,t,n,Ye(n.type,e),r);break e}throw Error(S(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ye(n,i),ul(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ye(n,i),Mc(e,t,n,i,r);case 3:e:{if(ih(t),e===null)throw Error(S(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Ad(e,t),ui(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Zr(Error(S(423)),t),t=Dc(e,t,n,r,i);break e}else if(n!==i){i=Zr(Error(S(424)),t),t=Dc(e,t,n,r,i);break e}else for(Ae=Ut(t.stateNode.containerInfo.firstChild),$e=t,Y=!0,tt=null,r=Td(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===i){t=_t(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return $d(t),e===null&&il(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,el(n,i)?l=null:a!==null&&el(n,a)&&(t.flags|=32),sh(e,t),we(e,t,l,r),t.child;case 6:return e===null&&il(t),null;case 13:return ah(e,t,r);case 4:return oo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xr(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ye(n,i),Oc(e,t,n,i,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Q(oi,n._currentValue),n._currentValue=l,a!==null)if(st(a.value,l)){if(a.children===i.children&&!Ee.current){t=_t(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=wt(-1,r&-r),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),al(a.return,r,t),c.lanes|=r;break}o=o.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(S(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),al(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}we(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Hr(t,r),i=We(i),n=n(i),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,i=Ye(n,t.pendingProps),i=Ye(n.type,i),Ic(e,t,n,i,r);case 15:return rh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ye(n,i),qs(e,t),t.tag=1,Pe(n)?(e=!0,ii(t)):e=!1,Hr(t,r),Zd(t,n,i),ol(t,n,i,r),dl(null,t,n,!0,e,r);case 19:return lh(e,t,r);case 22:return nh(e,t,r)}throw Error(S(156,t.tag))};function Nh(e,t){return Ju(e,t)}function Up(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,r,n){return new Up(e,t,r,n)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vp(e){if(typeof e=="function")return ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ul)return 11;if(e===Vl)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=Be(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")ko(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Tr:return ur(r.children,i,a,t);case Bl:l=8,i|=8;break;case Aa:return e=Be(12,r,t,i|2),e.elementType=Aa,e.lanes=a,e;case $a:return e=Be(13,r,t,i),e.elementType=$a,e.lanes=a,e;case Oa:return e=Be(19,r,t,i),e.elementType=Oa,e.lanes=a,e;case $u:return Fi(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ru:l=10;break e;case Au:l=9;break e;case Ul:l=11;break e;case Vl:l=14;break e;case Rt:l=16,n=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Be(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ur(e,t,r,n){return e=Be(7,e,n,t),e.lanes=r,e}function Fi(e,t,r,n){return e=Be(22,e,n,t),e.elementType=$u,e.lanes=r,e.stateNode={isHidden:!1},e}function ja(e,t,r){return e=Be(6,e,null,t),e.lanes=r,e}function ba(e,t,r){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qp(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _o(e,t,r,n,i,a,l,c,o){return e=new qp(e,t,r,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Be(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lo(a),e}function Hp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kh(e){if(!e)return Kt;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(Pe(r))return kd(e,r,t)}return t}function _h(e,t,r,n,i,a,l,c,o){return e=_o(r,n,!0,e,i,a,l,c,o),e.context=kh(null),r=e.current,n=je(),i=Ht(r),a=wt(n,i),a.callback=t??null,Vt(r,a,i),e.current.lanes=i,ls(e,i,n),Te(e,n),e}function zi(e,t,r,n){var i=t.current,a=je(),l=Ht(i);return r=kh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(i,t,l),e!==null&&(nt(e,i,l,a),Bs(e,i,l)),l}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Co(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Wp(){return null}var Ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function So(e){this._internalRoot=e}Bi.prototype.render=So.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));zi(e,t,null,null)};Bi.prototype.unmount=So.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){zi(null,e,null,null)}),t[Nt]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=nd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&id(e)}};function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function Gp(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=yi(l);a.call(u)}}var l=_h(t,n,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=l,e[Nt]=l.current,Jn(e.nodeType===8?e.parentNode:e),pr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var u=yi(o);c.call(u)}}var o=_o(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=o,e[Nt]=o.current,Jn(e.nodeType===8?e.parentNode:e),pr(function(){zi(t,o,r,n)}),o}function Vi(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var c=i;i=function(){var o=yi(l);c.call(o)}}zi(t,l,e,i)}else l=Gp(r,t,e,i,n);return yi(l)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kn(t.pendingLanes);r!==0&&(Wl(t,r|1),Te(t,ne()),!(V&6)&&(en=ne()+500,Xt()))}break;case 13:pr(function(){var n=kt(e,1);if(n!==null){var i=je();nt(n,e,1,i)}}),Co(e,1)}};Gl=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=je();nt(t,e,134217728,r)}Co(e,134217728)}};rd=function(e){if(e.tag===13){var t=Ht(e),r=kt(e,t);if(r!==null){var n=je();nt(r,e,t,n)}Co(e,t)}};nd=function(){return W};sd=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};qa=function(e,t,r){switch(t){case"input":if(Da(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$i(n);if(!i)throw Error(S(90));Iu(n),Da(n,i)}}}break;case"textarea":Du(e,r);break;case"select":t=r.value,t!=null&&Br(e,!!r.multiple,t,!1)}};qu=jo;Hu=pr;var Kp={usingClientEntryPoint:!1,Events:[cs,Or,$i,Uu,Vu,jo]},yn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ku(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Pi=Ts.inject(Qp),ct=Ts}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;Me.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eo(t))throw Error(S(200));return Hp(e,t,null,r)};Me.createRoot=function(e,t){if(!Eo(e))throw Error(S(299));var r=!1,n="",i=Ch;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_o(e,1,!1,null,null,r,!1,n,i),e[Nt]=t.current,Jn(e.nodeType===8?e.parentNode:e),new So(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Ku(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return pr(e)};Me.hydrate=function(e,t,r){if(!Ui(t))throw Error(S(200));return Vi(null,e,t,!0,r)};Me.hydrateRoot=function(e,t,r){if(!Eo(e))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Ch;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=_h(t,null,e,1,r??null,i,!1,a,l),e[Nt]=t.current,Jn(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Bi(t)};Me.render=function(e,t,r){if(!Ui(t))throw Error(S(200));return Vi(null,e,t,!1,r)};Me.unmountComponentAtNode=function(e){if(!Ui(e))throw Error(S(40));return e._reactRootContainer?(pr(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};Me.unstable_batchedUpdates=jo;Me.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ui(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Vi(e,t,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function Sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sh)}catch(e){console.error(e)}}Sh(),Su.exports=Me;var Jp=Su.exports,Eh,Qc=Jp;Eh=Qc.createRoot,Qc.hydrateRoot;const Xp="modulepreload",Yp=function(e){return"/"+e},Jc={},ds=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=Yp(o),o in Jc)return;Jc[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Xp,u||(m.as="script"),m.crossOrigin="",m.href=o,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},Zp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Po extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class e0 extends Po{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class t0 extends Po{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class r0 extends Po{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nl||(Nl={}));var n0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class s0{constructor(t,{headers:r={},customFetch:n,region:i=Nl.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Zp(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return n0(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let c={},{region:o}=r;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(c["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:u}).catch(g=>{throw new e0(g)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new t0(d);if(!d.ok)throw new r0(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Ce={},To={},qi={},hs={},Hi={},Wi={},i0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tn=i0();const a0=tn.fetch,Ph=tn.fetch.bind(tn),Th=tn.Headers,l0=tn.Request,o0=tn.Response,ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:Th,Request:l0,Response:o0,default:Ph,fetch:a0},Symbol.toStringTag,{value:"Module"})),c0=kf(ln);var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});let u0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gi.default=u0;var Rh=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wi,"__esModule",{value:!0});const d0=Rh(c0),h0=Rh(Gi);let f0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=d0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,o;let u=null,d=null,m=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const b=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),k=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await a.text();try{u=JSON.parse(b),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new h0.default(u)}return{error:u,data:d,count:m,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,c,o;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Wi.default=f0;var m0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const p0=m0(Wi);let g0=class extends p0.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hi.default=g0;var x0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const y0=x0(Hi);let v0=class extends y0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};hs.default=v0;var w0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const vn=w0(hs);let j0=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new vn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new vn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new vn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new vn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qi.default=j0;var Ki={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.version=void 0;Qi.version="0.0.0-automated";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.DEFAULT_HEADERS=void 0;const b0=Qi;Ki.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${b0.version}`};var Ah=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(To,"__esModule",{value:!0});const N0=Ah(qi),k0=Ah(hs),_0=Ki;let C0=class $h{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},_0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new N0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $h(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{c.searchParams.append(d,m)})):(l="POST",o=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new k0.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};To.default=C0;var on=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Oh=on(To);Ce.PostgrestClient=Oh.default;const Ih=on(qi);Ce.PostgrestQueryBuilder=Ih.default;const Mh=on(hs);Ce.PostgrestFilterBuilder=Mh.default;const Dh=on(Hi);Ce.PostgrestTransformBuilder=Dh.default;const Lh=on(Wi);Ce.PostgrestBuilder=Lh.default;const Fh=on(Gi);Ce.PostgrestError=Fh.default;var S0=Ce.default={PostgrestClient:Oh.default,PostgrestQueryBuilder:Ih.default,PostgrestFilterBuilder:Mh.default,PostgrestTransformBuilder:Dh.default,PostgrestBuilder:Lh.default,PostgrestError:Fh.default};const{PostgrestClient:E0,PostgrestQueryBuilder:uy,PostgrestFilterBuilder:dy,PostgrestTransformBuilder:hy,PostgrestBuilder:fy,PostgrestError:my}=S0;function P0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const T0=P0(),R0="2.11.15",A0=`realtime-js/${R0}`,$0="1.0.0",zh=1e4,O0=1e3;var Dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dn||(Dn={}));var ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ge||(ge={}));var et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(et||(et={}));var kl;(function(e){e.websocket="websocket"})(kl||(kl={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class I0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+i));l=l+i;const o=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class Bh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Xc=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=M0(l,e,t,i),a),{})},M0=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!n.includes(a)?Uh(a,l):_l(l)},Uh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return z0(t,r)}switch(e){case K.bool:return D0(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return L0(t);case K.json:case K.jsonb:return F0(t);case K.timestamp:return B0(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return _l(t);default:return _l(t)}},_l=e=>e,D0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},F0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},z0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Uh(t,c))}return e},B0=e=>typeof e=="string"?e.replace(" ","T"):e,Vh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Na{constructor(t,r,n={},i=zh){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yc||(Yc={}));class Ln{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ln.syncState(this.state,i,a,l),this.pendingDiffs.forEach(o=>{this.state=Ln.syncDiff(this.state,o,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ln.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),c={},o={};return this.map(a,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const m=a[u];if(m){const h=d.map(k=>k.presence_ref),p=m.map(k=>k.presence_ref),g=d.filter(k=>p.indexOf(k.presence_ref)<0),b=m.filter(k=>h.indexOf(k.presence_ref)<0);g.length>0&&(c[u]=g),b.length>0&&(o[u]=b)}else c[u]=d}),this.syncDiff(a,{joins:c,leaves:o},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const m=t[c].map(p=>p.presence_ref),h=d.filter(p=>m.indexOf(p.presence_ref)<0);t[c].unshift(...h)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[c]=u,i(c,u,o),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zc||(Zc={}));var eu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(eu||(eu={}));var pt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class Ro{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Na(this,et.join,this.params,this.timeout),this.rejoinTimer=new Bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ln(this),this.broadcastEndpointURL=Vh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(d=>t==null?void 0:t(pt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(pt.CLOSED));const o={},u={broadcast:a,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){t==null||t(pt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(m=h==null?void 0:h.length)!==null&&m!==void 0?m:0,g=[];for(let b=0;b<p;b++){const k=h[b],{filter:{event:x,schema:f,table:y,filter:w}}=k,N=d&&d[b];if(N&&N.event===x&&N.schema===f&&N.table===y&&N.filter===w)g.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),this.state=ge.errored,t==null||t(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(pt.SUBSCRIBED);return}}).receive("error",d=>{this.state=ge.errored,t==null||t(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Na(this,et.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Na(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=et;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,b,k;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((k=(b=p.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(p=>p.callback(h,n)):(a=this.bindings[l])===null||a===void 0||a.filter(p=>{var g,b,k,x,f,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const w=p.id,N=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(f=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:b,table:k,commit_timestamp:x,type:f,errors:y}=g;h=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:x,eventType:f,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ro.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xc(t.columns,t.old_record)),r}}const tu=()=>{},U0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tu,this.ref=0,this.logger=tu,this.conn=null,this.sendBuffer=[],this.serializer=new I0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>ds(async()=>{const{default:o}=await Promise.resolve().then(()=>ln);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${kl.websocket}`,this.httpEndpoint=Vh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=T0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return ir.Connecting;case Dn.open:return ir.Open;case Dn.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Ro(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:A0};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(O0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:l}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([U0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Ao extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class q0 extends Ao{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cl extends Ao{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var H0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},W0=()=>H0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>ln),void 0)).Response:Response}),Sl=e=>{if(Array.isArray(e))return e.map(r=>Sl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Sl(n)}),t};var vr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G0=(e,t,r)=>vr(void 0,void 0,void 0,function*(){const n=yield W0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new q0(ka(i),e.status||500))}).catch(i=>{t(new Cl(ka(i),i))}):t(new Cl(ka(e),e))}),K0=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function fs(e,t,r,n,i,a){return vr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,K0(t,n,i,a)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>G0(o,c,n))})})}function vi(e,t,r,n){return vr(this,void 0,void 0,function*(){return fs(e,"GET",t,r,n)})}function $t(e,t,r,n,i){return vr(this,void 0,void 0,function*(){return fs(e,"POST",t,n,i,r)})}function Q0(e,t,r,n,i){return vr(this,void 0,void 0,function*(){return fs(e,"PUT",t,n,i,r)})}function J0(e,t,r,n){return vr(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Hh(e,t,r,n,i){return vr(this,void 0,void 0,function*(){return fs(e,"DELETE",t,n,i,r)})}var ke=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const X0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ru={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y0{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=qh(i)}uploadOrUpdate(t,r,n,i){return ke(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},ru),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),h=yield m.json();return m.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(oe(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ke(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:ru.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),h=yield m.json();return m.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(oe(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield $t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new Ao("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield $t(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ke(this,void 0,void 0,function*(){try{const i=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}download(t,r){return ke(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield vi(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(oe(c))return{data:null,error:c};throw c}})}info(t){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sl(n),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}exists(t){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield J0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(oe(n)&&n instanceof Cl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return ke(this,void 0,void 0,function*(){try{return{data:yield Hh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},X0),r),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Z0="2.7.1",eg={"X-Client-Info":`storage-js/${Z0}`};var Nr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class tg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},eg),r),this.fetch=qh(n)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(oe(t))return{data:null,error:t};throw t}})}getBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield Hh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}}class rg extends tg{constructor(t,r={},n){super(t,r,n)}from(t){return new Y0(this.url,this.headers,t,this.fetch)}}const ng="2.50.2";let Cn="";typeof Deno<"u"?Cn="deno":typeof document<"u"?Cn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cn="react-native":Cn="node";const sg={"X-Client-Info":`supabase-js-${Cn}/${ng}`},ig={headers:sg},ag={schema:"public"},lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},og={};var cg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const ug=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ph:t=fetch,(...r)=>t(...r)},dg=()=>typeof Headers>"u"?Th:Headers,hg=(e,t,r)=>{const n=ug(r),i=dg();return(a,l)=>cg(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var fg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};function mg(e){return e.endsWith("/")?e:e+"/"}function pg(e,t){var r,n;const{db:i,auth:a,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:m}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>fg(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Wh="2.70.0",Er=30*1e3,El=3,_a=El*Er,gg="http://localhost:9999",xg="supabase.auth.token",yg={"X-Client-Info":`gotrue-js/${Wh}`},Pl="X-Supabase-Api-Version",Gh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wg=6e5;class $o extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jg extends $o{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bg(e){return z(e)&&e.name==="AuthApiError"}class Kh extends $o{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yt extends $o{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Tt extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ng(e){return z(e)&&e.name==="AuthSessionMissingError"}class Rs extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $s extends Yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kg(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class nu extends Yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tl extends Yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ca(e){return z(e)&&e.name==="AuthRetryableFetchError"}class su extends Yt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fn extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iu=` 	
\r=`.split(""),_g=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iu.length;t+=1)e[iu[t].charCodeAt(0)]=-2;for(let t=0;t<wi.length;t+=1)e[wi[t].charCodeAt(0)]=t;return e})();function au(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}}function Qh(e,t,r){const n=_g[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Eg(l,n,r)};for(let l=0;l<e.length;l+=1)Qh(e.charCodeAt(l),i,a);return t.join("")}function Cg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Cg(n,t)}}function Eg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pg(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Qh(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Tg(e){const t=[];return Sg(e,r=>t.push(r)),new Uint8Array(t)}function Rg(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>au(i,r,n)),au(null,r,n),t.join("")}function Ag(e){return Math.round(Date.now()/1e3)+e}function $g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},zn=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function Og(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Jh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ig=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Os=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Is=async(e,t)=>{await e.removeItem(t)};class Ji{constructor(){this.promise=new Ji.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ji.promiseConstructor=Promise;function Sa(e){const t=e.split(".");if(t.length!==3)throw new Fn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vg.test(t[n]))throw new Fn("JWT not in base64url format");return{header:JSON.parse(lu(t[0])),payload:JSON.parse(lu(t[1])),signature:Pg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dg(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function Lg(e){return("0"+e.toString(16)).substr(-2)}function Fg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Lg).join("")}async function zg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Bg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await zg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(e,t,r=!1){const n=Fg();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Xh(e,`${t}-code-verifier`,i);const a=await Bg(n);return[a,n===a?"plain":"s256"]}const Ug=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vg(e){const t=e.headers.get(Pl);if(!t||!t.match(Ug))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Hg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(e){if(!Wg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Gg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kg=[502,503,504];async function ou(e){var t;if(!Ig(e))throw new Tl(sr(e),0);if(Kg.includes(e.status))throw new Tl(sr(e),e.status);let r;try{r=await e.json()}catch(a){throw new Kh(sr(a),a)}let n;const i=Vg(e);if(i&&i.getTime()>=Gh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new su(sr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new su(sr(r),e.status,r.weak_password.reasons);throw new jg(sr(r),e.status||500,n)}const Qg=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function B(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Pl]||(a[Pl]=Gh["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await Jg(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function Jg(e,t,r,n,i,a){const l=Qg(t,n,i,a);let c;try{c=await e(r,Object.assign({},l))}catch(o){throw console.error(o),new Tl(sr(o),0)}if(c.ok||await ou(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await ou(o)}}function ft(e){var t;let r=null;ex(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ag(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cu(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xg(e){return{data:e,error:null}}function Yg(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=Gg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function Zg(e){return e}function ex(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ea=["global","local","others"];var tx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class rx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Jh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ea[0]){if(Ea.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ea.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=tx(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Yg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zg});if(d.error)throw d.error;const m=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(g.split(";")[1].split("=")[1]);u[`${k}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_r(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_r(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_r(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_r(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_r(t.userId),_r(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const nx={getItem:e=>zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zn()&&globalThis.localStorage.removeItem(e)}};function uu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function sx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cr={debug:!!(globalThis&&zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ix extends Yh{}async function ax(e,t,r){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ix(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}sx();const lx={url:gg,storageKey:xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function du(e,t,r){return await r()}class is{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},lx),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new rx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jh(i.fetch),this.lock=i.lock||du,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Xe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ax:this.lock=du,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:zn()?this.storage=nx:(this.memoryStorage={},this.storage=uu(this.memoryStorage)):(this.memoryStorage={},this.storage=uu(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Og(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Xe()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kg(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new Kh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ft}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:m,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await kr(this.storage,this.storageKey)),a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ft})}else if("phone"in t){const{phone:d,password:m,options:h}=t;a=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new As("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:c}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cu})}else if("phone"in t){const{phone:a,password:l,options:c}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cu})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,l,c,o,u,d,m,h,p;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:k,wallet:x,statement:f,options:y}=t;let w;if(Xe())if(typeof x=="object")w=x;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))w=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const v=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let C;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")C=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)C=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),b=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((m=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const v=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=v}}try{const{data:k,error:x}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Rg(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ft});if(x)throw x;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Rs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:x})}catch(k){if(z(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ft});if(await Is(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(z(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,c=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Rs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await kr(this.storage,this.storageKey));const{error:m}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new As("You must provide either an email or phone number.")}catch(c){if(z(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ft});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await kr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Xg})}catch(a){if(z(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tt;const{error:i}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:c}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new As("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_a:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mt}):await this._useSession(async r=>{var n,i,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Mt})})}catch(r){if(z(r))return Ng(r)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Tt;const l=i.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await kr(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:Mt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Sa(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Xe())throw new $s("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $s(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nu("No code detected.");const{data:f,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!a||!c||!l||!u)throw new $s("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(c);let h=d+m;o&&(h=parseInt(o));const p=h-d;p*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const g=h-m;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:b,error:k}=await this._getUser(a);if(k)throw k;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:h,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(bg(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$g(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(z(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,c,o,u,d;const{data:m,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Xe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dg(async i=>(i>0&&await Mg(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Ca(a)&&Date.now()+l-n<Er})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Xe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Os(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_a;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${_a}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Ca(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ji;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Tt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),z(a)){const l={session:null,error:a};return Ca(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(o){a.push(o)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Er}ms, refresh threshold is ${El} ticks`),i<=El&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await kr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Sa(i.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+wg>Date.now()))return n;const{data:i,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Fn("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(l=>l.kid===t),!n)throw new Fn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:o}}=Sa(n);if(qg(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:l},error:null}}const u=Hg(i.alg),d=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,l,Tg(`${c}.${o}`)))throw new Fn("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}is.nextInstanceID=0;const ox=is;class cx extends ox{constructor(t){super(t)}}var ux=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class dx{constructor(t,r,n){var i,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=mg(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:ag,realtime:og,auth:Object.assign(Object.assign({},lg),{storageKey:u}),global:ig},m=pg(n??{},d);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=hg(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new E0(new URL("rest/v1",o).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new s0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ux(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:l,lock:c,debug:o},u,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cx({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new V0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hx=(e,t,r)=>new dx(e,t,r),fx="https://jkmyflqzrmtvacpsgrxs.supabase.co",mx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImprbXlmbHF6cm10dmFjcHNncnhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjAzNDMsImV4cCI6MjA2Njc5NjM0M30.i9T9hR0Ux7bX5-6i0wFFxqnktgvPi5a7vG4URrCkEUw",vt=hx(fx,mx);function Sr(e){const[t,r]=A.useState([]),[n,i]=A.useState(!0),[a,l]=A.useState(null),c=async()=>{try{i(!0);const{data:m,error:h}=await vt.from(e).select("*").order("created_at",{ascending:!1});if(h)throw h;r(m||[])}catch(m){l(m instanceof Error?m.message:"Erro desconhecido")}finally{i(!1)}},o=async m=>{try{const{data:h,error:p}=await vt.from(e).insert(m).select().single();if(p)throw p;return r(g=>[h,...g]),h}catch(h){throw l(h instanceof Error?h.message:"Erro ao inserir"),h}},u=async(m,h)=>{try{const{data:p,error:g}=await vt.from(e).update(h).eq("id",m).select().single();if(g)throw g;return r(b=>b.map(k=>k.id===m?p:k)),p}catch(p){throw l(p instanceof Error?p.message:"Erro ao atualizar"),p}},d=async m=>{try{const{error:h}=await vt.from(e).delete().eq("id",m);if(h)throw h;r(p=>p.filter(g=>g.id!==m))}catch(h){throw l(h instanceof Error?h.message:"Erro ao deletar"),h}};return A.useEffect(()=>{c()},[e]),{data:t,loading:n,error:a,fetchAll:c,insert:o,update:u,remove:d,setError:l}}function px(){const[e,t]=A.useState([]),[r,n]=A.useState(!0),[i,a]=A.useState(null),l=async()=>{try{n(!0);const{data:h,error:p}=await vt.from("customers").select(`
          *,
          level:customer_levels(*)
        `).order("created_at",{ascending:!1});if(p)throw p;t(h||[])}catch(h){a(h instanceof Error?h.message:"Erro ao buscar clientes")}finally{n(!1)}},c=async h=>{try{const{data:p,error:g}=await vt.from("customers").insert({first_name:h.firstName,last_name:h.lastName,email:h.email,phone:h.phone,document:h.document,points:h.points||0,level_id:h.level.id,status:h.status,email_verified:h.emailVerified||!1,phone_verified:h.phoneVerified||!1,document_verified:h.documentVerified||!0}).select(`
          *,
          level:customer_levels(*)
        `).single();if(g)throw g;return t(b=>[p,...b]),p}catch(p){throw a(p instanceof Error?p.message:"Erro ao adicionar cliente"),p}},o=async(h,p)=>{try{const g={};p.firstName&&(g.first_name=p.firstName),p.lastName&&(g.last_name=p.lastName),p.email&&(g.email=p.email),p.phone&&(g.phone=p.phone),p.document&&(g.document=p.document),p.points!==void 0&&(g.points=p.points),p.level&&(g.level_id=p.level.id),p.status&&(g.status=p.status),p.emailVerified!==void 0&&(g.email_verified=p.emailVerified),p.phoneVerified!==void 0&&(g.phone_verified=p.phoneVerified),p.documentVerified!==void 0&&(g.document_verified=p.documentVerified);const{data:b,error:k}=await vt.from("customers").update(g).eq("id",h).select(`
          *,
          level:customer_levels(*)
        `).single();if(k)throw k;return t(x=>x.map(f=>f.id===h?b:f)),b}catch(g){throw a(g instanceof Error?g.message:"Erro ao atualizar cliente"),g}},u=h=>{const p=h.replace(/[^\d]/g,"");return e.find(g=>g.document.replace(/[^\d]/g,"")===p)},d=h=>e.find(p=>p.email.toLowerCase()===h.toLowerCase()),m=h=>{const p=h.replace(/[^\d]/g,"");return e.find(g=>g.phone.replace(/[^\d]/g,"")===p)};return A.useEffect(()=>{l()},[]),{customers:e,loading:r,error:i,fetchCustomers:l,addCustomer:c,updateCustomer:o,findCustomerByDocument:u,findCustomerByEmail:d,findCustomerByPhone:m,setError:a}}function gx(){const[e,t]=A.useState([]),[r,n]=A.useState(!0),[i,a]=A.useState(null),l=async()=>{try{n(!0);const{data:o,error:u}=await vt.from("point_movements").select("*").order("created_at",{ascending:!1});if(u)throw u;t(o||[])}catch(o){a(o instanceof Error?o.message:"Erro ao buscar movimentaes")}finally{n(!1)}},c=async o=>{try{const{data:u,error:d}=await vt.from("point_movements").insert({customer_id:o.customerId,customer_document:o.customerDocument,type:o.type,points:o.points,description:o.description,date:o.date,reference:o.reference,coupon_code:o.couponCode}).select().single();if(d)throw d;return t(m=>[u,...m]),u}catch(u){throw a(u instanceof Error?u.message:"Erro ao adicionar movimentao"),u}};return A.useEffect(()=>{l()},[]),{movements:e,loading:r,error:i,fetchMovements:l,addMovement:c,setError:a}}const Zh=A.createContext(void 0),it=()=>{const e=A.useContext(Zh);if(!e)throw new Error("useApp must be used within an AppProvider");return e},xx=[{id:"550e8400-e29b-41d4-a716-446655440000",name:"Bronze",color:"#CD7F32",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}},{id:"550e8400-e29b-41d4-a716-446655440001",name:"Prata",color:"#C0C0C0",icon:"star",order:2,requirements:{minPoints:1e3,minPurchaseValue:500,timeframe:365},benefits:{pointsMultiplier:1.2,referralBonus:1.5,freeShipping:!0,exclusiveEvents:!1,customRewards:[]}},{id:"550e8400-e29b-41d4-a716-446655440002",name:"Ouro",color:"#FFD700",icon:"crown",order:3,requirements:{minPoints:5e3,minPurchaseValue:2e3,timeframe:365},benefits:{pointsMultiplier:1.5,referralBonus:2,freeShipping:!0,exclusiveEvents:!0,customRewards:[]}}],yx=e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0;for(let i=0;i<9;i++)r+=parseInt(t.charAt(i))*(10-i);let n=r*10%11;if((n===10||n===11)&&(n=0),n!==parseInt(t.charAt(9)))return!1;r=0;for(let i=0;i<10;i++)r+=parseInt(t.charAt(i))*(11-i);return n=r*10%11,(n===10||n===11)&&(n=0),n===parseInt(t.charAt(10))},wn=e=>e.replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),jn=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,document:e.document,points:e.points,level:ef(e.level),status:e.status,registrationDate:e.registration_date,lastPurchase:e.last_purchase,address:e.address,preferences:e.preferences,emailVerified:e.email_verified,phoneVerified:e.phone_verified,documentVerified:e.document_verified}),ef=e=>({id:e.id,name:e.name,color:e.color,icon:e.icon,order:e.order_position,requirements:{minPoints:e.min_points,minPurchaseValue:e.min_purchase_value,timeframe:e.timeframe_days},benefits:{pointsMultiplier:e.points_multiplier,referralBonus:e.referral_bonus,freeShipping:e.free_shipping,exclusiveEvents:e.exclusive_events,customRewards:e.custom_rewards||[]}}),vx=e=>({id:e.id,customerId:e.customer_id,customerDocument:e.customer_document,type:e.type,points:e.points,description:e.description,date:e.date,reference:e.reference,couponCode:e.coupon_code}),wx=({children:e})=>{const{customers:t,loading:r,error:n,addCustomer:i,updateCustomer:a,findCustomerByDocument:l,findCustomerByEmail:c,findCustomerByPhone:o}=px(),{data:u,loading:d,error:m,insert:h,update:p,remove:g}=Sr("customer_levels"),{movements:b,loading:k,error:x,addMovement:f}=gx(),{data:y,loading:w,error:N}=Sr("rewards"),{data:v,loading:C,error:j}=Sr("campaigns"),{data:M,loading:O,error:H}=Sr("referrals"),{data:le,loading:P,error:G,insert:ve,update:Ke,remove:Zt}=Sr("referral_types"),{data:T,loading:D,error:E,update:L}=Sr("settings"),q=t.map(jn),Le=u.length>0?u.map(ef):xx,Qe=b.map(vx),cn=y.map(_=>({id:_.id,name:_.name,description:_.description,pointsCost:_.points_cost,type:_.type,value:_.value,isActive:_.is_active,expirationDays:_.expiration_days,image:_.image_url,conditions:_.conditions})),dt=v.map(_=>({id:_.id,name:_.name,type:_.type,multiplier:_.multiplier,startDate:_.start_date,endDate:_.end_date,products:_.products,isActive:_.is_active,widget:_.widget})),jr=M.map(_=>({id:_.id,referrerId:_.referrer_id,referrerDocument:_.referrer_document,referredId:_.referred_id||"",referredDocument:_.referred_document||"",referredIdentifier:_.referred_identifier,referredIdentifierType:_.referred_identifier_type,referralTypeId:_.referral_type_id,status:_.status,date:_.date,method:_.method,validatedDate:_.validated_date,rejectedReason:_.rejected_reason,purchaseValue:_.purchase_value})),df=le.map(_=>({id:_.id,name:_.name,description:_.description,icon:_.icon,color:_.color,isActive:_.is_active,methods:_.methods,referrerReward:_.referrer_reward,referredReward:_.referred_reward,conditions:_.conditions})),St=T[0]?{company:T[0].company,program:T[0].program,notifications:T[0].notifications,validation:T[0].validation,terms:T[0].terms}:{company:{name:"",website:"",address:""},program:{name:"",primaryColor:"#3B82F6",secondaryColor:"#10B981",font:"Inter",pointsPerReal:1,minPurchaseValue:50,pointsExpiration:{enabled:!0,days:365,notifyDaysBefore:30}},notifications:{email:!0,whatsapp:!0,sms:!1},validation:{requireCpfValidation:!0,requireEmailVerification:!1,requirePhoneVerification:!1,allowDuplicateEmail:!1,allowDuplicatePhone:!0},terms:""},hf=r||d||k||w||C||O||P||D,ff=n||m||x||N||j||H||G||E,Mo=_=>{const R=l(_);return R?jn(R):void 0},Do=_=>{const R=c(_);return R?jn(R):void 0},Lo=_=>{const R=o(_);return R?jn(R):void 0},Fo=(_,R,F)=>{const Et=_.replace(/[^\d]/g,"");if(!yx(Et))return{document:wn(Et),email:R,phone:F,isValid:!1,conflicts:{duplicateDocument:!1}};const ht={};let un=!1;const zo=Mo(Et);if(zo&&(ht.duplicateDocument=!0,ht.existingCustomer=zo,un=!0),R&&!St.validation.allowDuplicateEmail){const er=Do(R);er&&er.document!==wn(Et)&&(ht.duplicateEmail=!0,ht.existingCustomer||(ht.existingCustomer=er),un=!0)}if(F&&!St.validation.allowDuplicatePhone){const er=Lo(F);er&&er.document!==wn(Et)&&(ht.duplicatePhone=!0,ht.existingCustomer||(ht.existingCustomer=er),un=!0)}return{document:wn(Et),email:R,phone:F,isValid:!un,conflicts:un?ht:void 0}},mf=async _=>{if(!Fo(_.document,_.email,_.phone).isValid)return null;try{const F=Le[0];if(!F)return console.error("Nenhum nvel disponvel para atribuir ao cliente"),null;const Et=await i({..._,document:wn(_.document),level:F});return jn(Et)}catch(F){return console.error("Erro ao adicionar cliente:",F),null}},pf=async(_,R)=>{try{await a(_,R)}catch(F){console.error("Erro ao atualizar cliente:",F)}},gf=async _=>{try{await f(_)}catch(R){console.error("Erro ao adicionar movimentao:",R)}},xf=async _=>{try{T[0]&&await L(T[0].id,{company:{...St.company,..._.company},program:{...St.program,..._.program},notifications:{...St.notifications,..._.notifications},validation:{...St.validation,..._.validation},terms:_.terms||St.terms})}catch(R){console.error("Erro ao atualizar configuraes:",R)}},yf=async _=>{try{await h({name:_.name,color:_.color,icon:_.icon,order_position:_.order,min_points:_.requirements.minPoints,min_purchase_value:_.requirements.minPurchaseValue,timeframe_days:_.requirements.timeframe,points_multiplier:_.benefits.pointsMultiplier,referral_bonus:_.benefits.referralBonus,free_shipping:_.benefits.freeShipping,exclusive_events:_.benefits.exclusiveEvents,custom_rewards:_.benefits.customRewards})}catch(R){console.error("Erro ao adicionar nvel:",R)}},vf=async(_,R)=>{try{const F={};R.name&&(F.name=R.name),R.color&&(F.color=R.color),R.icon&&(F.icon=R.icon),R.order&&(F.order_position=R.order),R.requirements&&(R.requirements.minPoints!==void 0&&(F.min_points=R.requirements.minPoints),R.requirements.minPurchaseValue!==void 0&&(F.min_purchase_value=R.requirements.minPurchaseValue),R.requirements.timeframe!==void 0&&(F.timeframe_days=R.requirements.timeframe)),R.benefits&&(R.benefits.pointsMultiplier!==void 0&&(F.points_multiplier=R.benefits.pointsMultiplier),R.benefits.referralBonus!==void 0&&(F.referral_bonus=R.benefits.referralBonus),R.benefits.freeShipping!==void 0&&(F.free_shipping=R.benefits.freeShipping),R.benefits.exclusiveEvents!==void 0&&(F.exclusive_events=R.benefits.exclusiveEvents),R.benefits.customRewards!==void 0&&(F.custom_rewards=R.benefits.customRewards)),await p(_,F)}catch(F){console.error("Erro ao atualizar nvel:",F)}},wf=async _=>{const R=q.filter(F=>F.level.id===_);if(R.length>0){alert(`No  possvel deletar este nvel pois h ${R.length} cliente(s) associado(s) a ele.`);return}if(Le.length<=1){alert("No  possvel deletar o ltimo nvel. Deve haver pelo menos um nvel ativo.");return}try{await g(_)}catch(F){console.error("Erro ao deletar nvel:",F)}},jf=async _=>{try{await ve({name:_.name,description:_.description,icon:_.icon,color:_.color,is_active:_.isActive,methods:_.methods,referrer_reward:_.referrerReward,referred_reward:_.referredReward,conditions:_.conditions})}catch(R){console.error("Erro ao adicionar tipo de indicao:",R)}},bf=async(_,R)=>{try{const F={};R.name&&(F.name=R.name),R.description&&(F.description=R.description),R.icon&&(F.icon=R.icon),R.color&&(F.color=R.color),R.isActive!==void 0&&(F.is_active=R.isActive),R.methods&&(F.methods=R.methods),R.referrerReward&&(F.referrer_reward=R.referrerReward),R.referredReward&&(F.referred_reward=R.referredReward),R.conditions&&(F.conditions=R.conditions),await Ke(_,F)}catch(F){console.error("Erro ao atualizar tipo de indicao:",F)}},Nf=async _=>{try{await Zt(_)}catch(R){console.error("Erro ao deletar tipo de indicao:",R)}};return s.jsx(Zh.Provider,{value:{customers:q,levels:Le,movements:Qe,rewards:cn,campaigns:dt,referrals:jr,referralTypes:df,settings:St,loading:hf,error:ff,updateCustomer:pf,addMovement:gf,updateSettings:xf,addReferralType:jf,updateReferralType:bf,deleteReferralType:Nf,validateCustomer:Fo,findCustomerByDocument:Mo,findCustomerByEmail:Do,findCustomerByPhone:Lo,addCustomer:mf,addLevel:yf,updateLevel:vf,deleteLevel:wf},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:o,...u},d)=>A.createElement("svg",{ref:d,...jx,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${bx(e)}`,c].join(" "),...u},[...t.map(([m,h])=>A.createElement(m,h)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=I("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=I("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=I("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=I("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=I("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=I("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=I("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=I("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=I("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=I("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=I("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=I("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=I("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=I("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=I("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=I("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=I("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zx=({children:e,currentPage:t,onPageChange:r})=>{const[n,i]=A.useState(!1),a=[{id:"dashboard",label:"Dashboard",icon:jt},{id:"customers",label:"Clientes",icon:$l},{id:"branches",label:"Filiais",icon:ji},{id:"levels",label:"Nveis",icon:qe},{id:"movements",label:"Movimentos",icon:jt},{id:"rewards",label:"Recompensas",icon:Ie},{id:"referrals",label:"Indicaes",icon:Bn},{id:"communication",label:"Comunicao",icon:Ci},{id:"objectives",label:"Objetivos",icon:Ks},{id:"settings",label:"Personalizao",icon:af}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-md bg-white shadow-md",children:n?s.jsx(gr,{size:24}):s.jsx(Px,{size:24})})}),s.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[s.jsxs("div",{className:"flex items-center justify-center h-16 bg-blue-600 text-white",children:[s.jsx(Ie,{className:"w-8 h-8 mr-2"}),s.jsx("span",{className:"text-xl font-bold",children:"Cashback Pro"})]}),s.jsx("nav",{className:"mt-8",children:a.map(l=>{const c=l.icon;return s.jsxs("button",{onClick:()=>{r(l.id),i(!1)},className:`w-full flex items-center px-6 py-3 text-left transition-colors ${t===l.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(c,{className:"w-5 h-5 mr-3"}),l.label]},l.id)})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-20 lg:hidden",onClick:()=>i(!1)}),s.jsx("div",{className:"lg:ml-64 p-4 lg:p-8",children:e})]})},mu=()=>{const{customers:e,movements:t,rewards:r,referrals:n}=it(),i=o=>`${o.firstName} ${o.lastName}`.trim(),a=[{title:"Total de Clientes",value:e.length.toString(),icon:$l,color:"bg-blue-500",change:"+12%"},{title:"Pontos Ativos",value:e.reduce((o,u)=>o+u.points,0).toLocaleString(),icon:qe,color:"bg-yellow-500",change:"+8%"},{title:"Resgates do Ms",value:t.filter(o=>o.type==="redeem").length.toString(),icon:Ie,color:"bg-green-500",change:"+15%"},{title:"Indicaes",value:n.length.toString(),icon:Bn,color:"bg-purple-500",change:"+25%"}],l=t.slice(0,5),c=e.sort((o,u)=>u.points-o.points).slice(0,5);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ltima atualizao: ",new Date().toLocaleString("pt-BR")]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(o=>{const u=o.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.value})]}),s.jsx("div",{className:`${o.color} p-3 rounded-full`,children:s.jsx(u,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"mt-4 flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-green-600",children:o.change}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs ms anterior"})]})]},o.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Movimentaes Recentes"}),s.jsx("div",{className:"space-y-4",children:l.map(o=>{const u=e.find(d=>d.id===o.customerId);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o.type==="earn"?"bg-green-100":"bg-red-100"}`,children:s.jsx(jt,{className:`w-5 h-5 ${o.type==="earn"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?i(u):"Cliente no encontrado"}),s.jsx("p",{className:"text-sm text-gray-500",children:o.description})]})]}),s.jsxs("div",{className:`text-sm font-medium ${o.type==="earn"?"text-green-600":"text-red-600"}`,children:[o.type==="earn"?"+":"",o.points," pts"]})]},o.id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Top Clientes"}),s.jsx("div",{className:"space-y-4",children:c.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i(o)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Nvel ",o.level.name]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[o.points.toLocaleString()," pts"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["#",u+1]})]})]},o.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Aes Rpidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx($l,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Adicionar Cliente"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(Ie,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nova Recompensa"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[s.jsx(jt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registrar Pontos"})]})]})]})]})},Ta=[{code:"+55",country:"Brasil",flag:""},{code:"+1",country:"Estados Unidos",flag:""},{code:"+1",country:"Canad",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+56",country:"Chile",flag:""},{code:"+57",country:"Colmbia",flag:""},{code:"+51",country:"Peru",flag:""},{code:"+598",country:"Uruguai",flag:""},{code:"+595",country:"Paraguai",flag:""},{code:"+591",country:"Bolvia",flag:""},{code:"+593",country:"Equador",flag:""},{code:"+58",country:"Venezuela",flag:""},{code:"+33",country:"Frana",flag:""},{code:"+49",country:"Alemanha",flag:""},{code:"+39",country:"Itlia",flag:""},{code:"+34",country:"Espanha",flag:""},{code:"+351",country:"Portugal",flag:""},{code:"+44",country:"Reino Unido",flag:""},{code:"+81",country:"Japo",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"ndia",flag:""},{code:"+61",country:"Austrlia",flag:""}],of={Norte:[{ddd:"68",city:"Rio Branco",state:"AC"},{ddd:"82",city:"Macei",state:"AL"},{ddd:"96",city:"Macap",state:"AP"},{ddd:"92",city:"Manaus",state:"AM"},{ddd:"97",city:"Manaus Interior",state:"AM"},{ddd:"71",city:"Salvador",state:"BA"},{ddd:"73",city:"Ilhus",state:"BA"},{ddd:"74",city:"Juazeiro",state:"BA"},{ddd:"75",city:"Feira de Santana",state:"BA"},{ddd:"77",city:"Barreiras",state:"BA"},{ddd:"85",city:"Fortaleza",state:"CE"},{ddd:"88",city:"Juazeiro do Norte",state:"CE"},{ddd:"61",city:"Braslia",state:"DF"},{ddd:"27",city:"Vitria",state:"ES"},{ddd:"28",city:"Cachoeiro de Itapemirim",state:"ES"},{ddd:"62",city:"Goinia",state:"GO"},{ddd:"64",city:"Rio Verde",state:"GO"},{ddd:"98",city:"So Lus",state:"MA"},{ddd:"99",city:"Imperatriz",state:"MA"},{ddd:"65",city:"Cuiab",state:"MT"},{ddd:"66",city:"Rondonpolis",state:"MT"},{ddd:"67",city:"Campo Grande",state:"MS"},{ddd:"31",city:"Belo Horizonte",state:"MG"},{ddd:"32",city:"Juiz de Fora",state:"MG"},{ddd:"33",city:"Governador Valadares",state:"MG"},{ddd:"34",city:"Uberlndia",state:"MG"},{ddd:"35",city:"Poos de Caldas",state:"MG"},{ddd:"37",city:"Divinpolis",state:"MG"},{ddd:"38",city:"Montes Claros",state:"MG"},{ddd:"91",city:"Belm",state:"PA"},{ddd:"93",city:"Santarm",state:"PA"},{ddd:"94",city:"Marab",state:"PA"},{ddd:"83",city:"Joo Pessoa",state:"PB"},{ddd:"81",city:"Recife",state:"PE"},{ddd:"87",city:"Petrolina",state:"PE"},{ddd:"86",city:"Teresina",state:"PI"},{ddd:"89",city:"Picos",state:"PI"},{ddd:"41",city:"Curitiba",state:"PR"},{ddd:"42",city:"Ponta Grossa",state:"PR"},{ddd:"43",city:"Londrina",state:"PR"},{ddd:"44",city:"Maring",state:"PR"},{ddd:"45",city:"Cascavel",state:"PR"},{ddd:"46",city:"Francisco Beltro",state:"PR"},{ddd:"21",city:"Rio de Janeiro",state:"RJ"},{ddd:"22",city:"Campos dos Goytacazes",state:"RJ"},{ddd:"24",city:"Volta Redonda",state:"RJ"},{ddd:"84",city:"Natal",state:"RN"},{ddd:"69",city:"Porto Velho",state:"RO"},{ddd:"95",city:"Boa Vista",state:"RR"},{ddd:"51",city:"Porto Alegre",state:"RS"},{ddd:"53",city:"Pelotas",state:"RS"},{ddd:"54",city:"Caxias do Sul",state:"RS"},{ddd:"55",city:"Santa Maria",state:"RS"},{ddd:"48",city:"Florianpolis",state:"SC"},{ddd:"47",city:"Joinville",state:"SC"},{ddd:"49",city:"Chapec",state:"SC"},{ddd:"79",city:"Aracaju",state:"SE"},{ddd:"11",city:"So Paulo",state:"SP"},{ddd:"12",city:"So Jos dos Campos",state:"SP"},{ddd:"13",city:"Santos",state:"SP"},{ddd:"14",city:"Bauru",state:"SP"},{ddd:"15",city:"Sorocaba",state:"SP"},{ddd:"16",city:"Ribeiro Preto",state:"SP"},{ddd:"17",city:"So Jos do Rio Preto",state:"SP"},{ddd:"18",city:"Presidente Prudente",state:"SP"},{ddd:"19",city:"Campinas",state:"SP"},{ddd:"63",city:"Palmas",state:"TO"}]},Bx=e=>of.Norte.map(r=>r.ddd).includes(e),cf=e=>of.Norte.find(t=>t.ddd===e),Ux=e=>{const t=e.replace(/[^\d]/g,"");return t.length===9&&t.startsWith("9")},Vx=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");return n.length===9?`${e} ${t} ${n.substring(0,5)}-${n.substring(5)}`:n.length===8?`${e} ${t} ${n.substring(0,4)}-${n.substring(4)}`:`${e} ${t} ${n}`},qx=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");if(e==="+55"){const i=Bx(t),a=Ux(n),l=cf(t);return{isValid:i&&a,formatted:i&&a?Vx(e,t,n):"",errors:{invalidDDD:!i,invalidMobile:!a,requiresNineDigits:n.length!==9,mustStartWithNine:!n.startsWith("9")},areaInfo:l}}else{const i=n.length>=8&&n.length<=15;return{isValid:i,formatted:i?`${e} ${n}`:"",errors:{invalidLength:!i},areaInfo:null}}},uf=({value:e,onChange:t,error:r,placeholder:n="+55 11 99999-9999",className:i=""})=>{var w;const[a,l]=A.useState(Ta[0]),[c,o]=A.useState(!1),[u,d]=A.useState(""),[m,h]=A.useState(""),[p,g]=A.useState(null);A.useEffect(()=>{if(e){const N=e.match(/^(\+\d{1,4})\s(\d{2})\s(.+)$/);if(N){const[,v,C,j]=N,M=Ta.find(O=>O.code===v);M&&(l(M),d(C),h(j.replace(/[^\d]/g,"")))}}},[]),A.useEffect(()=>{if(u&&m){const N=qx(a.code,u,m);g(N),N.isValid&&t(N.formatted)}},[a,u,m,t]);const b=N=>{const v=N.replace(/[^\d]/g,"").substring(0,2);d(v)},k=N=>{let v=N.replace(/[^\d]/g,"");a.code==="+55"?v=v.substring(0,9):v=v.substring(0,15),h(v)},x=N=>a.code==="+55"&&N.length>=5?`${N.substring(0,5)}-${N.substring(5)}`:N,y=a.code==="+55"&&u?cf(u):null;return s.jsxs("div",{className:`relative ${i}`,children:[s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>o(!c),className:"flex items-center px-3 py-2 border border-r-0 border-gray-300 rounded-l-lg bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("span",{className:"mr-2",children:a.flag}),s.jsx("span",{className:"text-sm font-medium",children:a.code}),s.jsx(_x,{className:"w-4 h-4 ml-1 text-gray-400"})]}),c&&s.jsx("div",{className:"absolute top-full left-0 z-50 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ta.map(N=>s.jsxs("button",{type:"button",onClick:()=>{l(N),o(!1),d(""),h("")},className:"flex items-center w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[s.jsx("span",{className:"mr-3",children:N.flag}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:N.country}),s.jsx("div",{className:"text-xs text-gray-500",children:N.code})]}),a.code===N.code&&a.country===N.country&&s.jsx(Gr,{className:"w-4 h-4 text-blue-600"})]},`${N.code}-${N.country}`))})]}),a.code==="+55"&&s.jsx("input",{type:"text",value:u,onChange:N=>b(N.target.value),placeholder:"11",maxLength:2,className:`w-16 px-2 py-2 border-t border-b border-gray-300 text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${(w=p==null?void 0:p.errors)!=null&&w.invalidDDD?"border-red-300 bg-red-50":""}`}),s.jsx("input",{type:"text",value:x(m),onChange:N=>k(N.target.value),placeholder:a.code==="+55"?"99999-9999":"999999999",className:`flex-1 px-3 py-2 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p&&!p.isValid?"border-red-300 bg-red-50":""}`})]}),y&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[s.jsx(Gr,{className:"w-3 h-3 mr-1"}),y.city," - ",y.state]}),p&&!p.isValid&&s.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rl,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:a.code==="+55"?s.jsxs(s.Fragment,{children:[p.errors.invalidDDD&&"DDD invlido. ",p.errors.requiresNineDigits&&"Celular deve ter 9 dgitos. ",p.errors.mustStartWithNine&&"Celular deve comear com 9. "]}):p.errors.invalidLength&&"Nmero deve ter entre 8 e 15 dgitos."})]})}),(p==null?void 0:p.isValid)&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[s.jsx(Gr,{className:"w-3 h-3 mr-1"}),"Nmero vlido: ",p.formatted]}),r&&s.jsxs("div",{className:"mt-1 text-xs text-red-600 flex items-center",children:[s.jsx(Rl,{className:"w-3 h-3 mr-1"}),r]}),c&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})},Hx=({customer:e,onBack:t})=>{const{movements:r,levels:n,updateCustomer:i,addMovement:a}=it(),[l,c]=A.useState(!1),[o,u]=A.useState(e),[d,m]=A.useState(0),[h,p]=A.useState(""),g=r.filter(w=>w.customerId===e.id),b=w=>`${w.firstName} ${w.lastName}`.trim(),k=()=>{i(e.id,o),c(!1)},x=()=>{if(d&&h){const w={customerId:e.id,customerDocument:e.document,type:"admin_adjust",points:d,description:h,date:new Date().toISOString().split("T")[0]};a(w),i(e.id,{points:e.points+d}),m(0),p("")}},f=w=>{const v=w?`ONLINE-${Date.now()}`:void 0,C={customerId:e.id,customerDocument:e.document,type:"redeem",points:-100,description:`Resgate ${w?"online":"offline"}: Desconto R$ 10,00`,date:new Date().toISOString().split("T")[0],couponCode:v};a(C),i(e.id,{points:e.points-100})},y=w=>{const N=w.replace(/[^\d]/g,"");let v=N;N.length>=4&&(v=N.replace(/(\d{3})(\d{1,3})/,"$1.$2")),N.length>=7&&(v=N.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),N.length>=10&&(v=N.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),u({...o,document:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:t,className:"mr-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Nx,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Detalhes do Cliente"})]}),s.jsxs("button",{onClick:()=>c(!l),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ve,{className:"w-4 h-4 mr-2"}),l?"Cancelar":"Editar"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:o.firstName,onChange:w=>u({...o,firstName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),s.jsx("input",{type:"text",value:o.lastName,onChange:w=>u({...o,lastName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Sobrenome"})]})]}),s.jsx("input",{type:"email",value:o.email,onChange:w=>u({...o,email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Email"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx(uf,{value:o.phone,onChange:w=>u({...o,phone:w})})]}),s.jsx("input",{type:"text",value:o.document,onChange:w=>y(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF",maxLength:14}),s.jsx("button",{onClick:k,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Salvar Alteraes"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b(e)}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Io,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Oo,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.document})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Saldo de Pontos"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qe,{className:"w-8 h-8 text-yellow-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.points.toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-500",children:"pontos disponveis"})]})]}),s.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Status"}),s.jsxs("select",{value:e.status,onChange:w=>i(e.id,{status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"inactive",children:"Inativo"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nvel"}),s.jsx("select",{value:e.level.id,onChange:w=>{const N=n.find(v=>v.id===w.target.value);N&&i(e.id,{level:N})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:n.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gerenciar Pontos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:d,onChange:w=>m(Number(w.target.value)),placeholder:"Pontos",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:h,onChange:w=>p(w.target.value),placeholder:"Motivo",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Pontos"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resgatar Recompensa"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>f(!0),className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Resgate Online"}),s.jsx("button",{onClick:()=>f(!1),className:"bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Resgate Offline"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Histrico de Pontos"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g.map(w=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.type==="earn"?"bg-green-100":w.type==="redeem"?"bg-red-100":w.type==="admin_adjust"?"bg-blue-100":"bg-gray-100"}`,children:[w.type==="earn"&&s.jsx(jt,{className:"w-4 h-4 text-green-600"}),w.type==="redeem"&&s.jsx(Ie,{className:"w-4 h-4 text-red-600"}),w.type==="admin_adjust"&&s.jsx(Ve,{className:"w-4 h-4 text-blue-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.description}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.date).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:`text-sm font-semibold ${w.points>0?"text-green-600":"text-red-600"}`,children:[w.points>0?"+":"",w.points," pts"]})]}),w.couponCode&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Cupom: ",w.couponCode]})]})]},w.id))})]})]})]})},Wx=()=>{var C,j,M,O,H,le;const{customers:e,validateCustomer:t,addCustomer:r,levels:n}=it(),[i,a]=A.useState(""),[l,c]=A.useState("all"),[o,u]=A.useState(null),[d,m]=A.useState(!1),[h,p]=A.useState({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),[g,b]=A.useState(null),k=P=>`${P.firstName} ${P.lastName}`.trim(),x=e.filter(P=>{const ve=k(P).toLowerCase().includes(i.toLowerCase())||P.email.toLowerCase().includes(i.toLowerCase())||P.document.includes(i),Ke=l==="all"||P.status===l;return ve&&Ke}),f=P=>{const G=P.replace(/[^\d]/g,"");let ve=G;if(G.length>=4&&(ve=G.replace(/(\d{3})(\d{1,3})/,"$1.$2")),G.length>=7&&(ve=G.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),G.length>=10&&(ve=G.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),p({...h,document:ve}),G.length===11){const Ke=t(G,h.email,h.phone);b(Ke)}else b(null)},y=P=>{if(p({...h,email:P}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,P,h.phone);b(G)}},w=P=>{if(p({...h,phone:P}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,h.email,P);b(G)}},N=()=>{if(!(g!=null&&g.isValid))return;const P={...h,level:n[0],registrationDate:new Date().toISOString().split("T")[0],emailVerified:!1,phoneVerified:!1,documentVerified:!0};r(P)&&(m(!1),p({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),b(null))},v=P=>{const ve=[P.documentVerified,P.emailVerified,P.phoneVerified].filter(Boolean).length;return ve===3?s.jsx(bi,{className:"w-4 h-4 text-green-600"}):ve>=1?s.jsx(Rl,{className:"w-4 h-4 text-yellow-600"}):s.jsx(Fx,{className:"w-4 h-4 text-red-600"})};return o?s.jsx(Hx,{customer:o,onBack:()=>u(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clientes"}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou CPF...",value:i,onChange:P=>a(P.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"inactive",children:"Inativo"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPF"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verificao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nvel"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima Compra"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[P.firstName.charAt(0),P.lastName.charAt(0)]})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k(P)}),s.jsx("div",{className:"text-sm text-gray-500",children:P.email}),s.jsx("div",{className:"text-sm text-gray-500",children:P.phone})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.document})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[v(P),s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsxs("div",{className:P.documentVerified?"text-green-600":"text-red-600",children:["CPF: ",P.documentVerified?"Verificado":"Pendente"]}),s.jsxs("div",{className:P.emailVerified?"text-green-600":"text-red-600",children:["Email: ",P.emailVerified?"Verificado":"Pendente"]}),s.jsxs("div",{className:P.phoneVerified?"text-green-600":"text-red-600",children:["Tel: ",P.phoneVerified?"Verificado":"Pendente"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qe,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.points.toLocaleString()})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:P.level.color+"20",color:P.level.color},children:P.level.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="active"?"Ativo":"Inativo"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.lastPurchase?new Date(P.lastPurchase).toLocaleDateString("pt-BR"):"Nunca"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>u(P),className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(Tx,{className:"w-4 h-4"})})]})]},P.id))})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clientes Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(P=>P.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(bi,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Totalmente Verificados"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(P=>P.documentVerified&&P.emailVerified&&P.phoneVerified).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(qe,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Totais"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((P,G)=>P+G.points,0).toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ie,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Mdia de Pontos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Math.round(e.reduce((P,G)=>P+G.points,0)/e.length).toLocaleString()})]})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Cliente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:h.firstName,onChange:P=>p({...h,firstName:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Joo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),s.jsx("input",{type:"text",value:h.lastName,onChange:P=>p({...h,lastName:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Silva"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF (Chave Primria)"}),s.jsx("input",{type:"text",value:h.document,onChange:P=>f(P.target.value),placeholder:"000.000.000-00",maxLength:14,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${g&&!g.isValid?"border-red-300":"border-gray-300"}`}),g&&!g.isValid&&s.jsxs("div",{className:"mt-1 text-sm text-red-600",children:[((C=g.conflicts)==null?void 0:C.duplicateDocument)&&"CPF j cadastrado",!((j=g.conflicts)!=null&&j.duplicateDocument)&&"CPF invlido"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Chave Secundria)"}),s.jsx("input",{type:"email",value:h.email,onChange:P=>y(P.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${(M=g==null?void 0:g.conflicts)!=null&&M.duplicateEmail?"border-red-300":"border-gray-300"}`,placeholder:"joao@email.com"}),((O=g==null?void 0:g.conflicts)==null?void 0:O.duplicateEmail)&&s.jsx("div",{className:"mt-1 text-sm text-red-600",children:"Email j cadastrado para outro CPF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone Celular (Chave Secundria)"}),s.jsx(uf,{value:h.phone,onChange:w,placeholder:"+55 85 99999-9999",error:(H=g==null?void 0:g.conflicts)!=null&&H.duplicatePhone?"Telefone j cadastrado para outro CPF":void 0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Iniciais"}),s.jsx("input",{type:"number",value:h.points,onChange:P=>p({...h,points:Number(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),((le=g==null?void 0:g.conflicts)==null?void 0:le.existingCustomer)&&s.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cliente Existente Encontrado:"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:[k(g.conflicts.existingCustomer)," - ",g.conflicts.existingCustomer.document]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{m(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:N,disabled:!(g!=null&&g.isValid),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Adicionar Cliente"})]})]})})]})},Gx=()=>{const{branches:e,addBranch:t,updateBranch:r,deleteBranch:n}=it(),[i,a]=A.useState(!1),[l,c]=A.useState(null),[o,u]=A.useState({name:"",code:"",address:"",phone:"",email:"",manager:"",isActive:!0,color:"#3B82F6"}),d=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],m=()=>{u({name:"",code:"",address:"",phone:"",email:"",manager:"",isActive:!0,color:"#3B82F6"})},h=f=>{f?(c(f),u({name:f.name,code:f.code,address:f.address,phone:f.phone,email:f.email,manager:f.manager,isActive:f.isActive,color:f.color})):(c(null),m()),a(!0)},p=()=>{a(!1),c(null),m()},g=f=>{if(f.preventDefault(),!o.name.trim()||!o.code.trim()){alert("Nome e cdigo da filial so obrigatrios");return}l?r(l.id,o):t(o),p()},b=f=>{confirm(`Tem certeza que deseja deletar a filial "${f.name}"?`)&&n(f.id)},k=f=>{const y=f.replace(/\D/g,"");return y.length===11?y.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):y.length===10?y.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):f},x=f=>{const y=k(f);u({...o,phone:y})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Filiais"}),s.jsxs("button",{onClick:()=>h(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Nova Filial"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ji,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Filiais"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ki,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filiais Ativas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(f=>f.isActive).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Ni,{className:"w-5 h-5 text-red-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filiais Inativas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(f=>!f.isActive).length})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:f.color+"20"},children:s.jsx(ji,{className:"w-6 h-6",style:{color:f.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-500",children:f.code})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f.isActive?s.jsx(ki,{className:"w-4 h-4 text-green-600"}):s.jsx(Ni,{className:"w-4 h-4 text-gray-400"}),s.jsx("button",{onClick:()=>h(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(f),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(rf,{className:"w-4 h-4 text-gray-400 mr-2 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.address})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Io,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_i,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.email})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Si,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.manager})]}),s.jsx("div",{className:"pt-2",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.isActive?"Ativa":"Inativa"})})]})]},f.id))}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Filial":"Nova Filial"}),s.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(gr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Filial"}),s.jsx("input",{type:"text",value:o.name,onChange:f=>u({...o,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Filial Centro",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo"}),s.jsx("input",{type:"text",value:o.code,onChange:f=>u({...o,code:f.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: FIL001",maxLength:10,required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo"}),s.jsx("input",{type:"text",value:o.address,onChange:f=>u({...o,address:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Rua, nmero, bairro, cidade",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"text",value:o.phone,onChange:f=>x(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:o.email,onChange:f=>u({...o,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"filial@empresa.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gerente"}),s.jsx("input",{type:"text",value:o.manager,onChange:f=>u({...o,manager:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do gerente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Identificao"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(f=>s.jsx("button",{type:"button",onClick:()=>u({...o,color:f}),className:`w-10 h-10 rounded-full border-2 transition-all ${o.color===f?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:f}},f))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:f=>u({...o,isActive:f.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Filial ativa"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Filial"]})]})]})]})})]})},Kx=()=>{const{levels:e,addLevel:t,updateLevel:r,deleteLevel:n}=it(),[i,a]=A.useState(!1),[l,c]=A.useState(null),[o,u]=A.useState({name:"",color:"#3B82F6",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),[d,m]=A.useState(""),h={award:Sn,star:qe,crown:Al,trophy:fu,gem:hu},p=[{value:"award",label:"Prmio",icon:Sn},{value:"star",label:"Estrela",icon:qe},{value:"crown",label:"Coroa",icon:Al},{value:"trophy",label:"Trofu",icon:fu},{value:"gem",label:"Gema",icon:hu}],g=["#CD7F32","#C0C0C0","#FFD700","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899"],b=()=>{u({name:"",color:"#3B82F6",icon:"award",order:e.length+1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),m("")},k=v=>{v?(c(v),u({name:v.name,color:v.color,icon:v.icon,order:v.order,requirements:v.requirements,benefits:v.benefits})):(c(null),b()),a(!0)},x=()=>{a(!1),c(null),b()},f=v=>{if(v.preventDefault(),!o.name.trim()){alert("Nome do nvel  obrigatrio");return}const C={...o,requirements:{minPoints:o.requirements.minPoints||void 0,minPurchaseValue:o.requirements.minPurchaseValue||void 0,timeframe:o.requirements.timeframe||void 0}};l?r(l.id,C):t(C),x()},y=()=>{d.trim()&&(u({...o,benefits:{...o.benefits,customRewards:[...o.benefits.customRewards,d.trim()]}}),m(""))},w=v=>{u({...o,benefits:{...o.benefits,customRewards:o.benefits.customRewards.filter((C,j)=>j!==v)}})},N=v=>{confirm(`Tem certeza que deseja deletar o nvel "${v.name}"?`)&&n(v.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nveis de Clientes"}),s.jsxs("button",{onClick:()=>k(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Novo Nvel"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>{var j;const C=h[v.icon]||Sn;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:v.color+"20"},children:s.jsx(C,{className:"w-6 h-6",style:{color:v.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Ordem: ",v.order]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>k(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(v),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Mnimo: ",((j=v.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),v.requirements.minPurchaseValue&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Compra mnima: R$ ",v.requirements.minPurchaseValue.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Benefcios"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("li",{children:[" ",v.benefits.pointsMultiplier,"x pontos em compras"]}),s.jsxs("li",{children:[" ",v.benefits.referralBonus,"x pontos em indicaes"]}),v.benefits.freeShipping&&s.jsx("li",{children:" Frete grtis"}),v.benefits.exclusiveEvents&&s.jsx("li",{children:" Eventos exclusivos"}),v.benefits.customRewards.map((M,O)=>s.jsxs("li",{children:[" ",M]},O))]})]})]})]},v.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resumo dos Nveis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nvel"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requisitos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Multiplicador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benefcios"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>{var j;const C=h[v.icon]||Sn;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:v.color+"20"},children:s.jsx(C,{className:"w-4 h-4",style:{color:v.color}})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Ordem ",v.order]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((j=v.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.benefits.pointsMultiplier,"x"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.benefits.freeShipping&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Frete grtis"}),v.benefits.exclusiveEvents&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Eventos"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>k(v),className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(v),className:"text-red-600 hover:text-red-900",children:s.jsx(rn,{className:"w-4 h-4"})})]})]},v.id)})})]})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Nvel":"Novo Nvel"}),s.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(gr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Nvel"}),s.jsx("input",{type:"text",value:o.name,onChange:v=>u({...o,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Bronze, Prata, Ouro",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem"}),s.jsx("input",{type:"number",value:o.order,onChange:v=>u({...o,order:Number(v.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"cone"}),s.jsx("div",{className:"grid grid-cols-5 gap-3",children:p.map(v=>{const C=v.icon;return s.jsxs("button",{type:"button",onClick:()=>u({...o,icon:v.value}),className:`p-3 border-2 rounded-lg flex flex-col items-center justify-center transition-colors ${o.icon===v.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(C,{className:"w-6 h-6 mb-1"}),s.jsx("span",{className:"text-xs",children:v.label})]},v.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>s.jsx("button",{type:"button",onClick:()=>u({...o,color:v}),className:`w-10 h-10 rounded-full border-2 transition-all ${o.color===v?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:v}},v))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Requisitos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Mnimos"}),s.jsx("input",{type:"number",value:o.requirements.minPoints||"",onChange:v=>u({...o,requirements:{...o.requirements,minPoints:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mnima (R$)"}),s.jsx("input",{type:"number",value:o.requirements.minPurchaseValue||"",onChange:v=>u({...o,requirements:{...o.requirements,minPurchaseValue:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo (dias)"}),s.jsx("input",{type:"number",value:o.requirements.timeframe||"",onChange:v=>u({...o,requirements:{...o.requirements,timeframe:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Benefcios"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Multiplicador de Pontos"}),s.jsx("input",{type:"number",value:o.benefits.pointsMultiplier,onChange:v=>u({...o,benefits:{...o.benefits,pointsMultiplier:Number(v.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bnus de Indicao"}),s.jsx("input",{type:"number",value:o.benefits.referralBonus,onChange:v=>u({...o,benefits:{...o.benefits,referralBonus:Number(v.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"freeShipping",checked:o.benefits.freeShipping,onChange:v=>u({...o,benefits:{...o.benefits,freeShipping:v.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"freeShipping",className:"ml-2 block text-sm text-gray-900",children:"Frete grtis"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"exclusiveEvents",checked:o.benefits.exclusiveEvents,onChange:v=>u({...o,benefits:{...o.benefits,exclusiveEvents:v.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"exclusiveEvents",className:"ml-2 block text-sm text-gray-900",children:"Eventos exclusivos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recompensas Personalizadas"}),s.jsxs("div",{className:"space-y-2",children:[o.benefits.customRewards.map((v,C)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:v}),s.jsx("button",{type:"button",onClick:()=>w(C),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(gr,{className:"w-4 h-4"})})]},C)),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:d,onChange:v=>m(v.target.value),placeholder:"Digite uma recompensa personalizada",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:v=>{v.key==="Enter"&&(v.preventDefault(),y())}}),s.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Nvel"]})]})]})]})})]})},Qx=({customer:e,movement:t,onClose:r})=>{const{settings:n}=it(),i=o=>`${o.firstName} ${o.lastName}`.trim(),a=o=>new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=()=>{window.print()},c=({viaNumber:o})=>s.jsxs("div",{className:"receipt-content bg-white p-6 border border-gray-300 rounded-lg mb-4",children:[s.jsxs("div",{className:"text-center border-b border-gray-200 pb-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(Ie,{className:"w-8 h-8 text-blue-600 mr-2"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.company.name})]}),s.jsx("p",{className:"text-sm text-gray-600",children:n.program.name}),s.jsx("p",{className:"text-xs text-gray-500",children:n.company.website}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s.jsxs("strong",{children:["COMPROVANTE DE RESGATE - ",o," VIA"]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Si,{className:"w-4 h-4 mr-1"}),"Dados do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nome:"})," ",i(e)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CPF:"})," ",e.document]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Telefone:"})," ",e.phone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nvel:"}),s.jsx("span",{className:"ml-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Pontos Disponveis:"})," ",e.points.toLocaleString()]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Ie,{className:"w-4 h-4 mr-1"}),"Detalhes do Resgate"]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Descrio:"})," ",t.description]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Pontos Resgatados:"}),s.jsxs("span",{className:"text-red-600 font-bold",children:[Math.abs(t.points)," pontos"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data/Hora:"})," ",a(t.date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Referncia:"})," ",t.reference||"N/A"]}),t.couponCode&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Cdigo do Cupom:"}),s.jsx("span",{className:"ml-1 px-2 py-1 bg-blue-100 text-blue-800 rounded font-mono text-sm",children:t.couponCode})]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(qe,{className:"w-4 h-4 mr-1"}),"Saldo Atualizado"]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Saldo atual de pontos:"}),s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(e.points+t.points).toLocaleString()," pontos"]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Oo,{className:"w-4 h-4 mr-1"}),"Informaes Importantes"]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsx("p",{children:" Este comprovante  vlido como prova de resgate de pontos"}),s.jsx("p",{children:" Guarde este comprovante para seus registros"}),s.jsx("p",{children:" Em caso de dvidas, entre em contato conosco"}),t.couponCode&&s.jsx("p",{children:" O cdigo do cupom deve ser apresentado no momento da compra"}),n.program.pointsExpiration.enabled&&s.jsxs("p",{children:[" Pontos expiram em ",n.program.pointsExpiration.days," dias"]})]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 text-center",children:s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsx("p",{children:n.company.address}),s.jsxs("p",{className:"mt-1",children:[s.jsx("span",{className:"font-medium",children:"Data de Emisso:"})," ",a(new Date().toISOString())]}),s.jsx("p",{className:"mt-2 text-xs",children:s.jsx("strong",{children:"Obrigado por participar do nosso programa de fidelidade!"})})]})})]});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"no-print flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comprovante de Resgate"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ax,{className:"w-4 h-4 mr-2"}),"Imprimir"]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(gr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(c,{viaNumber:1}),s.jsx("div",{className:"print-only border-t-2 border-dashed border-gray-400 my-4 page-break"}),s.jsx(c,{viaNumber:2})]})]})})};function Jx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=new Uint8Array(e);return crypto.getRandomValues(r),Array.from(r,n=>t[n%t.length]).join("")}function pu(e="online"){const t=Date.now().toString(36).toUpperCase(),r=Jx(6);return`${e==="online"?"ON":"OF"}-${t}-${r}`}const Xx=()=>{const{movements:e,customers:t,addMovement:r,updateCustomer:n,findCustomerByDocument:i}=it(),[a,l]=A.useState(""),[c,o]=A.useState("all"),[u,d]=A.useState(!1),[m,h]=A.useState(null),[p,g]=A.useState(""),[b,k]=A.useState(null),[x,f]=A.useState({type:"earn",points:0,description:"",reference:"",couponCode:""}),[y,w]=A.useState(!1),[N,v]=A.useState(null),C=E=>`${E.firstName} ${E.lastName}`.trim(),j=e.filter(E=>{const L=t.find(Qe=>Qe.id===E.customerId),q=L&&C(L).toLowerCase().includes(a.toLowerCase())||E.description.toLowerCase().includes(a.toLowerCase()),Le=c==="all"||E.type===c;return q&&Le}),M=E=>{const L=E.replace(/[^\d]/g,"");let q=L;if(L.length>=4&&(q=L.replace(/(\d{3})(\d{1,3})/,"$1.$2")),L.length>=7&&(q=L.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),L.length>=10&&(q=L.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),g(q),L.length===11){const Le=i(L);k(Le||null)}else k(null)},O=()=>{h("add_points"),f({type:"earn",points:0,description:"",reference:"",couponCode:""}),g(""),k(null),d(!0)},H=()=>{h("redeem_offline");const E=pu("offline");f({type:"redeem",points:100,description:"Resgate offline: Desconto R$ 10,00",reference:"",couponCode:E}),g(""),k(null),d(!0)},le=()=>{h("redeem_online");const E=pu("online");f({type:"redeem",points:100,description:"Resgate online: Desconto R$ 10,00",reference:"",couponCode:E}),g(""),k(null),d(!0)},P=()=>{d(!1),h(null),g(""),k(null),f({type:"earn",points:0,description:"",reference:"",couponCode:""})},G=()=>{if(b&&x.points&&x.description){const E={customerId:b.id,customerDocument:b.document,type:x.type,points:x.type==="redeem"?-Math.abs(x.points):x.points,description:x.description,date:new Date().toISOString().split("T")[0],reference:x.reference||void 0,couponCode:x.couponCode||void 0};r(E);const L=x.type==="redeem"?-Math.abs(x.points):x.points;if(n(b.id,{points:b.points+L}),x.type==="redeem"){const q={...E,id:Date.now().toString()};v({customer:b,movement:q}),w(!0)}P()}},ve=()=>{w(!1),v(null)},Ke=E=>{switch(E){case"earn":return s.jsx(jt,{className:"w-5 h-5 text-green-600"});case"redeem":return s.jsx(Ie,{className:"w-5 h-5 text-red-600"});case"admin_adjust":return s.jsx(Ve,{className:"w-5 h-5 text-blue-600"});default:return s.jsx(jt,{className:"w-5 h-5 text-gray-600"})}},Zt=E=>{switch(E){case"earn":return"Ganho";case"redeem":return"Resgate";case"admin_adjust":return"Ajuste Admin";case"referral":return"Indicao";case"expire":return"Expirao";case"refund":return"Reembolso";default:return E}},T=()=>{switch(m){case"add_points":return"Registrar Nova Compra";case"redeem_offline":return"Resgate Offline";case"redeem_online":return"Resgate Online";default:return"Nova Movimentao"}},D=()=>{switch(m){case"add_points":return"Registrar Compra";case"redeem_offline":return"Confirmar Resgate";case"redeem_online":return"Gerar Cupom";default:return"Adicionar"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Movimentos de Pontos"}),s.jsxs("button",{onClick:O,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Nova Movimentao"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrio...",value:a,onChange:E=>l(E.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:c,onChange:E=>o(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"earn",children:"Ganho"}),s.jsx("option",{value:"redeem",children:"Resgate"}),s.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Offline"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom para impresso"})]}),s.jsx($x,{className:"w-8 h-8 text-blue-600"})]}),s.jsx("button",{onClick:H,className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Iniciar Resgate"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Online"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom digital"})]}),s.jsx(nf,{className:"w-8 h-8 text-green-600"})]}),s.jsx("button",{onClick:le,className:"mt-4 w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Gerar Cupom"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acumular Pontos"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Registrar compra"})]}),s.jsx(jt,{className:"w-8 h-8 text-yellow-600"})]}),s.jsx("button",{onClick:O,className:"mt-4 w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Registrar Compra"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referncia"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(E=>{const L=t.find(q=>q.id===E.customerId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(E.date).toLocaleDateString("pt-BR")}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:L?C(L):"Cliente no encontrado"}),s.jsx("div",{className:"text-sm text-gray-500",children:L==null?void 0:L.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[Ke(E.type),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:Zt(E.type)})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[E.description,E.couponCode&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 font-mono",children:["Cupom: ",E.couponCode]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`text-sm font-semibold ${E.points>0?"text-green-600":"text-red-600"}`,children:[E.points>0?"+":"",E.points]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.reference||"-"})]},E.id)})})]})})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:T()}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF do Cliente"}),s.jsx("input",{type:"text",value:p,onChange:E=>M(E.target.value),placeholder:"000.000.000-00",maxLength:14,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),p.replace(/[^\d]/g,"").length===11&&s.jsx("div",{className:"mt-2",children:b?s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[b.firstName.charAt(0),b.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:C(b)}),s.jsxs("p",{className:"text-xs text-green-600",children:[b.email,"  ",b.points," pontos"]})]})]})}):s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800",children:"Cliente no encontrado com este CPF"})})})]}),!m&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:x.type,onChange:E=>f({...x,type:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"earn",children:"Ganho"}),s.jsx("option",{value:"redeem",children:"Resgate"}),s.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m==="add_points"?"Pontos Ganhos":"Pontos"}),s.jsx("input",{type:"number",value:x.points,onChange:E=>f({...x,points:Number(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:x.description,onChange:E=>f({...x,description:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:m==="add_points"?"Ex: Compra no valor de R$ 150,00":m==="redeem_offline"?"Ex: Resgate offline: Desconto R$ 10,00":m==="redeem_online"?"Ex: Resgate online: Desconto R$ 10,00":"Descrio da movimentao"})]}),m==="add_points"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referncia (opcional)"}),s.jsx("input",{type:"text",value:x.reference,onChange:E=>f({...x,reference:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pedido #12345"})]}),(m==="redeem_offline"||m==="redeem_online")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo do Cupom"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:x.couponCode,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"}),s.jsx("div",{className:"absolute right-2 top-2",children:s.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"nico"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cdigo nico gerado automaticamente para este resgate"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:G,disabled:!b,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:D()})]})]})}),y&&N&&s.jsx(Qx,{customer:N.customer,movement:N.movement,onClose:ve})]})},Yx=()=>{const{rewards:e}=it(),[t,r]=A.useState(!1),[n,i]=A.useState(null),[a,l]=A.useState({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30}),c=()=>{r(!1),i(null),l({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30})},o=d=>{switch(d){case"discount":return"Desconto";case"product":return"Produto";case"service":return"Servio";case"custom":return"Personalizado";default:return d}},u=d=>{switch(d){case"discount":return s.jsx(Ie,{className:"w-5 h-5 text-green-600"});case"product":return s.jsx(qe,{className:"w-5 h-5 text-blue-600"});case"service":return s.jsx(tf,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Ie,{className:"w-5 h-5 text-gray-600"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recompensas"}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Nova Recompensa"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configurao de Pontos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),s.jsx("input",{type:"number",defaultValue:1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quantos pontos vale cada R$1,00 gasto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mnimo de Compra (R$)"}),s.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor mnimo para acumular pontos"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expirao de Pontos (dias)"}),s.jsx("input",{type:"number",defaultValue:365,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias para expirao dos pontos"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[u(d.type),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),s.jsx("p",{className:"text-sm text-gray-500",children:o(d.type)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[d.isActive?s.jsx(ki,{className:"w-4 h-4 text-green-600"}):s.jsx(Ni,{className:"w-4 h-4 text-gray-400"}),s.jsx("button",{onClick:()=>{i(d),r(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custo:"}),s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[d.pointsCost," pontos"]})]}),d.type==="discount"&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Desconto:"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["R$ ",d.value]})]}),d.expirationDays&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Validade:"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[d.expirationDays," dias"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),s.jsx("span",{className:`text-sm font-medium ${d.isActive?"text-green-600":"text-red-600"}`,children:d.isActive?"Ativa":"Inativa"})]})]})]},d.id))}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Editar Recompensa":"Nova Recompensa"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:n?n.name:a.name,onChange:d=>n?i({...n,name:d.target.value}):l({...a,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n?n.description:a.description,onChange:d=>n?i({...n,description:d.target.value}):l({...a,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:n?n.type:a.type,onChange:d=>n?i({...n,type:d.target.value}):l({...a,type:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"discount",children:"Desconto"}),s.jsx("option",{value:"product",children:"Produto"}),s.jsx("option",{value:"service",children:"Servio"}),s.jsx("option",{value:"custom",children:"Personalizado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo em Pontos"}),s.jsx("input",{type:"number",value:n?n.pointsCost:a.pointsCost,onChange:d=>n?i({...n,pointsCost:Number(d.target.value)}):l({...a,pointsCost:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",value:n?n.value:a.value,onChange:d=>n?i({...n,value:Number(d.target.value)}):l({...a,value:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),s.jsx("input",{type:"number",value:n?n.expirationDays||30:a.expirationDays,onChange:d=>n?i({...n,expirationDays:Number(d.target.value)}):l({...a,expirationDays:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n?n.isActive:a.isActive,onChange:d=>n?i({...n,isActive:d.target.checked}):l({...a,isActive:d.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Recompensa ativa"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{r(!1),i(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:c,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"})]})]})})]})},Zx=()=>{const{referrals:e,referralTypes:t,customers:r,addReferralType:n,updateReferralType:i,deleteReferralType:a}=it(),[l,c]=A.useState("list"),[o,u]=A.useState(!1),[d,m]=A.useState(null),[h,p]=A.useState({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),g=j=>`${j.firstName} ${j.lastName}`.trim(),b=j=>{switch(j){case"validated":return s.jsx(Gr,{className:"w-5 h-5 text-green-600"});case"rejected":return s.jsx(gr,{className:"w-5 h-5 text-red-600"});case"pending":return s.jsx(Pa,{className:"w-5 h-5 text-yellow-600"});default:return s.jsx(Pa,{className:"w-5 h-5 text-gray-600"})}},k=j=>{switch(j){case"validated":return"Validada";case"rejected":return"Rejeitada";case"pending":return"Pendente";default:return j}},x=j=>{switch(j){case"email":return s.jsx(_i,{className:"w-4 h-4"});case"whatsapp":return s.jsx(Ci,{className:"w-4 h-4"});case"sms":return s.jsx(lf,{className:"w-4 h-4"});case"qrcode":return s.jsx(nf,{className:"w-4 h-4"});default:return s.jsx(Bn,{className:"w-4 h-4"})}},f=j=>{switch(j){case"crown":return s.jsx(Al,{className:"w-5 h-5"});case"heart":return s.jsx(Sx,{className:"w-5 h-5"});case"building":return s.jsx(ji,{className:"w-5 h-5"});case"gift":return s.jsx(Ie,{className:"w-5 h-5"});default:return s.jsx(Bn,{className:"w-5 h-5"})}},y=j=>{switch(j){case"fixed":return"Valor Fixo (R$)";case"percentage":return"Percentual (%)";case"points":return"Pontos";case"gift":return"Brinde";default:return j}},w=()=>{d?i(d.id,h):n(h),u(!1),m(null),p({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}})},N=j=>{m(j),p({name:j.name,description:j.description,icon:j.icon,color:j.color,isActive:j.isActive,methods:j.methods,referrerReward:j.referrerReward,referredReward:j.referredReward,conditions:j.conditions||{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),u(!0)},v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],C=[{value:"user-plus",label:"Usurio Plus"},{value:"crown",label:"Coroa"},{value:"heart",label:"Corao"},{value:"building",label:"Prdio"},{value:"gift",label:"Presente"},{value:"star",label:"Estrela"},{value:"award",label:"Prmio"},{value:"trophy",label:"Trofu"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistema de Indicaes"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>c("list"),className:`px-4 py-2 rounded-lg transition-colors ${l==="list"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Indicaes"}),s.jsx("button",{onClick:()=>c("types"),className:`px-4 py-2 rounded-lg transition-colors ${l==="types"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tipos de Indicao"}),s.jsx("button",{onClick:()=>c("config"),className:`px-4 py-2 rounded-lg transition-colors ${l==="config"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Configuraes"})]})]}),l==="list"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Bn,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Indicaes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Gr,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Validadas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="validated").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Pa,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ie,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipos Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.isActive).length})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lista de Indicaes"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mtodo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>{const M=r.find(le=>le.id===j.referrerId),O=r.find(le=>le.id===j.referredId),H=t.find(le=>le.id===j.referralTypeId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.date).toLocaleDateString("pt-BR")}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M?g(M):"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:M==null?void 0:M.email})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O?g(O):"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:O==null?void 0:O.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:(H==null?void 0:H.color)+"20"},children:s.jsx("div",{style:{color:H==null?void 0:H.color},children:f((H==null?void 0:H.icon)||"user-plus")})}),s.jsx("span",{className:"text-sm text-gray-900",children:H==null?void 0:H.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[x(j.method),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j.method})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[b(j.status),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:k(j.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:j.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(Gr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(gr,{className:"w-4 h-4"})})]})})]},j.id)})})]})})]})]}),l==="types"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tipos de Indicao"}),s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Novo Tipo"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(j=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:j.color+"20"},children:s.jsx("div",{style:{color:j.color},children:f(j.icon)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsxs("div",{className:"flex items-center mt-1",children:[j.isActive?s.jsx(ki,{className:"w-4 h-4 text-green-600 mr-1"}):s.jsx(Ni,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:`text-sm ${j.isActive?"text-green-600":"text-gray-400"}`,children:j.isActive?"Ativo":"Inativo"})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>N(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>a(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:j.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicador"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y(j.referrerReward.type),": ",j.referrerReward.value]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referrerReward.description})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicado"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y(j.referredReward.type),": ",j.referredReward.value]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referredReward.description})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Mtodos Disponveis"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:j.methods.map(M=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[x(M),s.jsx("span",{className:"ml-1 capitalize",children:M})]},M))})]}),j.conditions&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Condies"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[j.conditions.minPurchaseValue&&s.jsxs("div",{children:[" Compra mnima: R$ ",j.conditions.minPurchaseValue]}),j.conditions.validityDays&&s.jsxs("div",{children:[" Validade: ",j.conditions.validityDays," dias"]}),j.conditions.maxReferrals&&s.jsxs("div",{children:[" Mximo: ",j.conditions.maxReferrals," indicaes"]}),j.conditions.requiresFirstPurchase&&s.jsx("div",{children:" Requer primeira compra"})]})]})]})]},j.id))})]}),l==="config"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes Gerais"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Validao Automtica"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"manual",children:"Manual"}),s.jsx("option",{value:"first_purchase",children:"Aps primeira compra"}),s.jsx("option",{value:"immediate",children:"Imediata"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite Global de Indicaes por Cliente"}),s.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"allowSelfReferral",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"allowSelfReferral",className:"ml-2 block text-sm text-gray-900",children:"Permitir auto-indicao (mesmo email/telefone)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"trackReferralSource",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"trackReferralSource",className:"ml-2 block text-sm text-gray-900",children:"Rastrear origem das indicaes"})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Configuraes"})})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:d?"Editar Tipo de Indicao":"Novo Tipo de Indicao"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:h.name,onChange:j=>p({...h,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"cone"}),s.jsx("select",{value:h.icon,onChange:j=>p({...h,icon:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:C.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:h.description,onChange:j=>p({...h,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(j=>s.jsx("button",{onClick:()=>p({...h,color:j}),className:`w-8 h-8 rounded-full border-2 ${h.color===j?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:j}},j))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodos de Indicao"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["email","whatsapp","sms","qrcode"].map(j=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.methods.includes(j),onChange:M=>{M.target.checked?p({...h,methods:[...h.methods,j]}):p({...h,methods:h.methods.filter(O=>O!==j)})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j})]},j))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicador"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:h.referrerReward.type,onChange:j=>p({...h,referrerReward:{...h.referrerReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),s.jsx("option",{value:"percentage",children:"Percentual (%)"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:h.referrerReward.value,onChange:j=>p({...h,referrerReward:{...h.referrerReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:h.referrerReward.description,onChange:j=>p({...h,referrerReward:{...h.referrerReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicado"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:h.referredReward.type,onChange:j=>p({...h,referredReward:{...h.referredReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),s.jsx("option",{value:"percentage",children:"Percentual (%)"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:h.referredReward.value,onChange:j=>p({...h,referredReward:{...h.referredReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:h.referredReward.description,onChange:j=>p({...h,referredReward:{...h.referredReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Condies"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mnima (R$)"}),s.jsx("input",{type:"number",value:h.conditions.minPurchaseValue,onChange:j=>p({...h,conditions:{...h.conditions,minPurchaseValue:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),s.jsx("input",{type:"number",value:h.conditions.validityDays,onChange:j=>p({...h,conditions:{...h.conditions,validityDays:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mximo de Indicaes"}),s.jsx("input",{type:"number",value:h.conditions.maxReferrals,onChange:j=>p({...h,conditions:{...h.conditions,maxReferrals:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requiresFirstPurchase",checked:h.conditions.requiresFirstPurchase,onChange:j=>p({...h,conditions:{...h.conditions,requiresFirstPurchase:j.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requiresFirstPurchase",className:"ml-2 block text-sm text-gray-900",children:"Requer primeira compra"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:h.isActive,onChange:j=>p({...h,isActive:j.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Tipo de indicao ativo"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{u(!1),m(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:w,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d?"Atualizar":"Criar"," Tipo"]})]})]})})]})},ey=()=>{const[e,t]=A.useState("campaigns"),[r,n]=A.useState(!1),i=[{id:"1",name:"Boas-vindas Novos Clientes",type:"welcome",status:"active",sent:150,opened:120,clicked:45},{id:"2",name:"Pontos Prestes a Expirar",type:"expiration",status:"active",sent:89,opened:67,clicked:23}],a=[{id:"1",name:"Boas-vindas",channel:"email",subject:"Bem-vindo ao nosso programa de fidelidade!",preview:"Ol {nome}, seja bem-vindo ao nosso programa..."},{id:"2",name:"Pontos Expirao",channel:"whatsapp",subject:"Seus pontos vo expirar em breve",preview:"Oi {nome}! Voc tem {pontos} pontos que expiram em {dias} dias..."}],l=[{id:"1",name:"Novo Cliente Cadastrado",trigger:"customer_registered",action:"send_welcome_email",status:"active"},{id:"2",name:"Pontos Prximos ao Vencimento",trigger:"points_expiring_soon",action:"send_expiration_warning",status:"active"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Comunicao"}),s.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Nova Campanha"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>t("campaigns"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="campaigns"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Campanhas"}),s.jsx("button",{onClick:()=>t("templates"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="templates"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Templates"}),s.jsx("button",{onClick:()=>t("automation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="automation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Automao"})]}),e==="campaigns"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Ix,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Enviadas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"239"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(_i,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Abertas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"187"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ci,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cliques"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"68"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(tf,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Abertura"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"78%"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Campanhas Ativas"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviadas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliques"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(c=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.type==="welcome"?"Boas-vindas":"Expirao"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="active"?"Ativa":"Inativa"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.sent}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.opened}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.clicked}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(rn,{className:"w-4 h-4"})})]})]},c.id))})]})})]})]}),e==="templates"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Templates de Mensagem"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(c=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[c.channel==="email"&&s.jsx(_i,{className:"w-4 h-4 text-blue-600"}),c.channel==="whatsapp"&&s.jsx(Ci,{className:"w-4 h-4 text-green-600"}),c.channel==="sms"&&s.jsx(lf,{className:"w-4 h-4 text-purple-600"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Ve,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Assunto:"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.subject})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.preview})]})]})]},c.id))})})]})}),e==="automation"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Rgua de Comunicao"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:l.map(c=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:c.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Quando: ",c.trigger==="customer_registered"?"Cliente se cadastra":"Pontos prximos ao vencimento"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Ao: ",c.action==="send_welcome_email"?"Enviar email de boas-vindas":"Enviar aviso de expirao"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="active"?"Ativa":"Inativa"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Ve,{className:"w-4 h-4"})})]})]},c.id))})})]})})]})},ty=()=>{const[e]=A.useState([{id:"1",title:"Criar a Conta (Cadastro Nvel 1)",description:"Cliente realiza o cadastro bsico com nome e email",icon:Si,reward:{type:"points",value:100},completed:85,total:100,status:"active"},{id:"2",title:"Cadastro Nvel 2",description:"Cliente completa cadastro com telefone, endereo e WhatsApp",icon:Io,reward:{type:"points",value:200},completed:67,total:100,status:"active"},{id:"3",title:"Cadastro Nvel 3",description:"Cliente informa preferncias de produtos, marcas, servios e cor de cabelo",icon:rf,reward:{type:"points",value:300},completed:23,total:100,status:"active"},{id:"4",title:"Review de Produtos",description:"Cliente avalia produtos comprados",icon:qe,reward:{type:"points",value:50},completed:45,total:100,status:"active"},{id:"5",title:"Comprar uma Categoria de Produtos",description:"Cliente realiza compra em categoria especfica",icon:Dx,reward:{type:"points",value:500},completed:12,total:100,status:"active"}]),[t,r]=A.useState(!1),[n,i]=A.useState({title:"",description:"",rewardType:"points",rewardValue:0,target:100}),a=(l,c)=>Math.round(l/c*100);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Objetivos e Metas"}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Novo Objetivo"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Ks,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Objetivos Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(bi,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Concluso"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(e.reduce((l,c)=>l+a(c.completed,c.total),0)/e.length),"%"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(qe,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Distribudos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,c)=>l+c.reward.value*c.completed,0).toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Si,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Participantes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,c)=>l+c.completed,0)})]})]})})]}),s.jsx("div",{className:"space-y-4",children:e.map(l=>{const c=l.icon,o=a(l.completed,l.total);return s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(c,{className:"w-6 h-6 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Progresso"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[l.completed,"/",l.total," (",o,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}),s.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(qe,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsxs("span",{children:["Recompensa: ",l.reward.value," pontos"]})]}),s.jsx("div",{className:"flex items-center text-sm",children:l.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(bi,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-green-600",children:"Ativo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Cx,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:"text-gray-500",children:"Inativo"})]})})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ks,{className:"w-4 h-4"})})})]})},l.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Jornada do Cliente"}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center justify-between",children:e.map((l,c)=>{const o=l.icon,u=a(l.completed,l.total),d=u>=80;return s.jsxs("div",{className:"flex flex-col items-center relative",children:[c<e.length-1&&s.jsx("div",{className:"absolute top-6 left-full w-full h-0.5 bg-gray-200 z-0"}),s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${d?"bg-green-100 border-2 border-green-500":"bg-gray-100 border-2 border-gray-300"}`,children:s.jsx(o,{className:`w-6 h-6 ${d?"text-green-600":"text-gray-400"}`})}),s.jsxs("div",{className:"mt-3 text-center max-w-24",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 leading-tight",children:l.title.split(" ").slice(0,2).join(" ")}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u,"%"]})]})]},l.id)})})})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Objetivo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),s.jsx("input",{type:"text",value:n.title,onChange:l=>i({...n,title:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n.description,onChange:l=>i({...n,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Recompensa"}),s.jsxs("select",{value:n.rewardType,onChange:l=>i({...n,rewardType:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"discount",children:"Desconto"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:n.rewardValue,onChange:l=>i({...n,rewardValue:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta"}),s.jsx("input",{type:"number",value:n.target,onChange:l=>i({...n,target:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:()=>{r(!1),i({title:"",description:"",rewardType:"points",rewardValue:0,target:100})},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Objetivo"})]})]})})]})},ry=()=>{const{settings:e,updateSettings:t}=it(),[r,n]=A.useState("company"),[i,a]=A.useState(e),[l,c]=A.useState(""),[o,u]=A.useState(""),d=()=>{t(i)},m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA"],h=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins"],p=(g,b)=>{const k=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;(k.test(b)||b==="")&&(g==="primary"?(c(b),k.test(b)&&a({...i,program:{...i.program,primaryColor:b}})):(u(b),k.test(b)&&a({...i,program:{...i.program,secondaryColor:b}})))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Personalizao"}),s.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ox,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>n("company"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="company"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Lx,{className:"w-4 h-4 mr-2"}),"Empresa"]}),s.jsxs("button",{onClick:()=>n("program"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="program"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Rx,{className:"w-4 h-4 mr-2"}),"Programa"]}),s.jsxs("button",{onClick:()=>n("validation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="validation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Mx,{className:"w-4 h-4 mr-2"}),"Validao"]}),s.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="notifications"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(kx,{className:"w-4 h-4 mr-2"}),"Notificaes"]}),s.jsxs("button",{onClick:()=>n("terms"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="terms"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Oo,{className:"w-4 h-4 mr-2"}),"Regulamento"]})]}),r==="company"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informaes da Empresa"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa"}),s.jsx("input",{type:"text",value:i.company.name,onChange:g=>a({...i,company:{...i.company,name:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"url",value:i.company.website,onChange:g=>a({...i,company:{...i.company,website:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo"}),s.jsx("textarea",{value:i.company.address,onChange:g=>a({...i,company:{...i.company,address:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Empresa"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(af,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[s.jsx("span",{children:"Upload um arquivo"}),s.jsx("input",{type:"file",className:"sr-only",accept:"image/*"})]}),s.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF at 10MB"})]})})]})]})]}),r==="program"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes do Programa"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Programa"}),s.jsx("input",{type:"text",value:i.program.name,onChange:g=>a({...i,program:{...i.program,name:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),s.jsx("input",{type:"number",value:i.program.pointsPerReal,onChange:g=>a({...i,program:{...i.program,pointsPerReal:Number(g.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mnimo de Compra (R$)"}),s.jsx("input",{type:"number",value:i.program.minPurchaseValue,onChange:g=>a({...i,program:{...i.program,minPurchaseValue:Number(g.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte"}),s.jsx("select",{value:i.program.font,onChange:g=>a({...i,program:{...i.program,font:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:h.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Primria"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>s.jsx("button",{onClick:()=>a({...i,program:{...i.program,primaryColor:g}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${i.program.primaryColor===g?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:g},title:g},g))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um cdigo HEX personalizado:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),s.jsx("input",{type:"text",value:l.replace("#",""),onChange:g=>p("primary","#"+g.target.value),placeholder:"3B82F6",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:i.program.primaryColor}}),s.jsx("span",{className:"text-sm text-gray-600 font-mono",children:i.program.primaryColor})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Secundria"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>s.jsx("button",{onClick:()=>a({...i,program:{...i.program,secondaryColor:g}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${i.program.secondaryColor===g?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:g},title:g},g))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um cdigo HEX personalizado:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),s.jsx("input",{type:"text",value:o.replace("#",""),onChange:g=>p("secondary","#"+g.target.value),placeholder:"10B981",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:i.program.secondaryColor}}),s.jsx("span",{className:"text-sm text-gray-600 font-mono",children:i.program.secondaryColor})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Preview das Cores"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:i.program.primaryColor},children:"Cor Primria"}),s.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:i.program.primaryColor})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:i.program.secondaryColor},children:"Cor Secundria"}),s.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:i.program.secondaryColor})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{background:`linear-gradient(45deg, ${i.program.primaryColor}, ${i.program.secondaryColor})`},children:"Gradiente"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Combinao"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Expirao de Pontos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"pointsExpiration",checked:i.program.pointsExpiration.enabled,onChange:g=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,enabled:g.target.checked}}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"pointsExpiration",className:"ml-2 block text-sm text-gray-900",children:"Ativar expirao de pontos"})]}),i.program.pointsExpiration.enabled&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo de Expirao (dias)"}),s.jsx("input",{type:"number",value:i.program.pointsExpiration.days,onChange:g=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,days:Number(g.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notificar antes (dias)"}),s.jsx("input",{type:"number",value:i.program.pointsExpiration.notifyDaysBefore,onChange:g=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,notifyDaysBefore:Number(g.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r==="validation"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes de Validao"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sistema de Chaves"}),s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Chave Primria:"})," CPF - Identificador nico obrigatrio",s.jsx("br",{}),s.jsx("strong",{children:"Chaves Secundrias:"})," Email e Telefone - Para comunicao e indicaes"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Validao de CPF"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Verificar se o CPF  vlido matematicamente"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requireCpfValidation,onChange:g=>a({...i,validation:{...i.validation,requireCpfValidation:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificao de Email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificao por email antes de ativar conta"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requireEmailVerification,onChange:g=>a({...i,validation:{...i.validation,requireEmailVerification:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificao de Telefone"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificao por SMS antes de ativar conta"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requirePhoneVerification,onChange:g=>a({...i,validation:{...i.validation,requirePhoneVerification:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Email Duplicado"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo email seja usado por CPFs diferentes"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.allowDuplicateEmail,onChange:g=>a({...i,validation:{...i.validation,allowDuplicateEmail:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Telefone Duplicado"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo telefone seja usado por CPFs diferentes"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.allowDuplicatePhone,onChange:g=>a({...i,validation:{...i.validation,allowDuplicatePhone:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Importante"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:" O CPF sempre ser nico no sistema (chave primria)"}),s.jsx("li",{children:" Email e telefone podem ser usados para indicaes mesmo se duplicados"}),s.jsx("li",{children:" Recomendamos manter email nico para melhor experincia do usurio"}),s.jsx("li",{children:" Telefone duplicado  comum em famlias que compartilham nmeros"})]})]})]})]}),r==="notifications"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuraes de Notificao"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaes por email"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:g=>a({...i,notifications:{...i.notifications,email:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaes por WhatsApp"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.whatsapp,onChange:g=>a({...i,notifications:{...i.notifications,whatsapp:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SMS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaes por SMS"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.sms,onChange:g=>a({...i,notifications:{...i.notifications,sms:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),r==="terms"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Regulamento do Programa"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Termos e Condies"}),s.jsx("textarea",{value:i.terms,onChange:g=>a({...i,terms:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:15,placeholder:"Digite aqui os termos e condies do seu programa de fidelidade..."})]})]})]})},ny=()=>{const{loading:e,error:t}=it();return t?s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-xl font-semibold mb-2",children:"Erro ao carregar dados"}),s.jsx("div",{className:"text-gray-600 text-sm",children:t}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tentar Novamente"})]})}):e?s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ex,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Carregando dados..."}),s.jsx("div",{className:"text-gray-500 text-sm mt-2",children:"Conectando ao banco de dados"})]})}):null};function sy(){const[e,t]=A.useState("dashboard"),r=()=>{switch(e){case"dashboard":return s.jsx(mu,{});case"customers":return s.jsx(Wx,{});case"branches":return s.jsx(Gx,{});case"levels":return s.jsx(Kx,{});case"movements":return s.jsx(Xx,{});case"rewards":return s.jsx(Yx,{});case"referrals":return s.jsx(Zx,{});case"communication":return s.jsx(ey,{});case"objectives":return s.jsx(ty,{});case"settings":return s.jsx(ry,{});default:return s.jsx(mu,{})}};return s.jsx(wx,{children:s.jsxs(zx,{currentPage:e,onPageChange:t,children:[s.jsx(ny,{}),r()]})})}Eh(document.getElementById("root")).render(s.jsx(A.StrictMode,{children:s.jsx(sy,{})}));
