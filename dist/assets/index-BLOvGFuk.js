(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var yu={exports:{}},Ei={},vu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),If=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),Ff=Symbol.for("react.provider"),zf=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),Vo=Symbol.iterator;function Hf(e){return e===null||typeof e!="object"?null:(e=Vo&&e[Vo]||e["@@iterator"],typeof e=="function"?e:null)}var wu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ju=Object.assign,bu={};function nn(e,t,r){this.props=e,this.context=t,this.refs=bu,this.updater=r||wu}nn.prototype.isReactComponent={};nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nu(){}Nu.prototype=nn.prototype;function Il(e,t,r){this.props=e,this.context=t,this.refs=bu,this.updater=r||wu}var Ml=Il.prototype=new Nu;Ml.constructor=Il;ju(Ml,nn.prototype);Ml.isPureReactComponent=!0;var qo=Array.isArray,ku=Object.prototype.hasOwnProperty,Dl={current:null},_u={key:!0,ref:!0,__self:!0,__source:!0};function Cu(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)ku.call(t,n)&&!_u.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:as,type:e,key:a,ref:l,props:i,_owner:Dl.current}}function Wf(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ll(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function Gf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ho=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gf(""+e.key):t.toString(36)}function Ms(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case as:case If:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Yi(l,0):n,qo(i)?(r="",e!=null&&(r=e.replace(Ho,"$&/")+"/"),Ms(i,t,r,"",function(u){return u})):i!=null&&(Ll(i)&&(i=Wf(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ho,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",qo(e))for(var c=0;c<e.length;c++){a=e[c];var o=n+Yi(a,c);l+=Ms(a,t,r,o,i)}else if(o=Hf(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=n+Yi(a,c++),l+=Ms(a,t,r,o,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ms(e,t,r){if(e==null)return e;var n=[],i=0;return Ms(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Kf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},Ds={transition:null},Qf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Dl};function Su(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ms,forEach:function(e,t,r){ms(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Ll(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=nn;B.Fragment=Mf;B.Profiler=Lf;B.PureComponent=Il;B.StrictMode=Df;B.Suspense=Bf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;B.act=Su;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ju({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Dl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)ku.call(t,o)&&!_u.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:as,type:e.type,key:i,ref:a,props:n,_owner:l}};B.createContext=function(e){return e={$$typeof:zf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ff,_context:e},e.Consumer=e};B.createElement=Cu;B.createFactory=function(e){var t=Cu.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Uf,render:e}};B.isValidElement=Ll;B.lazy=function(e){return{$$typeof:qf,_payload:{_status:-1,_result:e},_init:Kf}};B.memo=function(e,t){return{$$typeof:Vf,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};B.unstable_act=Su;B.useCallback=function(e,t){return Ne.current.useCallback(e,t)};B.useContext=function(e){return Ne.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ne.current.useEffect(e,t)};B.useId=function(){return Ne.current.useId()};B.useImperativeHandle=function(e,t,r){return Ne.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ne.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Ne.current.useReducer(e,t,r)};B.useRef=function(e){return Ne.current.useRef(e)};B.useState=function(e){return Ne.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Ne.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Ne.current.useTransition()};B.version="18.3.1";vu.exports=B;var R=vu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=R,Xf=Symbol.for("react.element"),Yf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,em=Jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function Eu(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Zf.call(t,n)&&!tm.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Xf,type:e,key:a,ref:l,props:i,_owner:em.current}}Ei.Fragment=Yf;Ei.jsx=Eu;Ei.jsxs=Eu;yu.exports=Ei;var s=yu.exports,Pu={exports:{}},De={},Tu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var P=A.length;A.push(L);e:for(;0<P;){var F=P-1>>>1,H=A[F];if(0<i(H,L))A[F]=L,A[P]=H,P=F;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var L=A[0],P=A.pop();if(P!==L){A[0]=P;e:for(var F=0,H=A.length,it=H>>>1;F<it;){var oe=2*(F+1)-1,cn=A[oe],dt=oe+1,br=A[dt];if(0>i(cn,P))dt<H&&0>i(br,cn)?(A[F]=br,A[dt]=P,F=dt):(A[F]=cn,A[oe]=P,F=oe);else if(dt<H&&0>i(br,P))A[F]=br,A[dt]=P,F=dt;else break e}}return L}function i(A,L){var P=A.sortIndex-L.sortIndex;return P!==0?P:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,m=null,h=3,p=!1,g=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=A)n(u),L.sortIndex=L.expirationTime,t(o,L);else break;L=r(u)}}function w(A){if(b=!1,y(A),!g)if(r(o)!==null)g=!0,Ke(N);else{var L=r(u);L!==null&&Zt(w,L.startTime-A)}}function N(A,L){g=!1,b&&(b=!1,x(j),j=-1),p=!0;var P=h;try{for(y(L),m=r(o);m!==null&&(!(m.expirationTime>L)||A&&!q());){var F=m.callback;if(typeof F=="function"){m.callback=null,h=m.priorityLevel;var H=F(m.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(o)&&n(o),y(L)}else n(o);m=r(o)}if(m!==null)var it=!0;else{var oe=r(u);oe!==null&&Zt(w,oe.startTime-L),it=!1}return it}finally{m=null,h=P,p=!1}}var v=!1,C=null,j=-1,D=5,I=-1;function q(){return!(e.unstable_now()-I<D)}function le(){if(C!==null){var A=e.unstable_now();I=A;var L=!0;try{L=C(!0,A)}finally{L?T():(v=!1,C=null)}}else v=!1}var T;if(typeof f=="function")T=function(){f(le)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,we=G.port2;G.port1.onmessage=le,T=function(){we.postMessage(null)}}else T=function(){_(le,0)};function Ke(A){C=A,v||(v=!0,T())}function Zt(A,L){j=_(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Ke(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var P=h;h=L;try{return A()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var P=h;h=A;try{return L()}finally{h=P}},e.unstable_scheduleCallback=function(A,L,P){var F=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?F+P:F):P=F,A){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=P+H,A={id:d++,callback:L,priorityLevel:A,startTime:P,expirationTime:H,sortIndex:-1},P>F?(A.sortIndex=P,t(u,A),r(o)===null&&A===r(u)&&(b?(x(j),j=-1):b=!0,Zt(w,P-F))):(A.sortIndex=H,t(o,A),g||p||(g=!0,Ke(N))),A},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(A){var L=h;return function(){var P=h;h=L;try{return A.apply(this,arguments)}finally{h=P}}}})(Ru);Tu.exports=Ru;var rm=Tu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=R,Ie=rm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,Bn={};function yr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Bn[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=Object.prototype.hasOwnProperty,sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wo={},Go={};function im(e){return Aa.call(Go,e)?!0:Aa.call(Wo,e)?!1:sm.test(e)?Go[e]=!0:(Wo[e]=!0,!1)}function am(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lm(e,t,r,n){if(t===null||typeof t>"u"||am(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fl,zl);me[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fl,zl);me[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fl,zl);me[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ul(e,t,r,n){var i=me.hasOwnProperty(t)?me[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lm(t,r,i,n)&&(r=null),n||i===null?im(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ct=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),$a=Symbol.for("react.profiler"),$u=Symbol.for("react.provider"),Ou=Symbol.for("react.context"),Vl=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),Ia=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Iu=Symbol.for("react.offscreen"),Ko=Symbol.iterator;function dn(e){return e===null||typeof e!="object"?null:(e=Ko&&e[Ko]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Zi;function bn(e){if(Zi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zi=t&&t[1]||""}return`
`+Zi+e}var ea=!1;function ta(e,t){if(!e||ea)return"";ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,c=a.length-1;1<=l&&0<=c&&i[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==a[c]){var o=`
`+i[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{ea=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bn(e):""}function om(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return e=ta(e.type,!1),e;case 11:return e=ta(e.type.render,!1),e;case 1:return e=ta(e.type,!0),e;default:return""}}function Ma(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Pr:return"Portal";case $a:return"Profiler";case Bl:return"StrictMode";case Oa:return"Suspense";case Ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ou:return(e.displayName||"Context")+".Consumer";case $u:return(e._context.displayName||"Context")+".Provider";case Vl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ql:return t=e.displayName||null,t!==null?t:Ma(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Ma(e(t))}catch{}}return null}function cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ma(t);case 8:return t===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function um(e){var t=Mu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=um(e))}function Du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Da(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lu(e,t){t=t.checked,t!=null&&Ul(e,"checked",t,!1)}function La(e,t){Lu(e,t);var r=Gt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fa(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fa(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fa(e,t,r){(t!=="number"||Qs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nn=Array.isArray;function Ur(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function za(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Nn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gt(r)}}function Fu(e,t){var r=Gt(t.value),n=Gt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,Uu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dm=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function Bu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function Vu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Bu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var hm=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(e,t){if(t){if(hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Va(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function Hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,Br=null,Vr=null;function Zo(e){if(e=cs(e)){if(typeof Ha!="function")throw Error(E(280));var t=e.stateNode;t&&(t=$i(t),Ha(e.stateNode,e.type,t))}}function qu(e){Br?Vr?Vr.push(e):Vr=[e]:Br=e}function Hu(){if(Br){var e=Br,t=Vr;if(Vr=Br=null,Zo(e),t)for(e=0;e<t.length;e++)Zo(t[e])}}function Wu(e,t){return e(t)}function Gu(){}var ra=!1;function Ku(e,t,r){if(ra)return e(t,r);ra=!0;try{return Wu(e,t,r)}finally{ra=!1,(Br!==null||Vr!==null)&&(Gu(),Hu())}}function qn(e,t){var r=e.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Wa=!1;if(bt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Wa=!1}function fm(e,t,r,n,i,a,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Pn=!1,Js=null,Xs=!1,Ga=null,mm={onError:function(e){Pn=!0,Js=e}};function pm(e,t,r,n,i,a,l,c,o){Pn=!1,Js=null,fm.apply(mm,arguments)}function gm(e,t,r,n,i,a,l,c,o){if(pm.apply(this,arguments),Pn){if(Pn){var u=Js;Pn=!1,Js=null}else throw Error(E(198));Xs||(Xs=!0,Ga=u)}}function vr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ec(e){if(vr(e)!==e)throw Error(E(188))}function xm(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ec(i),e;if(a===n)return ec(i),t;a=a.sibling}throw Error(E(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,n=a;break}if(c===n){l=!0,n=i,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,n=i;break}if(c===n){l=!0,n=a,r=i;break}c=c.sibling}if(!l)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Ju(e){return e=xm(e),e!==null?Xu(e):null}function Xu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xu(e);if(t!==null)return t;e=e.sibling}return null}var Yu=Ie.unstable_scheduleCallback,tc=Ie.unstable_cancelCallback,ym=Ie.unstable_shouldYield,vm=Ie.unstable_requestPaint,ne=Ie.unstable_now,wm=Ie.unstable_getCurrentPriorityLevel,Wl=Ie.unstable_ImmediatePriority,Zu=Ie.unstable_UserBlockingPriority,Ys=Ie.unstable_NormalPriority,jm=Ie.unstable_LowPriority,ed=Ie.unstable_IdlePriority,Pi=null,ct=null;function bm(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:_m,Nm=Math.log,km=Math.LN2;function _m(e){return e>>>=0,e===0?32:31-(Nm(e)/km|0)|0}var ys=64,vs=4194304;function kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?n=kn(c):(a&=l,a!==0&&(n=kn(a)))}else l=r&~i,l!==0?n=kn(l):a!==0&&(n=kn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),i=1<<r,n|=e[r],t&=~i;return n}function Cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-tt(a),c=1<<l,o=i[l];o===-1?(!(c&r)||c&n)&&(i[l]=Cm(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function td(){var e=ys;return ys<<=1,!(ys&4194240)&&(ys=64),e}function na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function Em(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-tt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Gl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var W=0;function rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nd,Kl,sd,id,ad,Qa=!1,ws=[],Ft=null,zt=null,Ut=null,Hn=new Map,Wn=new Map,Ot=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function fn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=cs(t),t!==null&&Kl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tm(e,t,r,n,i){switch(t){case"focusin":return Ft=fn(Ft,e,t,r,n,i),!0;case"dragenter":return zt=fn(zt,e,t,r,n,i),!0;case"mouseover":return Ut=fn(Ut,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Hn.set(a,fn(Hn.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Wn.set(a,fn(Wn.get(a)||null,e,t,r,n,i)),!0}return!1}function ld(e){var t=lr(e.target);if(t!==null){var r=vr(t);if(r!==null){if(t=r.tag,t===13){if(t=Qu(r),t!==null){e.blockedOn=t,ad(e.priority,function(){sd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qa=n,r.target.dispatchEvent(n),qa=null}else return t=cs(r),t!==null&&Kl(t),e.blockedOn=r,!1;t.shift()}return!0}function nc(e,t,r){Ls(e)&&r.delete(t)}function Rm(){Qa=!1,Ft!==null&&Ls(Ft)&&(Ft=null),zt!==null&&Ls(zt)&&(zt=null),Ut!==null&&Ls(Ut)&&(Ut=null),Hn.forEach(nc),Wn.forEach(nc)}function mn(e,t){e.blockedOn===t&&(e.blockedOn=null,Qa||(Qa=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Rm)))}function Gn(e){function t(i){return mn(i,e)}if(0<ws.length){mn(ws[0],e);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ft!==null&&mn(Ft,e),zt!==null&&mn(zt,e),Ut!==null&&mn(Ut,e),Hn.forEach(t),Wn.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)ld(r),r.blockedOn===null&&Ot.shift()}var qr=Ct.ReactCurrentBatchConfig,ei=!0;function Am(e,t,r,n){var i=W,a=qr.transition;qr.transition=null;try{W=1,Ql(e,t,r,n)}finally{W=i,qr.transition=a}}function $m(e,t,r,n){var i=W,a=qr.transition;qr.transition=null;try{W=4,Ql(e,t,r,n)}finally{W=i,qr.transition=a}}function Ql(e,t,r,n){if(ei){var i=Ja(e,t,r,n);if(i===null)fa(e,t,n,ti,r),rc(e,n);else if(Tm(i,e,t,r,n))n.stopPropagation();else if(rc(e,n),t&4&&-1<Pm.indexOf(e)){for(;i!==null;){var a=cs(i);if(a!==null&&nd(a),a=Ja(e,t,r,n),a===null&&fa(e,t,n,ti,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else fa(e,t,n,null,r)}}var ti=null;function Ja(e,t,r,n){if(ti=null,e=Hl(n),e=lr(e),e!==null)if(t=vr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wm()){case Wl:return 1;case Zu:return 4;case Ys:case jm:return 16;case ed:return 536870912;default:return 16}default:return 16}}var Dt=null,Jl=null,Fs=null;function cd(){if(Fs)return Fs;var e,t=Jl,r=t.length,n,i="value"in Dt?Dt.value:Dt.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return Fs=i.slice(e,1<n?1-n:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function sc(){return!1}function Le(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?js:sc,this.isPropagationStopped=sc,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Le(sn),os=te({},sn,{view:0,detail:0}),Om=Le(os),sa,ia,pn,Ti=te({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(sa=e.screenX-pn.screenX,ia=e.screenY-pn.screenY):ia=sa=0,pn=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),ic=Le(Ti),Im=te({},Ti,{dataTransfer:0}),Mm=Le(Im),Dm=te({},os,{relatedTarget:0}),aa=Le(Dm),Lm=te({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fm=Le(Lm),zm=te({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Um=Le(zm),Bm=te({},sn,{data:0}),ac=Le(Bm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hm[e])?!!t[e]:!1}function Yl(){return Wm}var Gm=te({},os,{key:function(e){if(e.key){var t=Vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Km=Le(Gm),Qm=te({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=Le(Qm),Jm=te({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),Xm=Le(Jm),Ym=te({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=Le(Ym),ep=te({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tp=Le(ep),rp=[9,13,27,32],Zl=bt&&"CompositionEvent"in window,Tn=null;bt&&"documentMode"in document&&(Tn=document.documentMode);var np=bt&&"TextEvent"in window&&!Tn,ud=bt&&(!Zl||Tn&&8<Tn&&11>=Tn),oc=" ",cc=!1;function dd(e,t){switch(e){case"keyup":return rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function sp(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(cc=!0,oc);case"textInput":return e=t.data,e===oc&&cc?null:e;default:return null}}function ip(e,t){if(Rr)return e==="compositionend"||!Zl&&dd(e,t)?(e=cd(),Fs=Jl=Dt=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ud&&t.locale!=="ko"?null:t.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ap[e.type]:t==="textarea"}function fd(e,t,r,n){qu(n),t=ri(t,"onChange"),0<t.length&&(r=new Xl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rn=null,Kn=null;function lp(e){kd(e,0)}function Ri(e){var t=Or(e);if(Du(t))return e}function op(e,t){if(e==="change")return t}var md=!1;if(bt){var la;if(bt){var oa="oninput"in document;if(!oa){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),oa=typeof dc.oninput=="function"}la=oa}else la=!1;md=la&&(!document.documentMode||9<document.documentMode)}function hc(){Rn&&(Rn.detachEvent("onpropertychange",pd),Kn=Rn=null)}function pd(e){if(e.propertyName==="value"&&Ri(Kn)){var t=[];fd(t,Kn,e,Hl(e)),Ku(lp,t)}}function cp(e,t,r){e==="focusin"?(hc(),Rn=t,Kn=r,Rn.attachEvent("onpropertychange",pd)):e==="focusout"&&hc()}function up(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Kn)}function dp(e,t){if(e==="click")return Ri(t)}function hp(e,t){if(e==="input"||e==="change")return Ri(t)}function fp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:fp;function Qn(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Aa.call(t,i)||!nt(e[i],t[i]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var r=fc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fc(r)}}function gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xd(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qs(e.document)}return t}function eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mp(e){var t=xd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gd(r.ownerDocument.documentElement,r)){if(n!==null&&eo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=mc(r,a);var l=mc(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pp=bt&&"documentMode"in document&&11>=document.documentMode,Ar=null,Xa=null,An=null,Ya=!1;function pc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ya||Ar==null||Ar!==Qs(n)||(n=Ar,"selectionStart"in n&&eo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),An&&Qn(An,n)||(An=n,n=ri(Xa,"onSelect"),0<n.length&&(t=new Xl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ar)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $r={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},ca={},yd={};bt&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ai(e){if(ca[e])return ca[e];if(!$r[e])return e;var t=$r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yd)return ca[e]=t[r];return e}var vd=Ai("animationend"),wd=Ai("animationiteration"),jd=Ai("animationstart"),bd=Ai("transitionend"),Nd=new Map,gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Nd.set(e,t),yr(t,[e])}for(var ua=0;ua<gc.length;ua++){var da=gc[ua],gp=da.toLowerCase(),xp=da[0].toUpperCase()+da.slice(1);Qt(gp,"on"+xp)}Qt(vd,"onAnimationEnd");Qt(wd,"onAnimationIteration");Qt(jd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(bd,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function xc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gm(n,t,void 0,e),e.currentTarget=null}function kd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&i.isPropagationStopped())break e;xc(i,c,u),a=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&i.isPropagationStopped())break e;xc(i,c,u),a=o}}}if(Xs)throw e=Ga,Xs=!1,Ga=null,e}function J(e,t){var r=t[nl];r===void 0&&(r=t[nl]=new Set);var n=e+"__bubble";r.has(n)||(_d(t,e,2,!1),r.add(n))}function ha(e,t,r){var n=0;t&&(n|=4),_d(r,e,n,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Ns]){e[Ns]=!0,Au.forEach(function(r){r!=="selectionchange"&&(yp.has(r)||ha(r,!1,e),ha(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,ha("selectionchange",!1,t))}}function _d(e,t,r,n){switch(od(t)){case 1:var i=Am;break;case 4:i=$m;break;default:i=Ql}r=i.bind(null,t,r,e),i=void 0,!Wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function fa(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;l=l.return}for(;c!==null;){if(l=lr(c),l===null)return;if(o=l.tag,o===5||o===6){n=a=l;continue e}c=c.parentNode}}n=n.return}Ku(function(){var u=a,d=Hl(r),m=[];e:{var h=Nd.get(e);if(h!==void 0){var p=Xl,g=e;switch(e){case"keypress":if(zs(r)===0)break e;case"keydown":case"keyup":p=Km;break;case"focusin":g="focus",p=aa;break;case"focusout":g="blur",p=aa;break;case"beforeblur":case"afterblur":p=aa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xm;break;case vd:case wd:case jd:p=Fm;break;case bd:p=Zm;break;case"scroll":p=Om;break;case"wheel":p=tp;break;case"copy":case"cut":case"paste":p=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lc}var b=(t&4)!==0,_=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var f=u,y;f!==null;){y=f;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=qn(f,x),w!=null&&b.push(Xn(f,w,y)))),_)break;f=f.return}0<b.length&&(h=new p(h,g,null,r,d),m.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==qa&&(g=r.relatedTarget||r.fromElement)&&(lr(g)||g[Nt]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?lr(g):null,g!==null&&(_=vr(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=ic,w="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=lc,w="onPointerLeave",x="onPointerEnter",f="pointer"),_=p==null?h:Or(p),y=g==null?h:Or(g),h=new b(w,f+"leave",p,r,d),h.target=_,h.relatedTarget=y,w=null,lr(d)===u&&(b=new b(x,f+"enter",g,r,d),b.target=y,b.relatedTarget=_,w=b),_=w,p&&g)t:{for(b=p,x=g,f=0,y=b;y;y=Nr(y))f++;for(y=0,w=x;w;w=Nr(w))y++;for(;0<f-y;)b=Nr(b),f--;for(;0<y-f;)x=Nr(x),y--;for(;f--;){if(b===x||x!==null&&b===x.alternate)break t;b=Nr(b),x=Nr(x)}b=null}else b=null;p!==null&&yc(m,h,p,b,!1),g!==null&&_!==null&&yc(m,_,g,b,!0)}}e:{if(h=u?Or(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=op;else if(uc(h))if(md)N=hp;else{N=up;var v=cp}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=dp);if(N&&(N=N(e,u))){fd(m,N,r,d);break e}v&&v(e,h,u),e==="focusout"&&(v=h._wrapperState)&&v.controlled&&h.type==="number"&&Fa(h,"number",h.value)}switch(v=u?Or(u):window,e){case"focusin":(uc(v)||v.contentEditable==="true")&&(Ar=v,Xa=u,An=null);break;case"focusout":An=Xa=Ar=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,pc(m,r,d);break;case"selectionchange":if(pp)break;case"keydown":case"keyup":pc(m,r,d)}var C;if(Zl)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Rr?dd(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(ud&&r.locale!=="ko"&&(Rr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Rr&&(C=cd()):(Dt=d,Jl="value"in Dt?Dt.value:Dt.textContent,Rr=!0)),v=ri(u,j),0<v.length&&(j=new ac(j,e,null,r,d),m.push({event:j,listeners:v}),C?j.data=C:(C=hd(r),C!==null&&(j.data=C)))),(C=np?sp(e,r):ip(e,r))&&(u=ri(u,"onBeforeInput"),0<u.length&&(d=new ac("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=C))}kd(m,t)})}function Xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ri(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qn(e,r),a!=null&&n.unshift(Xn(e,a,i)),a=qn(e,t),a!=null&&n.push(Xn(e,a,i))),e=e.return}return n}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yc(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,i?(o=qn(r,a),o!=null&&l.unshift(Xn(r,o,c))):i||(o=qn(r,a),o!=null&&l.push(Xn(r,o,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var vp=/\r\n?/g,wp=/\u0000|\uFFFD/g;function vc(e){return(typeof e=="string"?e:""+e).replace(vp,`
`).replace(wp,"")}function ks(e,t,r){if(t=vc(t),vc(e)!==t&&r)throw Error(E(425))}function ni(){}var Za=null,el=null;function tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rl=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,wc=typeof Promise=="function"?Promise:void 0,bp=typeof queueMicrotask=="function"?queueMicrotask:typeof wc<"u"?function(e){return wc.resolve(null).then(e).catch(Np)}:rl;function Np(e){setTimeout(function(){throw e})}function ma(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Gn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Gn(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),ot="__reactFiber$"+an,Yn="__reactProps$"+an,Nt="__reactContainer$"+an,nl="__reactEvents$"+an,kp="__reactListeners$"+an,_p="__reactHandles$"+an;function lr(e){var t=e[ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nt]||r[ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jc(e);e!==null;){if(r=e[ot])return r;e=jc(e)}return t}e=r,r=e.parentNode}return null}function cs(e){return e=e[ot]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function $i(e){return e[Yn]||null}var sl=[],Ir=-1;function Jt(e){return{current:e}}function X(e){0>Ir||(e.current=sl[Ir],sl[Ir]=null,Ir--)}function Q(e,t){Ir++,sl[Ir]=e.current,e.current=t}var Kt={},ve=Jt(Kt),Pe=Jt(!1),hr=Kt;function Qr(e,t){var r=e.type.contextTypes;if(!r)return Kt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Te(e){return e=e.childContextTypes,e!=null}function si(){X(Pe),X(ve)}function bc(e,t,r){if(ve.current!==Kt)throw Error(E(168));Q(ve,t),Q(Pe,r)}function Cd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(E(108,cm(e)||"Unknown",i));return te({},r,n)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,hr=ve.current,Q(ve,e),Q(Pe,Pe.current),!0}function Nc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Cd(e,t,hr),n.__reactInternalMemoizedMergedChildContext=e,X(Pe),X(ve),Q(ve,e)):X(Pe),Q(Pe,r)}var gt=null,Oi=!1,pa=!1;function Sd(e){gt===null?gt=[e]:gt.push(e)}function Cp(e){Oi=!0,Sd(e)}function Xt(){if(!pa&&gt!==null){pa=!0;var e=0,t=W;try{var r=gt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gt=null,Oi=!1}catch(i){throw gt!==null&&(gt=gt.slice(e+1)),Yu(Wl,Xt),i}finally{W=t,pa=!1}}return null}var Mr=[],Dr=0,ai=null,li=0,Fe=[],ze=0,fr=null,xt=1,yt="";function nr(e,t){Mr[Dr++]=li,Mr[Dr++]=ai,ai=e,li=t}function Ed(e,t,r){Fe[ze++]=xt,Fe[ze++]=yt,Fe[ze++]=fr,fr=e;var n=xt;e=yt;var i=32-tt(n)-1;n&=~(1<<i),r+=1;var a=32-tt(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,xt=1<<32-tt(t)+i|r<<i|n,yt=a+e}else xt=1<<a|r<<i|n,yt=e}function to(e){e.return!==null&&(nr(e,1),Ed(e,1,0))}function ro(e){for(;e===ai;)ai=Mr[--Dr],Mr[Dr]=null,li=Mr[--Dr],Mr[Dr]=null;for(;e===fr;)fr=Fe[--ze],Fe[ze]=null,yt=Fe[--ze],Fe[ze]=null,xt=Fe[--ze],Fe[ze]=null}var Oe=null,$e=null,Y=!1,et=null;function Pd(e,t){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,$e=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fr!==null?{id:xt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Oe=e,$e=null,!0):!1;default:return!1}}function il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function al(e){if(Y){var t=$e;if(t){var r=t;if(!kc(e,t)){if(il(e))throw Error(E(418));t=Bt(r.nextSibling);var n=Oe;t&&kc(e,t)?Pd(n,r):(e.flags=e.flags&-4097|2,Y=!1,Oe=e)}}else{if(il(e))throw Error(E(418));e.flags=e.flags&-4097|2,Y=!1,Oe=e}}}function _c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function _s(e){if(e!==Oe)return!1;if(!Y)return _c(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tl(e.type,e.memoizedProps)),t&&(t=$e)){if(il(e))throw Td(),Error(E(418));for(;t;)Pd(e,t),t=Bt(t.nextSibling)}if(_c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Bt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Oe?Bt(e.stateNode.nextSibling):null;return!0}function Td(){for(var e=$e;e;)e=Bt(e.nextSibling)}function Jr(){$e=Oe=null,Y=!1}function no(e){et===null?et=[e]:et.push(e)}var Sp=Ct.ReactCurrentBatchConfig;function gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=i.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cc(e){var t=e._init;return t(e._payload)}function Rd(e){function t(x,f){if(e){var y=x.deletions;y===null?(x.deletions=[f],x.flags|=16):y.push(f)}}function r(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function n(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function i(x,f){return x=Wt(x,f),x.index=0,x.sibling=null,x}function a(x,f,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<f?(x.flags|=2,f):y):(x.flags|=2,f)):(x.flags|=1048576,f)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,f,y,w){return f===null||f.tag!==6?(f=ba(y,x.mode,w),f.return=x,f):(f=i(f,y),f.return=x,f)}function o(x,f,y,w){var N=y.type;return N===Tr?d(x,f,y.props.children,w,y.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rt&&Cc(N)===f.type)?(w=i(f,y.props),w.ref=gn(x,f,y),w.return=x,w):(w=Gs(y.type,y.key,y.props,null,x.mode,w),w.ref=gn(x,f,y),w.return=x,w)}function u(x,f,y,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Na(y,x.mode,w),f.return=x,f):(f=i(f,y.children||[]),f.return=x,f)}function d(x,f,y,w,N){return f===null||f.tag!==7?(f=dr(y,x.mode,w,N),f.return=x,f):(f=i(f,y),f.return=x,f)}function m(x,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ba(""+f,x.mode,y),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:return y=Gs(f.type,f.key,f.props,null,x.mode,y),y.ref=gn(x,null,f),y.return=x,y;case Pr:return f=Na(f,x.mode,y),f.return=x,f;case Rt:var w=f._init;return m(x,w(f._payload),y)}if(Nn(f)||dn(f))return f=dr(f,x.mode,y,null),f.return=x,f;Cs(x,f)}return null}function h(x,f,y,w){var N=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:c(x,f,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:return y.key===N?o(x,f,y,w):null;case Pr:return y.key===N?u(x,f,y,w):null;case Rt:return N=y._init,h(x,f,N(y._payload),w)}if(Nn(y)||dn(y))return N!==null?null:d(x,f,y,w,null);Cs(x,y)}return null}function p(x,f,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,c(f,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ps:return x=x.get(w.key===null?y:w.key)||null,o(f,x,w,N);case Pr:return x=x.get(w.key===null?y:w.key)||null,u(f,x,w,N);case Rt:var v=w._init;return p(x,f,y,v(w._payload),N)}if(Nn(w)||dn(w))return x=x.get(y)||null,d(f,x,w,N,null);Cs(f,w)}return null}function g(x,f,y,w){for(var N=null,v=null,C=f,j=f=0,D=null;C!==null&&j<y.length;j++){C.index>j?(D=C,C=null):D=C.sibling;var I=h(x,C,y[j],w);if(I===null){C===null&&(C=D);break}e&&C&&I.alternate===null&&t(x,C),f=a(I,f,j),v===null?N=I:v.sibling=I,v=I,C=D}if(j===y.length)return r(x,C),Y&&nr(x,j),N;if(C===null){for(;j<y.length;j++)C=m(x,y[j],w),C!==null&&(f=a(C,f,j),v===null?N=C:v.sibling=C,v=C);return Y&&nr(x,j),N}for(C=n(x,C);j<y.length;j++)D=p(C,x,j,y[j],w),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?j:D.key),f=a(D,f,j),v===null?N=D:v.sibling=D,v=D);return e&&C.forEach(function(q){return t(x,q)}),Y&&nr(x,j),N}function b(x,f,y,w){var N=dn(y);if(typeof N!="function")throw Error(E(150));if(y=N.call(y),y==null)throw Error(E(151));for(var v=N=null,C=f,j=f=0,D=null,I=y.next();C!==null&&!I.done;j++,I=y.next()){C.index>j?(D=C,C=null):D=C.sibling;var q=h(x,C,I.value,w);if(q===null){C===null&&(C=D);break}e&&C&&q.alternate===null&&t(x,C),f=a(q,f,j),v===null?N=q:v.sibling=q,v=q,C=D}if(I.done)return r(x,C),Y&&nr(x,j),N;if(C===null){for(;!I.done;j++,I=y.next())I=m(x,I.value,w),I!==null&&(f=a(I,f,j),v===null?N=I:v.sibling=I,v=I);return Y&&nr(x,j),N}for(C=n(x,C);!I.done;j++,I=y.next())I=p(C,x,j,I.value,w),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?j:I.key),f=a(I,f,j),v===null?N=I:v.sibling=I,v=I);return e&&C.forEach(function(le){return t(x,le)}),Y&&nr(x,j),N}function _(x,f,y,w){if(typeof y=="object"&&y!==null&&y.type===Tr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:e:{for(var N=y.key,v=f;v!==null;){if(v.key===N){if(N=y.type,N===Tr){if(v.tag===7){r(x,v.sibling),f=i(v,y.props.children),f.return=x,x=f;break e}}else if(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rt&&Cc(N)===v.type){r(x,v.sibling),f=i(v,y.props),f.ref=gn(x,v,y),f.return=x,x=f;break e}r(x,v);break}else t(x,v);v=v.sibling}y.type===Tr?(f=dr(y.props.children,x.mode,w,y.key),f.return=x,x=f):(w=Gs(y.type,y.key,y.props,null,x.mode,w),w.ref=gn(x,f,y),w.return=x,x=w)}return l(x);case Pr:e:{for(v=y.key;f!==null;){if(f.key===v)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){r(x,f.sibling),f=i(f,y.children||[]),f.return=x,x=f;break e}else{r(x,f);break}else t(x,f);f=f.sibling}f=Na(y,x.mode,w),f.return=x,x=f}return l(x);case Rt:return v=y._init,_(x,f,v(y._payload),w)}if(Nn(y))return g(x,f,y,w);if(dn(y))return b(x,f,y,w);Cs(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(r(x,f.sibling),f=i(f,y),f.return=x,x=f):(r(x,f),f=ba(y,x.mode,w),f.return=x,x=f),l(x)):r(x,f)}return _}var Xr=Rd(!0),Ad=Rd(!1),oi=Jt(null),ci=null,Lr=null,so=null;function io(){so=Lr=ci=null}function ao(e){var t=oi.current;X(oi),e._currentValue=t}function ll(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hr(e,t){ci=e,so=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(so!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(ci===null)throw Error(E(308));Lr=e,ci.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var or=null;function lo(e){or===null?or=[e]:or.push(e)}function $d(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,lo(t)):(r.next=i.next,i.next=r),t.interleaved=r,kt(e,n)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var At=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,kt(e,r)}return i=n.interleaved,i===null?(t.next=t,lo(n)):(t.next=i.next,i.next=t),n.interleaved=t,kt(e,r)}function Us(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gl(e,r)}}function Sc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ui(e,t,r,n){var i=e.updateQueue;At=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?a=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(a!==null){var m=i.baseState;l=0,d=u=o=null,c=a;do{var h=c.lane,p=c.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,b=c;switch(h=t,p=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){m=g.call(p,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(p,m,h):g,h==null)break e;m=te({},m,h);break e;case 2:At=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,o=m):d=d.next=p,l|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);pr|=l,e.lanes=l,e.memoizedState=m}}function Ec(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(E(191,i));i.call(n)}}}var us={},ut=Jt(us),Zn=Jt(us),es=Jt(us);function cr(e){if(e===us)throw Error(E(174));return e}function co(e,t){switch(Q(es,t),Q(Zn,e),Q(ut,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ua(t,e)}X(ut),Q(ut,t)}function Yr(){X(ut),X(Zn),X(es)}function Id(e){cr(es.current);var t=cr(ut.current),r=Ua(t,e.type);t!==r&&(Q(Zn,e),Q(ut,r))}function uo(e){Zn.current===e&&(X(ut),X(Zn))}var Z=Jt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function ho(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var Bs=Ct.ReactCurrentDispatcher,xa=Ct.ReactCurrentBatchConfig,mr=0,ee=null,ie=null,ue=null,hi=!1,$n=!1,ts=0,Ep=0;function pe(){throw Error(E(321))}function fo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function mo(e,t,r,n,i,a){if(mr=a,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bs.current=e===null||e.memoizedState===null?Ap:$p,e=r(n,i),$n){a=0;do{if($n=!1,ts=0,25<=a)throw Error(E(301));a+=1,ue=ie=null,t.updateQueue=null,Bs.current=Op,e=r(n,i)}while($n)}if(Bs.current=fi,t=ie!==null&&ie.next!==null,mr=0,ue=ie=ee=null,hi=!1,t)throw Error(E(300));return e}function po(){var e=ts!==0;return ts=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function Ge(){if(ie===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,ie=e;else{if(e===null)throw Error(E(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function rs(e,t){return typeof t=="function"?t(e):t}function ya(e){var t=Ge(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=ie,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=l=null,o=null,u=a;do{var d=u.lane;if((mr&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=m,l=n):o=o.next=m,ee.lanes|=d,pr|=d}u=u.next}while(u!==null&&u!==a);o===null?l=n:o.next=c,nt(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ee.lanes|=a,pr|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function va(e){var t=Ge(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);nt(a,t.memoizedState)||(Ee=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Md(){}function Dd(e,t){var r=ee,n=Ge(),i=t(),a=!nt(n.memoizedState,i);if(a&&(n.memoizedState=i,Ee=!0),n=n.queue,go(zd.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,ns(9,Fd.bind(null,r,n,i,t),void 0,null),de===null)throw Error(E(349));mr&30||Ld(r,t,i)}return i}function Ld(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Fd(e,t,r,n){t.value=r,t.getSnapshot=n,Ud(t)&&Bd(e)}function zd(e,t,r){return r(function(){Ud(t)&&Bd(e)})}function Ud(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function Bd(e){var t=kt(e,1);t!==null&&rt(t,e,1,-1)}function Pc(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t.queue=e,e=e.dispatch=Rp.bind(null,ee,e),[t.memoizedState,e]}function ns(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Vd(){return Ge().memoizedState}function Vs(e,t,r,n){var i=lt();ee.flags|=e,i.memoizedState=ns(1|t,r,void 0,n===void 0?null:n)}function Ii(e,t,r,n){var i=Ge();n=n===void 0?null:n;var a=void 0;if(ie!==null){var l=ie.memoizedState;if(a=l.destroy,n!==null&&fo(n,l.deps)){i.memoizedState=ns(t,r,a,n);return}}ee.flags|=e,i.memoizedState=ns(1|t,r,a,n)}function Tc(e,t){return Vs(8390656,8,e,t)}function go(e,t){return Ii(2048,8,e,t)}function qd(e,t){return Ii(4,2,e,t)}function Hd(e,t){return Ii(4,4,e,t)}function Wd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4,4,Wd.bind(null,t,e),r)}function xo(){}function Kd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jd(e,t,r){return mr&21?(nt(r,t)||(r=td(),ee.lanes|=r,pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function Pp(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=xa.transition;xa.transition={};try{e(!1),t()}finally{W=r,xa.transition=n}}function Xd(){return Ge().memoizedState}function Tp(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yd(e))Zd(t,r);else if(r=$d(e,t,r,n),r!==null){var i=be();rt(r,e,n,i),eh(r,t,n)}}function Rp(e,t,r){var n=Ht(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Zd(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,r);if(i.hasEagerState=!0,i.eagerState=c,nt(c,l)){var o=t.interleaved;o===null?(i.next=i,lo(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}r=$d(e,t,i,n),r!==null&&(i=be(),rt(r,e,n,i),eh(r,t,n))}}function Yd(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Zd(e,t){$n=hi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gl(e,r)}}var fi={readContext:We,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Ap={readContext:We,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:Tc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,Wd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tp.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:xo,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=Pp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,i=lt();if(Y){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),de===null)throw Error(E(349));mr&30||Ld(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Tc(zd.bind(null,n,a,e),[e]),n.flags|=2048,ns(9,Fd.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=lt(),t=de.identifierPrefix;if(Y){var r=yt,n=xt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ep++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$p={readContext:We,useCallback:Kd,useContext:We,useEffect:go,useImperativeHandle:Gd,useInsertionEffect:qd,useLayoutEffect:Hd,useMemo:Qd,useReducer:ya,useRef:Vd,useState:function(){return ya(rs)},useDebugValue:xo,useDeferredValue:function(e){var t=Ge();return Jd(t,ie.memoizedState,e)},useTransition:function(){var e=ya(rs)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Md,useSyncExternalStore:Dd,useId:Xd,unstable_isNewReconciler:!1},Op={readContext:We,useCallback:Kd,useContext:We,useEffect:go,useImperativeHandle:Gd,useInsertionEffect:qd,useLayoutEffect:Hd,useMemo:Qd,useReducer:va,useRef:Vd,useState:function(){return va(rs)},useDebugValue:xo,useDeferredValue:function(e){var t=Ge();return ie===null?t.memoizedState=e:Jd(t,ie.memoizedState,e)},useTransition:function(){var e=va(rs)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Md,useSyncExternalStore:Dd,useId:Xd,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ol(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mi={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=be(),i=Ht(e),a=wt(n,i);a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,i),t!==null&&(rt(t,e,i,n),Us(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=be(),i=Ht(e),a=wt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,i),t!==null&&(rt(t,e,i,n),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=be(),n=Ht(e),i=wt(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vt(e,i,n),t!==null&&(rt(t,e,n,r),Us(t,e,n))}};function Rc(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Qn(r,n)||!Qn(i,a):!0}function th(e,t,r){var n=!1,i=Kt,a=t.contextType;return typeof a=="object"&&a!==null?a=We(a):(i=Te(t)?hr:ve.current,n=t.contextTypes,a=(n=n!=null)?Qr(e,i):Kt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ac(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function cl(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},oo(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=We(a):(a=Te(t)?hr:ve.current,i.context=Qr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ol(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mi.enqueueReplaceState(i,i.state,null),ui(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var r="",n=t;do r+=om(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function wa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ul(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pi||(pi=!0,wl=n),ul(e,t)},r}function nh(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ul(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ul(e,t),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function $c(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ip;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Qp.bind(null,e,t,r),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var Mp=Ct.ReactCurrentOwner,Ee=!1;function je(e,t,r,n){t.child=e===null?Ad(t,null,r,n):Xr(t,e.child,r,n)}function Mc(e,t,r,n,i){r=r.render;var a=t.ref;return Hr(t,i),n=mo(e,t,r,n,a,i),r=po(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(Y&&r&&to(t),t.flags|=1,je(e,t,n,i),t.child)}function Dc(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!_o(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,sh(e,t,a,n,i)):(e=Gs(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qn,r(l,n)&&e.ref===t.ref)return _t(e,t,i)}return t.flags|=1,e=Wt(a,n),e.ref=t.ref,e.return=t,t.child=e}function sh(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Qn(a,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,_t(e,t,i)}return dl(e,t,r,n,i)}function ih(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(zr,Ae),Ae|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(zr,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Q(zr,Ae),Ae|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Q(zr,Ae),Ae|=n;return je(e,t,i,r),t.child}function ah(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dl(e,t,r,n,i){var a=Te(r)?hr:ve.current;return a=Qr(t,a),Hr(t,i),r=mo(e,t,r,n,a,i),n=po(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(Y&&n&&to(t),t.flags|=1,je(e,t,r,i),t.child)}function Lc(e,t,r,n,i){if(Te(r)){var a=!0;ii(t)}else a=!1;if(Hr(t,i),t.stateNode===null)qs(e,t),th(t,r,n),cl(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Te(r)?hr:ve.current,u=Qr(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Ac(t,l,n,u),At=!1;var h=t.memoizedState;l.state=h,ui(t,n,l,i),o=t.memoizedState,c!==n||h!==o||Pe.current||At?(typeof d=="function"&&(ol(t,r,d,n),o=t.memoizedState),(c=At||Rc(t,r,c,n,h,o,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Od(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Xe(t.type,c),l.props=u,m=t.pendingProps,h=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=We(o):(o=Te(r)?hr:ve.current,o=Qr(t,o));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||h!==o)&&Ac(t,l,n,o),At=!1,h=t.memoizedState,l.state=h,ui(t,n,l,i);var g=t.memoizedState;c!==m||h!==g||Pe.current||At?(typeof p=="function"&&(ol(t,r,p,n),g=t.memoizedState),(u=At||Rc(t,r,u,n,h,g,o)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return hl(e,t,r,n,a,i)}function hl(e,t,r,n,i,a){ah(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Nc(t,r,!1),_t(e,t,a);n=t.stateNode,Mp.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Xr(t,e.child,null,a),t.child=Xr(t,null,c,a)):je(e,t,c,a),t.memoizedState=n.state,i&&Nc(t,r,!0),t.child}function lh(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),co(e,t.containerInfo)}function Fc(e,t,r,n,i){return Jr(),no(i),t.flags|=256,je(e,t,r,n),t.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function oh(e,t,r){var n=t.pendingProps,i=Z.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Q(Z,i&1),e===null)return al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Fi(l,n,0,null),e=dr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ml(r),t.memoizedState=fl,e):yo(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Dp(e,t,l,n,c,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,c=i.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=Wt(i,o),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Wt(c,a):(a=dr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?ml(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=fl,n}return a=e.child,e=a.sibling,n=Wt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yo(e,t){return t=Fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,n){return n!==null&&no(n),Xr(t,e.child,null,r),e=yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=wa(Error(E(422))),Ss(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Fi({mode:"visible",children:n.children},i,0,null),a=dr(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Xr(t,e.child,null,l),t.child.memoizedState=ml(l),t.memoizedState=fl,a);if(!(t.mode&1))return Ss(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(E(419)),n=wa(a,n,void 0),Ss(e,t,l,n)}if(c=(l&e.childLanes)!==0,Ee||c){if(n=de,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,kt(e,i),rt(n,e,i,-1))}return ko(),n=wa(Error(E(421))),Ss(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Jp.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,$e=Bt(i.nextSibling),Oe=t,Y=!0,et=null,e!==null&&(Fe[ze++]=xt,Fe[ze++]=yt,Fe[ze++]=fr,xt=e.id,yt=e.overflow,fr=t),t=yo(t,n.children),t.flags|=4096,t)}function zc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ll(e.return,t,r)}function ja(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ch(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(je(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,r,t);else if(e.tag===19)zc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(Z,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&di(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ja(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&di(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ja(t,!0,r,null,a);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lp(e,t,r){switch(t.tag){case 3:lh(t),Jr();break;case 5:Id(t);break;case 1:Te(t.type)&&ii(t);break;case 4:co(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Q(oi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?oh(e,t,r):(Q(Z,Z.current&1),e=_t(e,t,r),e!==null?e.sibling:null);Q(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ch(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,ih(e,t,r)}return _t(e,t,r)}var uh,pl,dh,hh;uh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pl=function(){};dh=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,cr(ut.current);var a=null;switch(r){case"input":i=Da(e,i),n=Da(e,n),a=[];break;case"select":i=te({},i,{value:void 0}),n=te({},n,{value:void 0}),a=[];break;case"textarea":i=za(e,i),n=za(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ni)}Ba(r,n);var l;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bn.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var o=n[u];if(c=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(a||(a=[]),a.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bn.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&J("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};hh=function(e,t,r,n){r!==n&&(t.flags|=4)};function xn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Fp(e,t,r){var n=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Te(t.type)&&si(),ge(t),null;case 3:return n=t.stateNode,Yr(),X(Pe),X(ve),ho(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Nl(et),et=null))),pl(e,t),ge(t),null;case 5:uo(t);var i=cr(es.current);if(r=t.type,e!==null&&t.stateNode!=null)dh(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ge(t),null}if(e=cr(ut.current),_s(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ot]=t,n[Yn]=a,e=(t.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(i=0;i<_n.length;i++)J(_n[i],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":Qo(n,a),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},J("invalid",n);break;case"textarea":Xo(n,a),J("invalid",n)}Ba(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&ks(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&ks(n.textContent,c,e),i=["children",""+c]):Bn.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&J("scroll",n)}switch(r){case"input":gs(n),Jo(n,a,!0);break;case"textarea":gs(n),Yo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ni)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ot]=t,e[Yn]=n,uh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Va(r,n),r){case"dialog":J("cancel",e),J("close",e),i=n;break;case"iframe":case"object":case"embed":J("load",e),i=n;break;case"video":case"audio":for(i=0;i<_n.length;i++)J(_n[i],e);i=n;break;case"source":J("error",e),i=n;break;case"img":case"image":case"link":J("error",e),J("load",e),i=n;break;case"details":J("toggle",e),i=n;break;case"input":Qo(e,n),i=Da(e,n),J("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=te({},n,{value:void 0}),J("invalid",e);break;case"textarea":Xo(e,n),i=za(e,n),J("invalid",e);break;default:i=n}Ba(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?Vu(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Uu(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Vn(e,o):typeof o=="number"&&Vn(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bn.hasOwnProperty(a)?o!=null&&a==="onScroll"&&J("scroll",e):o!=null&&Ul(e,a,o,l))}switch(r){case"input":gs(e),Jo(e,n,!1);break;case"textarea":gs(e),Yo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ur(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ur(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)hh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=cr(es.current),cr(ut.current),_s(t)){if(n=t.stateNode,r=t.memoizedProps,n[ot]=t,(a=n.nodeValue!==r)&&(e=Oe,e!==null))switch(e.tag){case 3:ks(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=t,t.stateNode=n}return ge(t),null;case 13:if(X(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&$e!==null&&t.mode&1&&!(t.flags&128))Td(),Jr(),t.flags|=98560,a=!1;else if(a=_s(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[ot]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),a=!1}else et!==null&&(Nl(et),et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):ko())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Yr(),pl(e,t),e===null&&Jn(t.stateNode.containerInfo),ge(t),null;case 10:return ao(t.type._context),ge(t),null;case 17:return Te(t.type)&&si(),ge(t),null;case 19:if(X(Z),a=t.memoizedState,a===null)return ge(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)xn(a,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=di(e),l!==null){for(t.flags|=128,xn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(Z,Z.current&1|2),t.child}e=e.sibling}a.tail!==null&&ne()>en&&(t.flags|=128,n=!0,xn(a,!1),t.lanes=4194304)}else{if(!n)if(e=di(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Y)return ge(t),null}else 2*ne()-a.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,n=!0,xn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,r=Z.current,Q(Z,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return No(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function zp(e,t){switch(ro(t),t.tag){case 1:return Te(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),X(Pe),X(ve),ho(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uo(t),null;case 13:if(X(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Z),null;case 4:return Yr(),null;case 10:return ao(t.type._context),null;case 22:case 23:return No(),null;case 24:return null;default:return null}}var Es=!1,ye=!1,Up=typeof WeakSet=="function"?WeakSet:Set,$=null;function Fr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function gl(e,t,r){try{r()}catch(n){re(e,t,n)}}var Uc=!1;function Bp(e,t){if(Za=ei,e=xd(),eo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(c=l+i),m!==a||n!==0&&m.nodeType!==3||(o=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++u===i&&(c=l),h===a&&++d===n&&(o=l),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(el={focusedElem:e,selectionRange:r},ei=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,_=g.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Xe(t.type,b),_);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){re(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=Uc,Uc=!1,g}function On(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&gl(t,r,a)}i=i.next}while(i!==n)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fh(e){var t=e.alternate;t!==null&&(e.alternate=null,fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[Yn],delete t[nl],delete t[kp],delete t[_p])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ni));else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}function vl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vl(e,t,r),e=e.sibling;e!==null;)vl(e,t,r),e=e.sibling}var he=null,Ye=!1;function Pt(e,t,r){for(r=r.child;r!==null;)ph(e,t,r),r=r.sibling}function ph(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 5:ye||Fr(r,t);case 6:var n=he,i=Ye;he=null,Pt(e,t,r),he=n,Ye=i,he!==null&&(Ye?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Ye?(e=he,r=r.stateNode,e.nodeType===8?ma(e.parentNode,r):e.nodeType===1&&ma(e,r),Gn(e)):ma(he,r.stateNode));break;case 4:n=he,i=Ye,he=r.stateNode.containerInfo,Ye=!0,Pt(e,t,r),he=n,Ye=i;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&gl(r,t,l),i=i.next}while(i!==n)}Pt(e,t,r);break;case 1:if(!ye&&(Fr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){re(r,t,c)}Pt(e,t,r);break;case 21:Pt(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Pt(e,t,r),ye=n):Pt(e,t,r);break;default:Pt(e,t,r)}}function Vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Up),t.forEach(function(n){var i=Xp.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:he=c.stateNode,Ye=!1;break e;case 3:he=c.stateNode.containerInfo,Ye=!0;break e;case 4:he=c.stateNode.containerInfo,Ye=!0;break e}c=c.return}if(he===null)throw Error(E(160));ph(a,l,i),he=null,Ye=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gh(t,e),t=t.sibling}function gh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),at(e),n&4){try{On(3,e,e.return),Di(3,e)}catch(b){re(e,e.return,b)}try{On(5,e,e.return)}catch(b){re(e,e.return,b)}}break;case 1:Qe(t,e),at(e),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(Qe(t,e),at(e),n&512&&r!==null&&Fr(r,r.return),e.flags&32){var i=e.stateNode;try{Vn(i,"")}catch(b){re(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Lu(i,a),Va(c,l);var u=Va(c,a);for(l=0;l<o.length;l+=2){var d=o[l],m=o[l+1];d==="style"?Vu(i,m):d==="dangerouslySetInnerHTML"?Uu(i,m):d==="children"?Vn(i,m):Ul(i,d,m,u)}switch(c){case"input":La(i,a);break;case"textarea":Fu(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ur(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ur(i,!!a.multiple,a.defaultValue,!0):Ur(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yn]=a}catch(b){re(e,e.return,b)}}break;case 6:if(Qe(t,e),at(e),n&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){re(e,e.return,b)}}break;case 3:if(Qe(t,e),at(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gn(t.containerInfo)}catch(b){re(e,e.return,b)}break;case 4:Qe(t,e),at(e);break;case 13:Qe(t,e),at(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(jo=ne())),n&4&&Vc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(u=ye)||d,Qe(t,e),ye=u):Qe(t,e),at(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(m=$=d;$!==null;){switch(h=$,p=h.child,h.tag){case 0:case 11:case 14:case 15:On(4,h,h.return);break;case 1:Fr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){re(n,r,b)}}break;case 5:Fr(h,h.return);break;case 22:if(h.memoizedState!==null){Hc(m);continue}}p!==null?(p.return=h,$=p):Hc(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,o=m.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Bu("display",l))}catch(b){re(e,e.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){re(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),at(e),n&4&&Vc(e);break;case 21:break;default:Qe(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vn(i,""),n.flags&=-33);var a=Bc(e);vl(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Bc(e);yl(e,c,l);break;default:throw Error(E(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vp(e,t,r){$=e,xh(e)}function xh(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Es;if(!l){var c=i.alternate,o=c!==null&&c.memoizedState!==null||ye;c=Es;var u=ye;if(Es=l,(ye=o)&&!u)for($=i;$!==null;)l=$,o=l.child,l.tag===22&&l.memoizedState!==null?Wc(i):o!==null?(o.return=l,$=o):Wc(i);for(;a!==null;)$=a,xh(a),a=a.sibling;$=i,Es=c,ye=u}qc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):qc(e)}}function qc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Di(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ec(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ec(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Gn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||t.flags&512&&xl(t)}catch(h){re(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Hc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Wc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Di(4,t)}catch(o){re(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(o){re(t,i,o)}}var a=t.return;try{xl(t)}catch(o){re(t,a,o)}break;case 5:var l=t.return;try{xl(t)}catch(o){re(t,l,o)}}}catch(o){re(t,t.return,o)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var qp=Math.ceil,mi=Ct.ReactCurrentDispatcher,vo=Ct.ReactCurrentOwner,Be=Ct.ReactCurrentBatchConfig,V=0,de=null,se=null,fe=0,Ae=0,zr=Jt(0),ae=0,ss=null,pr=0,Li=0,wo=0,In=null,Ce=null,jo=0,en=1/0,mt=null,pi=!1,wl=null,qt=null,Ps=!1,Lt=null,gi=0,Mn=0,jl=null,Hs=-1,Ws=0;function be(){return V&6?ne():Hs!==-1?Hs:Hs=ne()}function Ht(e){return e.mode&1?V&2&&fe!==0?fe&-fe:Sp.transition!==null?(Ws===0&&(Ws=td()),Ws):(e=W,e!==0||(e=window.event,e=e===void 0?16:od(e.type)),e):1}function rt(e,t,r,n){if(50<Mn)throw Mn=0,jl=null,Error(E(185));ls(e,r,n),(!(V&2)||e!==de)&&(e===de&&(!(V&2)&&(Li|=r),ae===4&&It(e,fe)),Re(e,n),r===1&&V===0&&!(t.mode&1)&&(en=ne()+500,Oi&&Xt()))}function Re(e,t){var r=e.callbackNode;Sm(e,t);var n=Zs(e,e===de?fe:0);if(n===0)r!==null&&tc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tc(r),t===1)e.tag===0?Cp(Gc.bind(null,e)):Sd(Gc.bind(null,e)),bp(function(){!(V&6)&&Xt()}),r=null;else{switch(rd(n)){case 1:r=Wl;break;case 4:r=Zu;break;case 16:r=Ys;break;case 536870912:r=ed;break;default:r=Ys}r=_h(r,yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yh(e,t){if(Hs=-1,Ws=0,V&6)throw Error(E(327));var r=e.callbackNode;if(Wr()&&e.callbackNode!==r)return null;var n=Zs(e,e===de?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xi(e,n);else{t=n;var i=V;V|=2;var a=wh();(de!==e||fe!==t)&&(mt=null,en=ne()+500,ur(e,t));do try{Gp();break}catch(c){vh(e,c)}while(!0);io(),mi.current=a,V=i,se!==null?t=0:(de=null,fe=0,t=ae)}if(t!==0){if(t===2&&(i=Ka(e),i!==0&&(n=i,t=bl(e,i))),t===1)throw r=ss,ur(e,0),It(e,n),Re(e,ne()),r;if(t===6)It(e,n);else{if(i=e.current.alternate,!(n&30)&&!Hp(i)&&(t=xi(e,n),t===2&&(a=Ka(e),a!==0&&(n=a,t=bl(e,a))),t===1))throw r=ss,ur(e,0),It(e,n),Re(e,ne()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:sr(e,Ce,mt);break;case 3:if(It(e,n),(n&130023424)===n&&(t=jo+500-ne(),10<t)){if(Zs(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rl(sr.bind(null,e,Ce,mt),t);break}sr(e,Ce,mt);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-tt(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qp(n/1960))-n,10<n){e.timeoutHandle=rl(sr.bind(null,e,Ce,mt),n);break}sr(e,Ce,mt);break;case 5:sr(e,Ce,mt);break;default:throw Error(E(329))}}}return Re(e,ne()),e.callbackNode===r?yh.bind(null,e):null}function bl(e,t){var r=In;return e.current.memoizedState.isDehydrated&&(ur(e,t).flags|=256),e=xi(e,t),e!==2&&(t=Ce,Ce=r,t!==null&&Nl(t)),e}function Nl(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function Hp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!nt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~wo,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function Gc(e){if(V&6)throw Error(E(327));Wr();var t=Zs(e,0);if(!(t&1))return Re(e,ne()),null;var r=xi(e,t);if(e.tag!==0&&r===2){var n=Ka(e);n!==0&&(t=n,r=bl(e,n))}if(r===1)throw r=ss,ur(e,0),It(e,t),Re(e,ne()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,Ce,mt),Re(e,ne()),null}function bo(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(en=ne()+500,Oi&&Xt())}}function gr(e){Lt!==null&&Lt.tag===0&&!(V&6)&&Wr();var t=V;V|=1;var r=Be.transition,n=W;try{if(Be.transition=null,W=1,e)return e()}finally{W=n,Be.transition=r,V=t,!(V&6)&&Xt()}}function No(){Ae=zr.current,X(zr)}function ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jp(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(ro(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&si();break;case 3:Yr(),X(Pe),X(ve),ho();break;case 5:uo(n);break;case 4:Yr();break;case 13:X(Z);break;case 19:X(Z);break;case 10:ao(n.type._context);break;case 22:case 23:No()}r=r.return}if(de=e,se=e=Wt(e.current,null),fe=Ae=t,ae=0,ss=null,wo=Li=pr=0,Ce=In=null,or!==null){for(t=0;t<or.length;t++)if(r=or[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}or=null}return e}function vh(e,t){do{var r=se;try{if(io(),Bs.current=fi,hi){for(var n=ee.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hi=!1}if(mr=0,ue=ie=ee=null,$n=!1,ts=0,vo.current=null,r===null||r.return===null){ae=1,ss=t,se=null;break}e:{var a=e,l=r.return,c=r,o=t;if(t=fe,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Oc(l);if(p!==null){p.flags&=-257,Ic(p,l,c,a,t),p.mode&1&&$c(a,u,t),t=p,o=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(o),t.updateQueue=b}else g.add(o);break e}else{if(!(t&1)){$c(a,u,t),ko();break e}o=Error(E(426))}}else if(Y&&c.mode&1){var _=Oc(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ic(_,l,c,a,t),no(Zr(o,c));break e}}a=o=Zr(o,c),ae!==4&&(ae=2),In===null?In=[a]:In.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=rh(a,o,t);Sc(a,x);break e;case 1:c=o;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qt===null||!qt.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=nh(a,c,t);Sc(a,w);break e}}a=a.return}while(a!==null)}bh(r)}catch(N){t=N,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function wh(){var e=mi.current;return mi.current=fi,e===null?fi:e}function ko(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(pr&268435455)&&!(Li&268435455)||It(de,fe)}function xi(e,t){var r=V;V|=2;var n=wh();(de!==e||fe!==t)&&(mt=null,ur(e,t));do try{Wp();break}catch(i){vh(e,i)}while(!0);if(io(),V=r,mi.current=n,se!==null)throw Error(E(261));return de=null,fe=0,ae}function Wp(){for(;se!==null;)jh(se)}function Gp(){for(;se!==null&&!ym();)jh(se)}function jh(e){var t=kh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?bh(e):se=t,vo.current=null}function bh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zp(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(r=Fp(r,t,Ae),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function sr(e,t,r){var n=W,i=Be.transition;try{Be.transition=null,W=1,Kp(e,t,r,n)}finally{Be.transition=i,W=n}return null}function Kp(e,t,r,n){do Wr();while(Lt!==null);if(V&6)throw Error(E(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Em(e,a),e===de&&(se=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,_h(Ys,function(){return Wr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Be.transition,Be.transition=null;var l=W;W=1;var c=V;V|=4,vo.current=null,Bp(e,r),gh(r,e),mp(el),ei=!!Za,el=Za=null,e.current=r,Vp(r),vm(),V=c,W=l,Be.transition=a}else e.current=r;if(Ps&&(Ps=!1,Lt=e,gi=i),a=e.pendingLanes,a===0&&(qt=null),bm(r.stateNode),Re(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pi)throw pi=!1,e=wl,wl=null,e;return gi&1&&e.tag!==0&&Wr(),a=e.pendingLanes,a&1?e===jl?Mn++:(Mn=0,jl=e):Mn=0,Xt(),null}function Wr(){if(Lt!==null){var e=rd(gi),t=Be.transition,r=W;try{if(Be.transition=null,W=16>e?16:e,Lt===null)var n=!1;else{if(e=Lt,Lt=null,gi=0,V&6)throw Error(E(331));var i=V;for(V|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:On(8,d,a)}var m=d.child;if(m!==null)m.return=d,$=m;else for(;$!==null;){d=$;var h=d.sibling,p=d.return;if(fh(d),d===u){$=null;break}if(h!==null){h.return=p,$=h;break}$=p}}}var g=a.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:On(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}var f=e.current;for($=f;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=f;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Di(9,c)}}catch(N){re(c,c.return,N)}if(c===l){$=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,$=w;break e}$=c.return}}if(V=i,Xt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Pi,e)}catch{}n=!0}return n}finally{W=r,Be.transition=t}}return!1}function Kc(e,t,r){t=Zr(r,t),t=rh(e,t,1),e=Vt(e,t,1),t=be(),e!==null&&(ls(e,1,t),Re(e,t))}function re(e,t,r){if(e.tag===3)Kc(e,e,r);else for(;t!==null;){if(t.tag===3){Kc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){e=Zr(r,e),e=nh(t,e,1),t=Vt(t,e,1),e=be(),t!==null&&(ls(t,1,e),Re(t,e));break}}t=t.return}}function Qp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>ne()-jo?ur(e,0):wo|=r),Re(e,t)}function Nh(e,t){t===0&&(e.mode&1?(t=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):t=1);var r=be();e=kt(e,t),e!==null&&(ls(e,t,r),Re(e,r))}function Jp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nh(e,r)}function Xp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Nh(e,r)}var kh;kh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,Lp(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,Y&&t.flags&1048576&&Ed(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var i=Qr(t,ve.current);Hr(t,r),i=mo(null,t,n,e,i,r);var a=po();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(n)?(a=!0,ii(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oo(t),i.updater=Mi,t.stateNode=i,i._reactInternals=t,cl(t,n,e,r),t=hl(null,t,n,!0,a,r)):(t.tag=0,Y&&a&&to(t),je(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Zp(n),e=Xe(n,e),i){case 0:t=dl(null,t,n,e,r);break e;case 1:t=Lc(null,t,n,e,r);break e;case 11:t=Mc(null,t,n,e,r);break e;case 14:t=Dc(null,t,n,Xe(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xe(n,i),dl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xe(n,i),Lc(e,t,n,i,r);case 3:e:{if(lh(t),e===null)throw Error(E(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Od(e,t),ui(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Zr(Error(E(423)),t),t=Fc(e,t,n,r,i);break e}else if(n!==i){i=Zr(Error(E(424)),t),t=Fc(e,t,n,r,i);break e}else for($e=Bt(t.stateNode.containerInfo.firstChild),Oe=t,Y=!0,et=null,r=Ad(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===i){t=_t(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return Id(t),e===null&&al(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,tl(n,i)?l=null:a!==null&&tl(n,a)&&(t.flags|=32),ah(e,t),je(e,t,l,r),t.child;case 6:return e===null&&al(t),null;case 13:return oh(e,t,r);case 4:return co(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xr(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xe(n,i),Mc(e,t,n,i,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Q(oi,n._currentValue),n._currentValue=l,a!==null)if(nt(a.value,l)){if(a.children===i.children&&!Pe.current){t=_t(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=wt(-1,r&-r),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),ll(a.return,r,t),c.lanes|=r;break}o=o.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(E(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),ll(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}je(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Hr(t,r),i=We(i),n=n(i),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,i=Xe(n,t.pendingProps),i=Xe(n.type,i),Dc(e,t,n,i,r);case 15:return sh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xe(n,i),qs(e,t),t.tag=1,Te(n)?(e=!0,ii(t)):e=!1,Hr(t,r),th(t,n,i),cl(t,n,i,r),hl(null,t,n,!0,e,r);case 19:return ch(e,t,r);case 22:return ih(e,t,r)}throw Error(E(156,t.tag))};function _h(e,t){return Yu(e,t)}function Yp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(e,t,r,n){return new Yp(e,t,r,n)}function _o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return _o(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vl)return 11;if(e===ql)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=Ue(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")_o(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Tr:return dr(r.children,i,a,t);case Bl:l=8,i|=8;break;case $a:return e=Ue(12,r,t,i|2),e.elementType=$a,e.lanes=a,e;case Oa:return e=Ue(13,r,t,i),e.elementType=Oa,e.lanes=a,e;case Ia:return e=Ue(19,r,t,i),e.elementType=Ia,e.lanes=a,e;case Iu:return Fi(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $u:l=10;break e;case Ou:l=9;break e;case Vl:l=11;break e;case ql:l=14;break e;case Rt:l=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ue(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function dr(e,t,r,n){return e=Ue(7,e,n,t),e.lanes=r,e}function Fi(e,t,r,n){return e=Ue(22,e,n,t),e.elementType=Iu,e.lanes=r,e.stateNode={isHidden:!1},e}function ba(e,t,r){return e=Ue(6,e,null,t),e.lanes=r,e}function Na(e,t,r){return t=Ue(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Co(e,t,r,n,i,a,l,c,o){return e=new e0(e,t,r,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ue(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oo(a),e}function t0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ch(e){if(!e)return Kt;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Te(r))return Cd(e,r,t)}return t}function Sh(e,t,r,n,i,a,l,c,o){return e=Co(r,n,!0,e,i,a,l,c,o),e.context=Ch(null),r=e.current,n=be(),i=Ht(r),a=wt(n,i),a.callback=t??null,Vt(r,a,i),e.current.lanes=i,ls(e,i,n),Re(e,n),e}function zi(e,t,r,n){var i=t.current,a=be(),l=Ht(i);return r=Ch(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(i,t,l),e!==null&&(rt(e,i,l,a),Us(e,i,l)),l}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function So(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function r0(){return null}var Eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eo(e){this._internalRoot=e}Ui.prototype.render=Eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));zi(e,t,null,null)};Ui.prototype.unmount=Eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){zi(null,e,null,null)}),t[Nt]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=id();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&ld(e)}};function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function n0(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=yi(l);a.call(u)}}var l=Sh(t,n,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=l,e[Nt]=l.current,Jn(e.nodeType===8?e.parentNode:e),gr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var u=yi(o);c.call(u)}}var o=Co(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[Nt]=o.current,Jn(e.nodeType===8?e.parentNode:e),gr(function(){zi(t,o,r,n)}),o}function Vi(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var c=i;i=function(){var o=yi(l);c.call(o)}}zi(t,l,e,i)}else l=n0(r,t,e,i,n);return yi(l)}nd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kn(t.pendingLanes);r!==0&&(Gl(t,r|1),Re(t,ne()),!(V&6)&&(en=ne()+500,Xt()))}break;case 13:gr(function(){var n=kt(e,1);if(n!==null){var i=be();rt(n,e,1,i)}}),So(e,1)}};Kl=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=be();rt(t,e,134217728,r)}So(e,134217728)}};sd=function(e){if(e.tag===13){var t=Ht(e),r=kt(e,t);if(r!==null){var n=be();rt(r,e,t,n)}So(e,t)}};id=function(){return W};ad=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Ha=function(e,t,r){switch(t){case"input":if(La(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$i(n);if(!i)throw Error(E(90));Du(n),La(n,i)}}}break;case"textarea":Fu(e,r);break;case"select":t=r.value,t!=null&&Ur(e,!!r.multiple,t,!1)}};Wu=bo;Gu=gr;var s0={usingClientEntryPoint:!1,Events:[cs,Or,$i,qu,Hu,bo]},yn={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i0={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ju(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||r0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Pi=Ts.inject(i0),ct=Ts}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;De.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Po(t))throw Error(E(200));return t0(e,t,null,r)};De.createRoot=function(e,t){if(!Po(e))throw Error(E(299));var r=!1,n="",i=Eh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Co(e,1,!1,null,null,r,!1,n,i),e[Nt]=t.current,Jn(e.nodeType===8?e.parentNode:e),new Eo(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Ju(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return gr(e)};De.hydrate=function(e,t,r){if(!Bi(t))throw Error(E(200));return Vi(null,e,t,!0,r)};De.hydrateRoot=function(e,t,r){if(!Po(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Eh;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Sh(t,null,e,1,r??null,i,!1,a,l),e[Nt]=t.current,Jn(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Ui(t)};De.render=function(e,t,r){if(!Bi(t))throw Error(E(200));return Vi(null,e,t,!1,r)};De.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(E(40));return e._reactRootContainer?(gr(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};De.unstable_batchedUpdates=bo;De.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bi(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Vi(e,t,r,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function Ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ph)}catch(e){console.error(e)}}Ph(),Pu.exports=De;var a0=Pu.exports,Th,Xc=a0;Th=Xc.createRoot,Xc.hydrateRoot;const l0="modulepreload",o0=function(e){return"/"+e},Yc={},ds=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=o0(o),o in Yc)return;Yc[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":l0,u||(m.as="script"),m.crossOrigin="",m.href=o,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},c0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class To extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class u0 extends To{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class d0 extends To{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class h0 extends To{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kl||(kl={}));var f0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class m0{constructor(t,{headers:r={},customFetch:n,region:i=kl.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=c0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return f0(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let c={},{region:o}=r;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(c["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:u}).catch(g=>{throw new u0(g)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new d0(d);if(!d.ok)throw new h0(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Se={},Ro={},qi={},hs={},Hi={},Wi={},p0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tn=p0();const g0=tn.fetch,Rh=tn.fetch.bind(tn),Ah=tn.Headers,x0=tn.Request,y0=tn.Response,ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ah,Request:x0,Response:y0,default:Rh,fetch:g0},Symbol.toStringTag,{value:"Module"})),v0=Of(ln);var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});let w0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gi.default=w0;var $h=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wi,"__esModule",{value:!0});const j0=$h(v0),b0=$h(Gi);let N0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=j0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,o;let u=null,d=null,m=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const b=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await a.text();try{u=JSON.parse(b),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new b0.default(u)}return{error:u,data:d,count:m,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,c,o;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Wi.default=N0;var k0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const _0=k0(Wi);let C0=class extends _0.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hi.default=C0;var S0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const E0=S0(Hi);let P0=class extends E0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};hs.default=P0;var T0=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const vn=T0(hs);let R0=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new vn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new vn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new vn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new vn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qi.default=R0;var Ki={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.version=void 0;Qi.version="0.0.0-automated";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.DEFAULT_HEADERS=void 0;const A0=Qi;Ki.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${A0.version}`};var Oh=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ro,"__esModule",{value:!0});const $0=Oh(qi),O0=Oh(hs),I0=Ki;let M0=class Ih{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},I0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new $0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ih(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{c.searchParams.append(d,m)})):(l="POST",o=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new O0.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};Ro.default=M0;var on=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const Mh=on(Ro);Se.PostgrestClient=Mh.default;const Dh=on(qi);Se.PostgrestQueryBuilder=Dh.default;const Lh=on(hs);Se.PostgrestFilterBuilder=Lh.default;const Fh=on(Hi);Se.PostgrestTransformBuilder=Fh.default;const zh=on(Wi);Se.PostgrestBuilder=zh.default;const Uh=on(Gi);Se.PostgrestError=Uh.default;var D0=Se.default={PostgrestClient:Mh.default,PostgrestQueryBuilder:Dh.default,PostgrestFilterBuilder:Lh.default,PostgrestTransformBuilder:Fh.default,PostgrestBuilder:zh.default,PostgrestError:Uh.default};const{PostgrestClient:L0,PostgrestQueryBuilder:jy,PostgrestFilterBuilder:by,PostgrestTransformBuilder:Ny,PostgrestBuilder:ky,PostgrestError:_y}=D0;function F0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const z0=F0(),U0="2.11.15",B0=`realtime-js/${U0}`,V0="1.0.0",Bh=1e4,q0=1e3;var Dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dn||(Dn={}));var xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xe||(xe={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var _l;(function(e){e.websocket="websocket"})(_l||(_l={}));var ar;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ar||(ar={}));class H0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+i));l=l+i;const o=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class Vh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Zc=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=W0(l,e,t,i),a),{})},W0=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!n.includes(a)?qh(a,l):Cl(l)},qh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J0(t,r)}switch(e){case K.bool:return G0(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return K0(t);case K.json:case K.jsonb:return Q0(t);case K.timestamp:return X0(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Cl(t);default:return Cl(t)}},Cl=e=>e,G0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>qh(t,c))}return e},X0=e=>typeof e=="string"?e.replace(" ","T"):e,Hh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ka{constructor(t,r,n={},i=Bh){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eu||(eu={}));class Ln{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ln.syncState(this.state,i,a,l),this.pendingDiffs.forEach(o=>{this.state=Ln.syncDiff(this.state,o,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ln.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),c={},o={};return this.map(a,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const m=a[u];if(m){const h=d.map(_=>_.presence_ref),p=m.map(_=>_.presence_ref),g=d.filter(_=>p.indexOf(_.presence_ref)<0),b=m.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(c[u]=g),b.length>0&&(o[u]=b)}else c[u]=d}),this.syncDiff(a,{joins:c,leaves:o},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const m=t[c].map(p=>p.presence_ref),h=d.filter(p=>m.indexOf(p.presence_ref)<0);t[c].unshift(...h)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[c]=u,i(c,u,o),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tu||(tu={}));var ru;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ru||(ru={}));var pt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class Ao{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ka(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ln(this),this.broadcastEndpointURL=Hh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(d=>t==null?void 0:t(pt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(pt.CLOSED));const o={},u={broadcast:a,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){t==null||t(pt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(m=h==null?void 0:h.length)!==null&&m!==void 0?m:0,g=[];for(let b=0;b<p;b++){const _=h[b],{filter:{event:x,schema:f,table:y,filter:w}}=_,N=d&&d[b];if(N&&N.event===x&&N.schema===f&&N.table===y&&N.filter===w)g.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=xe.errored,t==null||t(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(pt.SUBSCRIBED);return}}).receive("error",d=>{this.state=xe.errored,t==null||t(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ka(this,Ze.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ka(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=Ze;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,b,_;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(b=p.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(p=>p.callback(h,n)):(a=this.bindings[l])===null||a===void 0||a.filter(p=>{var g,b,_,x,f,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const w=p.id,N=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(f=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:b,table:_,commit_timestamp:x,type:f,errors:y}=g;h=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:x,eventType:f,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ao.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Zc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Zc(t.columns,t.old_record)),r}}const nu=()=>{},Y0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nu,this.ref=0,this.logger=nu,this.conn=null,this.sendBuffer=[],this.serializer=new H0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>ds(async()=>{const{default:o}=await Promise.resolve().then(()=>ln);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${_l.websocket}`,this.httpEndpoint=Hh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=z0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return ar.Connecting;case Dn.open:return ar.Open;case Dn.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Ao(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:B0};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(q0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:l}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Y0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $o extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class eg extends $o{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sl extends $o{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var tg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const Wh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rg=()=>tg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>ln),void 0)).Response:Response}),El=e=>{if(Array.isArray(e))return e.map(r=>El(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=El(n)}),t};var wr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const _a=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ng=(e,t,r)=>wr(void 0,void 0,void 0,function*(){const n=yield rg();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new eg(_a(i),e.status||500))}).catch(i=>{t(new Sl(_a(i),i))}):t(new Sl(_a(e),e))}),sg=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function fs(e,t,r,n,i,a){return wr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,sg(t,n,i,a)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>ng(o,c,n))})})}function vi(e,t,r,n){return wr(this,void 0,void 0,function*(){return fs(e,"GET",t,r,n)})}function $t(e,t,r,n,i){return wr(this,void 0,void 0,function*(){return fs(e,"POST",t,n,i,r)})}function ig(e,t,r,n,i){return wr(this,void 0,void 0,function*(){return fs(e,"PUT",t,n,i,r)})}function ag(e,t,r,n){return wr(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gh(e,t,r,n,i){return wr(this,void 0,void 0,function*(){return fs(e,"DELETE",t,n,i,r)})}var _e=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const lg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},su={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class og{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Wh(i)}uploadOrUpdate(t,r,n,i){return _e(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},su),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),h=yield m.json();return m.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:su.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),h=yield m.json();return m.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield $t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new $o("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield $t(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}download(t,r){return _e(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield vi(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:El(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ag(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof Sl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lg),r),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const cg="2.7.1",ug={"X-Client-Info":`storage-js/${cg}`};var kr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class dg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ug),r),this.fetch=Wh(n)}listBuckets(){return kr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return kr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return kr(this,void 0,void 0,function*(){try{return{data:yield ig(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return kr(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class hg extends dg{constructor(t,r={},n){super(t,r,n)}from(t){return new og(this.url,this.headers,t,this.fetch)}}const fg="2.50.2";let Cn="";typeof Deno<"u"?Cn="deno":typeof document<"u"?Cn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cn="react-native":Cn="node";const mg={"X-Client-Info":`supabase-js-${Cn}/${fg}`},pg={headers:mg},gg={schema:"public"},xg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yg={};var vg=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const wg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Rh:t=fetch,(...r)=>t(...r)},jg=()=>typeof Headers>"u"?Ah:Headers,bg=(e,t,r)=>{const n=wg(r),i=jg();return(a,l)=>vg(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var Ng=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};function kg(e){return e.endsWith("/")?e:e+"/"}function _g(e,t){var r,n;const{db:i,auth:a,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:m}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ng(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Kh="2.70.0",Er=30*1e3,Pl=3,Ca=Pl*Er,Cg="http://localhost:9999",Sg="supabase.auth.token",Eg={"X-Client-Info":`gotrue-js/${Kh}`},Tl="X-Supabase-Api-Version",Qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tg=6e5;class Oo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rg extends Oo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ag(e){return z(e)&&e.name==="AuthApiError"}class Jh extends Oo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yt extends Oo{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Tt extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $g(e){return z(e)&&e.name==="AuthSessionMissingError"}class Rs extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $s extends Yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Og(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class iu extends Yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rl extends Yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Sa(e){return z(e)&&e.name==="AuthRetryableFetchError"}class au extends Yt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fn extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lu=` 	
\r=`.split(""),Ig=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lu.length;t+=1)e[lu[t].charCodeAt(0)]=-2;for(let t=0;t<wi.length;t+=1)e[wi[t].charCodeAt(0)]=t;return e})();function ou(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}}function Xh(e,t,r){const n=Ig[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Lg(l,n,r)};for(let l=0;l<e.length;l+=1)Xh(e.charCodeAt(l),i,a);return t.join("")}function Mg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Mg(n,t)}}function Lg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Fg(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Xh(e.charCodeAt(i),r,n);return new Uint8Array(t)}function zg(e){const t=[];return Dg(e,r=>t.push(r)),new Uint8Array(t)}function Ug(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>ou(i,r,n)),ou(null,r,n),t.join("")}function Bg(e){return Math.round(Date.now()/1e3)+e}function Vg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},zn=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function qg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Hg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Os=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Is=async(e,t)=>{await e.removeItem(t)};class Ji{constructor(){this.promise=new Ji.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ji.promiseConstructor=Promise;function Ea(e){const t=e.split(".");if(t.length!==3)throw new Fn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Pg.test(t[n]))throw new Fn("JWT not in base64url format");return{header:JSON.parse(cu(t[0])),payload:JSON.parse(cu(t[1])),signature:Fg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Wg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gg(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function Kg(e){return("0"+e.toString(16)).substr(-2)}function Qg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Kg).join("")}async function Jg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Xg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Jg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(e,t,r=!1){const n=Qg();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Zh(e,`${t}-code-verifier`,i);const a=await Xg(n);return[a,n===a?"plain":"s256"]}const Yg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zg(e){const t=e.headers.get(Tl);if(!t||!t.match(Yg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ex(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(e){if(!rx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var nx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sx=[502,503,504];async function uu(e){var t;if(!Hg(e))throw new Rl(ir(e),0);if(sx.includes(e.status))throw new Rl(ir(e),e.status);let r;try{r=await e.json()}catch(a){throw new Jh(ir(a),a)}let n;const i=Zg(e);if(i&&i.getTime()>=Qh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new au(ir(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new au(ir(r),e.status,r.weak_password.reasons);throw new Rg(ir(r),e.status||500,n)}const ix=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function U(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Tl]||(a[Tl]=Qh["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await ax(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function ax(e,t,r,n,i,a){const l=ix(t,n,i,a);let c;try{c=await e(r,Object.assign({},l))}catch(o){throw console.error(o),new Rl(ir(o),0)}if(c.ok||await uu(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await uu(o)}}function ft(e){var t;let r=null;ux(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Bg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function du(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lx(e){return{data:e,error:null}}function ox(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=nx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function cx(e){return e}function ux(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pa=["global","local","others"];var dx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class hx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Pa[0]){if(Pa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pa.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dx(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ox,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:cx});if(d.error)throw d.error;const m=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);u[`${_}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cr(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Cr(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Cr(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Cr(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Cr(t.userId),Cr(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const fx={getItem:e=>zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zn()&&globalThis.localStorage.removeItem(e)}};function hu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function mx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sr={debug:!!(globalThis&&zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ef extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class px extends ef{}async function gx(e,t,r){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new px(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}mx();const xx={url:Cg,storageKey:Sg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fu(e,t,r){return await r()}class is{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xx),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yh(i.fetch),this.lock=i.lock||fu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Je()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gx:this.lock=fu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:zn()?this.storage=fx:(this.memoryStorage={},this.storage=hu(this.memoryStorage)):(this.memoryStorage={},this.storage=hu(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=qg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Og(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new Jh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ft}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:m,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await _r(this.storage,this.storageKey)),a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ft})}else if("phone"in t){const{phone:d,password:m,options:h}=t;a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new As("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:c}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:du})}else if("phone"in t){const{phone:a,password:l,options:c}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:du})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,l,c,o,u,d,m,h,p;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:_,wallet:x,statement:f,options:y}=t;let w;if(Je())if(typeof x=="object")w=x;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))w=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const v=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let C;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")C=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)C=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),b=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((m=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const v=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=v}}try{const{data:_,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ug(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ft});if(x)throw x;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Rs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:x})}catch(_){if(z(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ft});if(await Is(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(z(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,c=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Rs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _r(this.storage,this.storageKey));const{error:m}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new As("You must provide either an email or phone number.")}catch(c){if(z(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ft});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await _r(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:lx})}catch(a){if(z(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tt;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:c}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new As("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ca:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mt}):await this._useSession(async r=>{var n,i,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Mt})})}catch(r){if(z(r))return $g(r)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Tt;const l=i.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await _r(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:Mt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Ea(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Je())throw new $s("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $s(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new iu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iu("No code detected.");const{data:f,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!a||!c||!l||!u)throw new $s("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(c);let h=d+m;o&&(h=parseInt(o));const p=h-d;p*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const g=h-m;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:b,error:_}=await this._getUser(a);if(_)throw _;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:h,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Ag(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Vg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _r(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(z(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,c,o,u,d;const{data:m,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Gg(async i=>(i>0&&await Wg(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Sa(a)&&Date.now()+l-n<Er})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Os(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ca;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ca}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Sa(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ji;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Tt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),z(a)){const l={session:null,error:a};return Sa(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(o){a.push(o)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Er}ms, refresh threshold is ${Pl} ticks`),i<=Pl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ef)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await _r(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ea(i.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Tg>Date.now()))return n;const{data:i,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Fn("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(l=>l.kid===t),!n)throw new Fn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:o}}=Ea(n);if(ex(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:l},error:null}}const u=tx(i.alg),d=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,l,zg(`${c}.${o}`)))throw new Fn("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}is.nextInstanceID=0;const yx=is;class vx extends yx{constructor(t){super(t)}}var wx=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?a(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class jx{constructor(t,r,n){var i,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=kg(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:gg,realtime:yg,auth:Object.assign(Object.assign({},xg),{storageKey:u}),global:pg},m=_g(n??{},d);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=bg(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new L0(new URL("rest/v1",o).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new m0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return wx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:l,lock:c,debug:o},u,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vx({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Z0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bx=(e,t,r)=>new jx(e,t,r),Nx="https://jkmyflqzrmtvacpsgrxs.supabase.co",kx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImprbXlmbHF6cm10dmFjcHNncnhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjAzNDMsImV4cCI6MjA2Njc5NjM0M30.i9T9hR0Ux7bX5-6i0wFFxqnktgvPi5a7vG4URrCkEUw",vt=bx(Nx,kx);function rr(e){const[t,r]=R.useState([]),[n,i]=R.useState(!0),[a,l]=R.useState(null),c=async()=>{try{i(!0);const{data:m,error:h}=await vt.from(e).select("*").order("created_at",{ascending:!1});if(h)throw h;r(m||[])}catch(m){l(m instanceof Error?m.message:"Erro desconhecido")}finally{i(!1)}},o=async m=>{try{const{data:h,error:p}=await vt.from(e).insert(m).select().single();if(p)throw p;return r(g=>[h,...g]),h}catch(h){throw l(h instanceof Error?h.message:"Erro ao inserir"),h}},u=async(m,h)=>{try{const{data:p,error:g}=await vt.from(e).update(h).eq("id",m).select().single();if(g)throw g;return r(b=>b.map(_=>_.id===m?p:_)),p}catch(p){throw l(p instanceof Error?p.message:"Erro ao atualizar"),p}},d=async m=>{try{const{error:h}=await vt.from(e).delete().eq("id",m);if(h)throw h;r(p=>p.filter(g=>g.id!==m))}catch(h){throw l(h instanceof Error?h.message:"Erro ao deletar"),h}};return R.useEffect(()=>{c()},[e]),{data:t,loading:n,error:a,fetchAll:c,insert:o,update:u,remove:d,setError:l}}function _x(){const[e,t]=R.useState([]),[r,n]=R.useState(!0),[i,a]=R.useState(null),l=async()=>{try{n(!0);const{data:h,error:p}=await vt.from("customers").select(`
          *,
          level:customer_levels(*)
        `).order("created_at",{ascending:!1});if(p)throw p;t(h||[])}catch(h){a(h instanceof Error?h.message:"Erro ao buscar clientes")}finally{n(!1)}},c=async h=>{try{const{data:p,error:g}=await vt.from("customers").insert({first_name:h.firstName,last_name:h.lastName,email:h.email,phone:h.phone,document:h.document,points:h.points||0,level_id:h.level.id,status:h.status,email_verified:h.emailVerified||!1,phone_verified:h.phoneVerified||!1,document_verified:h.documentVerified||!0}).select(`
          *,
          level:customer_levels(*)
        `).single();if(g)throw g;return t(b=>[p,...b]),p}catch(p){throw a(p instanceof Error?p.message:"Erro ao adicionar cliente"),p}},o=async(h,p)=>{try{const g={};p.firstName&&(g.first_name=p.firstName),p.lastName&&(g.last_name=p.lastName),p.email&&(g.email=p.email),p.phone&&(g.phone=p.phone),p.document&&(g.document=p.document),p.points!==void 0&&(g.points=p.points),p.level&&(g.level_id=p.level.id),p.status&&(g.status=p.status),p.emailVerified!==void 0&&(g.email_verified=p.emailVerified),p.phoneVerified!==void 0&&(g.phone_verified=p.phoneVerified),p.documentVerified!==void 0&&(g.document_verified=p.documentVerified);const{data:b,error:_}=await vt.from("customers").update(g).eq("id",h).select(`
          *,
          level:customer_levels(*)
        `).single();if(_)throw _;return t(x=>x.map(f=>f.id===h?b:f)),b}catch(g){throw a(g instanceof Error?g.message:"Erro ao atualizar cliente"),g}},u=h=>{const p=h.replace(/[^\d]/g,"");return e.find(g=>g.document.replace(/[^\d]/g,"")===p)},d=h=>e.find(p=>p.email.toLowerCase()===h.toLowerCase()),m=h=>{const p=h.replace(/[^\d]/g,"");return e.find(g=>g.phone.replace(/[^\d]/g,"")===p)};return R.useEffect(()=>{l()},[]),{customers:e,loading:r,error:i,fetchCustomers:l,addCustomer:c,updateCustomer:o,findCustomerByDocument:u,findCustomerByEmail:d,findCustomerByPhone:m,setError:a}}function Cx(){const[e,t]=R.useState([]),[r,n]=R.useState(!0),[i,a]=R.useState(null),l=async()=>{try{n(!0);const{data:o,error:u}=await vt.from("point_movements").select("*").order("created_at",{ascending:!1});if(u)throw u;t(o||[])}catch(o){a(o instanceof Error?o.message:"Erro ao buscar movimentações")}finally{n(!1)}},c=async o=>{try{const{data:u,error:d}=await vt.from("point_movements").insert({customer_id:o.customerId,customer_document:o.customerDocument,type:o.type,points:o.points,description:o.description,date:o.date,reference:o.reference,coupon_code:o.couponCode}).select().single();if(d)throw d;return t(m=>[u,...m]),u}catch(u){throw a(u instanceof Error?u.message:"Erro ao adicionar movimentação"),u}};return R.useEffect(()=>{l()},[]),{movements:e,loading:r,error:i,fetchMovements:l,addMovement:c,setError:a}}const tf=R.createContext(void 0),st=()=>{const e=R.useContext(tf);if(!e)throw new Error("useApp must be used within an AppProvider");return e},Sx=[{id:"550e8400-e29b-41d4-a716-446655440000",name:"Bronze",color:"#CD7F32",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}},{id:"550e8400-e29b-41d4-a716-446655440001",name:"Prata",color:"#C0C0C0",icon:"star",order:2,requirements:{minPoints:1e3,minPurchaseValue:500,timeframe:365},benefits:{pointsMultiplier:1.2,referralBonus:1.5,freeShipping:!0,exclusiveEvents:!1,customRewards:[]}},{id:"550e8400-e29b-41d4-a716-446655440002",name:"Ouro",color:"#FFD700",icon:"crown",order:3,requirements:{minPoints:5e3,minPurchaseValue:2e3,timeframe:365},benefits:{pointsMultiplier:1.5,referralBonus:2,freeShipping:!0,exclusiveEvents:!0,customRewards:[]}}],Ex=e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0;for(let i=0;i<9;i++)r+=parseInt(t.charAt(i))*(10-i);let n=r*10%11;if((n===10||n===11)&&(n=0),n!==parseInt(t.charAt(9)))return!1;r=0;for(let i=0;i<10;i++)r+=parseInt(t.charAt(i))*(11-i);return n=r*10%11,(n===10||n===11)&&(n=0),n===parseInt(t.charAt(10))},wn=e=>e.replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),jn=e=>({id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,document:e.document,points:e.points,level:rf(e.level),status:e.status,registrationDate:e.registration_date,lastPurchase:e.last_purchase,address:e.address,preferences:e.preferences,emailVerified:e.email_verified,phoneVerified:e.phone_verified,documentVerified:e.document_verified}),rf=e=>({id:e.id,name:e.name,color:e.color,icon:e.icon,order:e.order_position,requirements:{minPoints:e.min_points,minPurchaseValue:e.min_purchase_value,timeframe:e.timeframe_days},benefits:{pointsMultiplier:e.points_multiplier,referralBonus:e.referral_bonus,freeShipping:e.free_shipping,exclusiveEvents:e.exclusive_events,customRewards:e.custom_rewards||[]}}),Px=e=>({id:e.id,customerId:e.customer_id,customerDocument:e.customer_document,type:e.type,points:e.points,description:e.description,date:e.date,reference:e.reference,couponCode:e.coupon_code}),Tx=e=>({id:e.id,name:e.name,code:e.code,address:e.address,phone:e.phone,email:e.email,manager:e.manager,isActive:e.is_active,color:e.color}),Rx=({children:e})=>{const{customers:t,loading:r,error:n,addCustomer:i,updateCustomer:a,findCustomerByDocument:l,findCustomerByEmail:c,findCustomerByPhone:o}=_x(),{data:u,loading:d,error:m,insert:h,update:p,remove:g}=rr("customer_levels"),{movements:b,loading:_,error:x,addMovement:f}=Cx(),{data:y,loading:w,error:N}=rr("rewards"),{data:v,loading:C,error:j}=rr("campaigns"),{data:D,loading:I,error:q}=rr("referrals"),{data:le,loading:T,error:G,insert:we,update:Ke,remove:Zt}=rr("referral_types"),{data:A,loading:L,error:P,insert:F,update:H,remove:it}=rr("branches"),{data:oe,loading:cn,error:dt,update:br}=rr("settings"),Do=t.map(jn),Xi=u.length>0?u.map(rf):Sx,ff=b.map(Px),mf=A.map(Tx),pf=y.map(k=>({id:k.id,name:k.name,description:k.description,pointsCost:k.points_cost,type:k.type,value:k.value,isActive:k.is_active,expirationDays:k.expiration_days,image:k.image_url,conditions:k.conditions})),gf=v.map(k=>({id:k.id,name:k.name,type:k.type,multiplier:k.multiplier,startDate:k.start_date,endDate:k.end_date,products:k.products,isActive:k.is_active,widget:k.widget})),xf=D.map(k=>({id:k.id,referrerId:k.referrer_id,referrerDocument:k.referrer_document,referredId:k.referred_id||"",referredDocument:k.referred_document||"",referredIdentifier:k.referred_identifier,referredIdentifierType:k.referred_identifier_type,referralTypeId:k.referral_type_id,status:k.status,date:k.date,method:k.method,validatedDate:k.validated_date,rejectedReason:k.rejected_reason,purchaseValue:k.purchase_value})),yf=le.map(k=>({id:k.id,name:k.name,description:k.description,icon:k.icon,color:k.color,isActive:k.is_active,methods:k.methods,referrerReward:k.referrer_reward,referredReward:k.referred_reward,conditions:k.conditions})),St=oe[0]?{company:oe[0].company,program:oe[0].program,notifications:oe[0].notifications,validation:oe[0].validation,terms:oe[0].terms}:{company:{name:"",website:"",address:""},program:{name:"",primaryColor:"#3B82F6",secondaryColor:"#10B981",font:"Inter",pointsPerReal:1,minPurchaseValue:50,pointsExpiration:{enabled:!0,days:365,notifyDaysBefore:30}},notifications:{email:!0,whatsapp:!0,sms:!1},validation:{requireCpfValidation:!0,requireEmailVerification:!1,requirePhoneVerification:!1,allowDuplicateEmail:!1,allowDuplicatePhone:!0},terms:""},vf=r||d||_||w||C||I||T||L||cn,wf=n||m||x||N||j||q||G||P||dt,Lo=k=>{const S=l(k);return S?jn(S):void 0},Fo=k=>{const S=c(k);return S?jn(S):void 0},zo=k=>{const S=o(k);return S?jn(S):void 0},Uo=(k,S,O)=>{const Et=k.replace(/[^\d]/g,"");if(!Ex(Et))return{document:wn(Et),email:S,phone:O,isValid:!1,conflicts:{duplicateDocument:!1}};const ht={};let un=!1;const Bo=Lo(Et);if(Bo&&(ht.duplicateDocument=!0,ht.existingCustomer=Bo,un=!0),S&&!St.validation.allowDuplicateEmail){const er=Fo(S);er&&er.document!==wn(Et)&&(ht.duplicateEmail=!0,ht.existingCustomer||(ht.existingCustomer=er),un=!0)}if(O&&!St.validation.allowDuplicatePhone){const er=zo(O);er&&er.document!==wn(Et)&&(ht.duplicatePhone=!0,ht.existingCustomer||(ht.existingCustomer=er),un=!0)}return{document:wn(Et),email:S,phone:O,isValid:!un,conflicts:un?ht:void 0}},jf=async k=>{if(!Uo(k.document,k.email,k.phone).isValid)return null;try{const O=Xi[0];if(!O)return console.error("Nenhum nível disponível para atribuir ao cliente"),null;const Et=await i({...k,document:wn(k.document),level:O});return jn(Et)}catch(O){return console.error("Erro ao adicionar cliente:",O),null}},bf=async(k,S)=>{try{await a(k,S)}catch(O){console.error("Erro ao atualizar cliente:",O)}},Nf=async k=>{try{await f(k)}catch(S){console.error("Erro ao adicionar movimentação:",S)}},kf=async k=>{try{oe[0]&&await br(oe[0].id,{company:{...St.company,...k.company},program:{...St.program,...k.program},notifications:{...St.notifications,...k.notifications},validation:{...St.validation,...k.validation},terms:k.terms||St.terms})}catch(S){console.error("Erro ao atualizar configurações:",S)}},_f=async k=>{try{await h({name:k.name,color:k.color,icon:k.icon,order_position:k.order,min_points:k.requirements.minPoints,min_purchase_value:k.requirements.minPurchaseValue,timeframe_days:k.requirements.timeframe,points_multiplier:k.benefits.pointsMultiplier,referral_bonus:k.benefits.referralBonus,free_shipping:k.benefits.freeShipping,exclusive_events:k.benefits.exclusiveEvents,custom_rewards:k.benefits.customRewards})}catch(S){console.error("Erro ao adicionar nível:",S)}},Cf=async(k,S)=>{try{const O={};S.name&&(O.name=S.name),S.color&&(O.color=S.color),S.icon&&(O.icon=S.icon),S.order&&(O.order_position=S.order),S.requirements&&(S.requirements.minPoints!==void 0&&(O.min_points=S.requirements.minPoints),S.requirements.minPurchaseValue!==void 0&&(O.min_purchase_value=S.requirements.minPurchaseValue),S.requirements.timeframe!==void 0&&(O.timeframe_days=S.requirements.timeframe)),S.benefits&&(S.benefits.pointsMultiplier!==void 0&&(O.points_multiplier=S.benefits.pointsMultiplier),S.benefits.referralBonus!==void 0&&(O.referral_bonus=S.benefits.referralBonus),S.benefits.freeShipping!==void 0&&(O.free_shipping=S.benefits.freeShipping),S.benefits.exclusiveEvents!==void 0&&(O.exclusive_events=S.benefits.exclusiveEvents),S.benefits.customRewards!==void 0&&(O.custom_rewards=S.benefits.customRewards)),await p(k,O)}catch(O){console.error("Erro ao atualizar nível:",O)}},Sf=async k=>{const S=Do.filter(O=>O.level.id===k);if(S.length>0){alert(`Não é possível deletar este nível pois há ${S.length} cliente(s) associado(s) a ele.`);return}if(Xi.length<=1){alert("Não é possível deletar o último nível. Deve haver pelo menos um nível ativo.");return}try{await g(k)}catch(O){console.error("Erro ao deletar nível:",O)}},Ef=async k=>{try{await F({name:k.name,code:k.code,address:k.address,phone:k.phone,email:k.email,manager:k.manager,is_active:k.isActive,color:k.color})}catch(S){console.error("Erro ao adicionar filial:",S)}},Pf=async(k,S)=>{try{const O={};S.name&&(O.name=S.name),S.code&&(O.code=S.code),S.address&&(O.address=S.address),S.phone&&(O.phone=S.phone),S.email&&(O.email=S.email),S.manager&&(O.manager=S.manager),S.isActive!==void 0&&(O.is_active=S.isActive),S.color&&(O.color=S.color),await H(k,O)}catch(O){console.error("Erro ao atualizar filial:",O)}},Tf=async k=>{try{await it(k)}catch(S){console.error("Erro ao deletar filial:",S)}},Rf=async k=>{try{await we({name:k.name,description:k.description,icon:k.icon,color:k.color,is_active:k.isActive,methods:k.methods,referrer_reward:k.referrerReward,referred_reward:k.referredReward,conditions:k.conditions})}catch(S){console.error("Erro ao adicionar tipo de indicação:",S)}},Af=async(k,S)=>{try{const O={};S.name&&(O.name=S.name),S.description&&(O.description=S.description),S.icon&&(O.icon=S.icon),S.color&&(O.color=S.color),S.isActive!==void 0&&(O.is_active=S.isActive),S.methods&&(O.methods=S.methods),S.referrerReward&&(O.referrer_reward=S.referrerReward),S.referredReward&&(O.referred_reward=S.referredReward),S.conditions&&(O.conditions=S.conditions),await Ke(k,O)}catch(O){console.error("Erro ao atualizar tipo de indicação:",O)}},$f=async k=>{try{await Zt(k)}catch(S){console.error("Erro ao deletar tipo de indicação:",S)}};return s.jsx(tf.Provider,{value:{customers:Do,levels:Xi,movements:ff,rewards:pf,campaigns:gf,referrals:xf,referralTypes:yf,branches:mf,settings:St,loading:vf,error:wf,updateCustomer:bf,addMovement:Nf,updateSettings:kf,addReferralType:Rf,updateReferralType:Af,deleteReferralType:$f,validateCustomer:Uo,findCustomerByDocument:Lo,findCustomerByEmail:Fo,findCustomerByPhone:zo,addCustomer:jf,addLevel:_f,updateLevel:Cf,deleteLevel:Sf,addBranch:Ef,updateBranch:Pf,deleteBranch:Tf},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const r=R.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:o,...u},d)=>R.createElement("svg",{ref:d,...Ax,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${$x(e)}`,c].join(" "),...u},[...t.map(([m,h])=>R.createElement(m,h)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=M("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=M("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=M("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=M("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=M("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=M("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=M("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=M("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=M("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=M("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=M("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=M("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=M("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=M("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=M("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=M("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xx=({children:e,currentPage:t,onPageChange:r})=>{const[n,i]=R.useState(!1),a=[{id:"dashboard",label:"Dashboard",icon:jt},{id:"customers",label:"Clientes",icon:Ol},{id:"branches",label:"Filiais",icon:ji},{id:"levels",label:"Níveis",icon:qe},{id:"movements",label:"Movimentos",icon:jt},{id:"rewards",label:"Recompensas",icon:Me},{id:"referrals",label:"Indicações",icon:Un},{id:"communication",label:"Comunicação",icon:Ci},{id:"objectives",label:"Objetivos",icon:Ks},{id:"settings",label:"Personalização",icon:of}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-md bg-white shadow-md",children:n?s.jsx(xr,{size:24}):s.jsx(zx,{size:24})})}),s.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[s.jsxs("div",{className:"flex items-center justify-center h-16 bg-blue-600 text-white",children:[s.jsx(Me,{className:"w-8 h-8 mr-2"}),s.jsx("span",{className:"text-xl font-bold",children:"Cashback Pro"})]}),s.jsx("nav",{className:"mt-8",children:a.map(l=>{const c=l.icon;return s.jsxs("button",{onClick:()=>{r(l.id),i(!1)},className:`w-full flex items-center px-6 py-3 text-left transition-colors ${t===l.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(c,{className:"w-5 h-5 mr-3"}),l.label]},l.id)})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-20 lg:hidden",onClick:()=>i(!1)}),s.jsx("div",{className:"lg:ml-64 p-4 lg:p-8",children:e})]})},gu=()=>{const{customers:e,movements:t,rewards:r,referrals:n}=st(),i=o=>`${o.firstName} ${o.lastName}`.trim(),a=[{title:"Total de Clientes",value:e.length.toString(),icon:Ol,color:"bg-blue-500",change:"+12%"},{title:"Pontos Ativos",value:e.reduce((o,u)=>o+u.points,0).toLocaleString(),icon:qe,color:"bg-yellow-500",change:"+8%"},{title:"Resgates do Mês",value:t.filter(o=>o.type==="redeem").length.toString(),icon:Me,color:"bg-green-500",change:"+15%"},{title:"Indicações",value:n.length.toString(),icon:Un,color:"bg-purple-500",change:"+25%"}],l=t.slice(0,5),c=e.sort((o,u)=>u.points-o.points).slice(0,5);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Última atualização: ",new Date().toLocaleString("pt-BR")]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(o=>{const u=o.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.value})]}),s.jsx("div",{className:`${o.color} p-3 rounded-full`,children:s.jsx(u,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"mt-4 flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-green-600",children:o.change}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs mês anterior"})]})]},o.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Movimentações Recentes"}),s.jsx("div",{className:"space-y-4",children:l.map(o=>{const u=e.find(d=>d.id===o.customerId);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o.type==="earn"?"bg-green-100":"bg-red-100"}`,children:s.jsx(jt,{className:`w-5 h-5 ${o.type==="earn"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?i(u):"Cliente não encontrado"}),s.jsx("p",{className:"text-sm text-gray-500",children:o.description})]})]}),s.jsxs("div",{className:`text-sm font-medium ${o.type==="earn"?"text-green-600":"text-red-600"}`,children:[o.type==="earn"?"+":"",o.points," pts"]})]},o.id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Top Clientes"}),s.jsx("div",{className:"space-y-4",children:c.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i(o)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Nível ",o.level.name]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[o.points.toLocaleString()," pts"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["#",u+1]})]})]},o.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Ol,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Adicionar Cliente"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(Me,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nova Recompensa"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[s.jsx(jt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Registrar Pontos"})]})]})]})]})},Ra=[{code:"+55",country:"Brasil",flag:"🇧🇷"},{code:"+1",country:"Estados Unidos",flag:"🇺🇸"},{code:"+1",country:"Canadá",flag:"🇨🇦"},{code:"+54",country:"Argentina",flag:"🇦🇷"},{code:"+56",country:"Chile",flag:"🇨🇱"},{code:"+57",country:"Colômbia",flag:"🇨🇴"},{code:"+51",country:"Peru",flag:"🇵🇪"},{code:"+598",country:"Uruguai",flag:"🇺🇾"},{code:"+595",country:"Paraguai",flag:"🇵🇾"},{code:"+591",country:"Bolívia",flag:"🇧🇴"},{code:"+593",country:"Equador",flag:"🇪🇨"},{code:"+58",country:"Venezuela",flag:"🇻🇪"},{code:"+33",country:"França",flag:"🇫🇷"},{code:"+49",country:"Alemanha",flag:"🇩🇪"},{code:"+39",country:"Itália",flag:"🇮🇹"},{code:"+34",country:"Espanha",flag:"🇪🇸"},{code:"+351",country:"Portugal",flag:"🇵🇹"},{code:"+44",country:"Reino Unido",flag:"🇬🇧"},{code:"+81",country:"Japão",flag:"🇯🇵"},{code:"+86",country:"China",flag:"🇨🇳"},{code:"+91",country:"Índia",flag:"🇮🇳"},{code:"+61",country:"Austrália",flag:"🇦🇺"}],uf={Norte:[{ddd:"68",city:"Rio Branco",state:"AC"},{ddd:"82",city:"Maceió",state:"AL"},{ddd:"96",city:"Macapá",state:"AP"},{ddd:"92",city:"Manaus",state:"AM"},{ddd:"97",city:"Manaus Interior",state:"AM"},{ddd:"71",city:"Salvador",state:"BA"},{ddd:"73",city:"Ilhéus",state:"BA"},{ddd:"74",city:"Juazeiro",state:"BA"},{ddd:"75",city:"Feira de Santana",state:"BA"},{ddd:"77",city:"Barreiras",state:"BA"},{ddd:"85",city:"Fortaleza",state:"CE"},{ddd:"88",city:"Juazeiro do Norte",state:"CE"},{ddd:"61",city:"Brasília",state:"DF"},{ddd:"27",city:"Vitória",state:"ES"},{ddd:"28",city:"Cachoeiro de Itapemirim",state:"ES"},{ddd:"62",city:"Goiânia",state:"GO"},{ddd:"64",city:"Rio Verde",state:"GO"},{ddd:"98",city:"São Luís",state:"MA"},{ddd:"99",city:"Imperatriz",state:"MA"},{ddd:"65",city:"Cuiabá",state:"MT"},{ddd:"66",city:"Rondonópolis",state:"MT"},{ddd:"67",city:"Campo Grande",state:"MS"},{ddd:"31",city:"Belo Horizonte",state:"MG"},{ddd:"32",city:"Juiz de Fora",state:"MG"},{ddd:"33",city:"Governador Valadares",state:"MG"},{ddd:"34",city:"Uberlândia",state:"MG"},{ddd:"35",city:"Poços de Caldas",state:"MG"},{ddd:"37",city:"Divinópolis",state:"MG"},{ddd:"38",city:"Montes Claros",state:"MG"},{ddd:"91",city:"Belém",state:"PA"},{ddd:"93",city:"Santarém",state:"PA"},{ddd:"94",city:"Marabá",state:"PA"},{ddd:"83",city:"João Pessoa",state:"PB"},{ddd:"81",city:"Recife",state:"PE"},{ddd:"87",city:"Petrolina",state:"PE"},{ddd:"86",city:"Teresina",state:"PI"},{ddd:"89",city:"Picos",state:"PI"},{ddd:"41",city:"Curitiba",state:"PR"},{ddd:"42",city:"Ponta Grossa",state:"PR"},{ddd:"43",city:"Londrina",state:"PR"},{ddd:"44",city:"Maringá",state:"PR"},{ddd:"45",city:"Cascavel",state:"PR"},{ddd:"46",city:"Francisco Beltrão",state:"PR"},{ddd:"21",city:"Rio de Janeiro",state:"RJ"},{ddd:"22",city:"Campos dos Goytacazes",state:"RJ"},{ddd:"24",city:"Volta Redonda",state:"RJ"},{ddd:"84",city:"Natal",state:"RN"},{ddd:"69",city:"Porto Velho",state:"RO"},{ddd:"95",city:"Boa Vista",state:"RR"},{ddd:"51",city:"Porto Alegre",state:"RS"},{ddd:"53",city:"Pelotas",state:"RS"},{ddd:"54",city:"Caxias do Sul",state:"RS"},{ddd:"55",city:"Santa Maria",state:"RS"},{ddd:"48",city:"Florianópolis",state:"SC"},{ddd:"47",city:"Joinville",state:"SC"},{ddd:"49",city:"Chapecó",state:"SC"},{ddd:"79",city:"Aracaju",state:"SE"},{ddd:"11",city:"São Paulo",state:"SP"},{ddd:"12",city:"São José dos Campos",state:"SP"},{ddd:"13",city:"Santos",state:"SP"},{ddd:"14",city:"Bauru",state:"SP"},{ddd:"15",city:"Sorocaba",state:"SP"},{ddd:"16",city:"Ribeirão Preto",state:"SP"},{ddd:"17",city:"São José do Rio Preto",state:"SP"},{ddd:"18",city:"Presidente Prudente",state:"SP"},{ddd:"19",city:"Campinas",state:"SP"},{ddd:"63",city:"Palmas",state:"TO"}]},Yx=e=>uf.Norte.map(r=>r.ddd).includes(e),df=e=>uf.Norte.find(t=>t.ddd===e),Zx=e=>{const t=e.replace(/[^\d]/g,"");return t.length===9&&t.startsWith("9")},ey=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");return n.length===9?`${e} ${t} ${n.substring(0,5)}-${n.substring(5)}`:n.length===8?`${e} ${t} ${n.substring(0,4)}-${n.substring(4)}`:`${e} ${t} ${n}`},ty=(e,t,r)=>{const n=r.replace(/[^\d]/g,"");if(e==="+55"){const i=Yx(t),a=Zx(n),l=df(t);return{isValid:i&&a,formatted:i&&a?ey(e,t,n):"",errors:{invalidDDD:!i,invalidMobile:!a,requiresNineDigits:n.length!==9,mustStartWithNine:!n.startsWith("9")},areaInfo:l}}else{const i=n.length>=8&&n.length<=15;return{isValid:i,formatted:i?`${e} ${n}`:"",errors:{invalidLength:!i},areaInfo:null}}},hf=({value:e,onChange:t,error:r,placeholder:n="+55 11 99999-9999",className:i=""})=>{var w;const[a,l]=R.useState(Ra[0]),[c,o]=R.useState(!1),[u,d]=R.useState(""),[m,h]=R.useState(""),[p,g]=R.useState(null);R.useEffect(()=>{if(e){const N=e.match(/^(\+\d{1,4})\s(\d{2})\s(.+)$/);if(N){const[,v,C,j]=N,D=Ra.find(I=>I.code===v);D&&(l(D),d(C),h(j.replace(/[^\d]/g,"")))}}},[]),R.useEffect(()=>{if(u&&m){const N=ty(a.code,u,m);g(N),N.isValid&&t(N.formatted)}},[a,u,m,t]);const b=N=>{const v=N.replace(/[^\d]/g,"").substring(0,2);d(v)},_=N=>{let v=N.replace(/[^\d]/g,"");a.code==="+55"?v=v.substring(0,9):v=v.substring(0,15),h(v)},x=N=>a.code==="+55"&&N.length>=5?`${N.substring(0,5)}-${N.substring(5)}`:N,y=a.code==="+55"&&u?df(u):null;return s.jsxs("div",{className:`relative ${i}`,children:[s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>o(!c),className:"flex items-center px-3 py-2 border border-r-0 border-gray-300 rounded-l-lg bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("span",{className:"mr-2",children:a.flag}),s.jsx("span",{className:"text-sm font-medium",children:a.code}),s.jsx(Mx,{className:"w-4 h-4 ml-1 text-gray-400"})]}),c&&s.jsx("div",{className:"absolute top-full left-0 z-50 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ra.map(N=>s.jsxs("button",{type:"button",onClick:()=>{l(N),o(!1),d(""),h("")},className:"flex items-center w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[s.jsx("span",{className:"mr-3",children:N.flag}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:N.country}),s.jsx("div",{className:"text-xs text-gray-500",children:N.code})]}),a.code===N.code&&a.country===N.country&&s.jsx(Gr,{className:"w-4 h-4 text-blue-600"})]},`${N.code}-${N.country}`))})]}),a.code==="+55"&&s.jsx("input",{type:"text",value:u,onChange:N=>b(N.target.value),placeholder:"11",maxLength:2,className:`w-16 px-2 py-2 border-t border-b border-gray-300 text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${(w=p==null?void 0:p.errors)!=null&&w.invalidDDD?"border-red-300 bg-red-50":""}`}),s.jsx("input",{type:"text",value:x(m),onChange:N=>_(N.target.value),placeholder:a.code==="+55"?"99999-9999":"999999999",className:`flex-1 px-3 py-2 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p&&!p.isValid?"border-red-300 bg-red-50":""}`})]}),y&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[s.jsx(Gr,{className:"w-3 h-3 mr-1"}),y.city," - ",y.state]}),p&&!p.isValid&&s.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Al,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:a.code==="+55"?s.jsxs(s.Fragment,{children:[p.errors.invalidDDD&&"DDD inválido. ",p.errors.requiresNineDigits&&"Celular deve ter 9 dígitos. ",p.errors.mustStartWithNine&&"Celular deve começar com 9. "]}):p.errors.invalidLength&&"Número deve ter entre 8 e 15 dígitos."})]})}),(p==null?void 0:p.isValid)&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center",children:[s.jsx(Gr,{className:"w-3 h-3 mr-1"}),"Número válido: ",p.formatted]}),r&&s.jsxs("div",{className:"mt-1 text-xs text-red-600 flex items-center",children:[s.jsx(Al,{className:"w-3 h-3 mr-1"}),r]}),c&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})},ry=({customer:e,onBack:t})=>{const{movements:r,levels:n,updateCustomer:i,addMovement:a}=st(),[l,c]=R.useState(!1),[o,u]=R.useState(e),[d,m]=R.useState(0),[h,p]=R.useState(""),g=r.filter(w=>w.customerId===e.id),b=w=>`${w.firstName} ${w.lastName}`.trim(),_=()=>{i(e.id,o),c(!1)},x=()=>{if(d&&h){const w={customerId:e.id,customerDocument:e.document,type:"admin_adjust",points:d,description:h,date:new Date().toISOString().split("T")[0]};a(w),i(e.id,{points:e.points+d}),m(0),p("")}},f=w=>{const v=w?`ONLINE-${Date.now()}`:void 0,C={customerId:e.id,customerDocument:e.document,type:"redeem",points:-100,description:`Resgate ${w?"online":"offline"}: Desconto R$ 10,00`,date:new Date().toISOString().split("T")[0],couponCode:v};a(C),i(e.id,{points:e.points-100})},y=w=>{const N=w.replace(/[^\d]/g,"");let v=N;N.length>=4&&(v=N.replace(/(\d{3})(\d{1,3})/,"$1.$2")),N.length>=7&&(v=N.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),N.length>=10&&(v=N.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),u({...o,document:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:t,className:"mr-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ox,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Detalhes do Cliente"})]}),s.jsxs("button",{onClick:()=>c(!l),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ve,{className:"w-4 h-4 mr-2"}),l?"Cancelar":"Editar"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:o.firstName,onChange:w=>u({...o,firstName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),s.jsx("input",{type:"text",value:o.lastName,onChange:w=>u({...o,lastName:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Sobrenome"})]})]}),s.jsx("input",{type:"email",value:o.email,onChange:w=>u({...o,email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Email"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),s.jsx(hf,{value:o.phone,onChange:w=>u({...o,phone:w})})]}),s.jsx("input",{type:"text",value:o.document,onChange:w=>y(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF",maxLength:14}),s.jsx("button",{onClick:_,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Salvar Alterações"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[e.firstName.charAt(0),e.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b(e)}),s.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mo,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Io,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.document})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Saldo de Pontos"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qe,{className:"w-8 h-8 text-yellow-500 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.points.toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-500",children:"pontos disponíveis"})]})]}),s.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Status"}),s.jsxs("select",{value:e.status,onChange:w=>i(e.id,{status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"inactive",children:"Inativo"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nível"}),s.jsx("select",{value:e.level.id,onChange:w=>{const N=n.find(v=>v.id===w.target.value);N&&i(e.id,{level:N})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:n.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gerenciar Pontos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:d,onChange:w=>m(Number(w.target.value)),placeholder:"Pontos",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:h,onChange:w=>p(w.target.value),placeholder:"Motivo",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Pontos"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resgatar Recompensa"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>f(!0),className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Resgate Online"}),s.jsx("button",{onClick:()=>f(!1),className:"bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Resgate Offline"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Histórico de Pontos"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g.map(w=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.type==="earn"?"bg-green-100":w.type==="redeem"?"bg-red-100":w.type==="admin_adjust"?"bg-blue-100":"bg-gray-100"}`,children:[w.type==="earn"&&s.jsx(jt,{className:"w-4 h-4 text-green-600"}),w.type==="redeem"&&s.jsx(Me,{className:"w-4 h-4 text-red-600"}),w.type==="admin_adjust"&&s.jsx(Ve,{className:"w-4 h-4 text-blue-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.description}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.date).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:`text-sm font-semibold ${w.points>0?"text-green-600":"text-red-600"}`,children:[w.points>0?"+":"",w.points," pts"]})]}),w.couponCode&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Cupom: ",w.couponCode]})]})]},w.id))})]})]})]})},ny=()=>{var C,j,D,I,q,le;const{customers:e,validateCustomer:t,addCustomer:r,levels:n}=st(),[i,a]=R.useState(""),[l,c]=R.useState("all"),[o,u]=R.useState(null),[d,m]=R.useState(!1),[h,p]=R.useState({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),[g,b]=R.useState(null),_=T=>`${T.firstName} ${T.lastName}`.trim(),x=e.filter(T=>{const we=_(T).toLowerCase().includes(i.toLowerCase())||T.email.toLowerCase().includes(i.toLowerCase())||T.document.includes(i),Ke=l==="all"||T.status===l;return we&&Ke}),f=T=>{const G=T.replace(/[^\d]/g,"");let we=G;if(G.length>=4&&(we=G.replace(/(\d{3})(\d{1,3})/,"$1.$2")),G.length>=7&&(we=G.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),G.length>=10&&(we=G.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),p({...h,document:we}),G.length===11){const Ke=t(G,h.email,h.phone);b(Ke)}else b(null)},y=T=>{if(p({...h,email:T}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,T,h.phone);b(G)}},w=T=>{if(p({...h,phone:T}),h.document.replace(/[^\d]/g,"").length===11){const G=t(h.document,h.email,T);b(G)}},N=()=>{if(!(g!=null&&g.isValid))return;const T={...h,level:n[0],registrationDate:new Date().toISOString().split("T")[0],emailVerified:!1,phoneVerified:!1,documentVerified:!0};r(T)&&(m(!1),p({firstName:"",lastName:"",email:"",phone:"",document:"",points:0,status:"active"}),b(null))},v=T=>{const we=[T.documentVerified,T.emailVerified,T.phoneVerified].filter(Boolean).length;return we===3?s.jsx(bi,{className:"w-4 h-4 text-green-600"}):we>=1?s.jsx(Al,{className:"w-4 h-4 text-yellow-600"}):s.jsx(Jx,{className:"w-4 h-4 text-red-600"})};return o?s.jsx(ry,{customer:o,onBack:()=>u(null)}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Clientes"}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou CPF...",value:i,onChange:T=>a(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:T=>c(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Status"}),s.jsx("option",{value:"active",children:"Ativo"}),s.jsx("option",{value:"inactive",children:"Inativo"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPF"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verificação"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nível"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Última Compra"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[T.firstName.charAt(0),T.lastName.charAt(0)]})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_(T)}),s.jsx("div",{className:"text-sm text-gray-500",children:T.email}),s.jsx("div",{className:"text-sm text-gray-500",children:T.phone})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.document})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[v(T),s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsxs("div",{className:T.documentVerified?"text-green-600":"text-red-600",children:["CPF: ",T.documentVerified?"Verificado":"Pendente"]}),s.jsxs("div",{className:T.emailVerified?"text-green-600":"text-red-600",children:["Email: ",T.emailVerified?"Verificado":"Pendente"]}),s.jsxs("div",{className:T.phoneVerified?"text-green-600":"text-red-600",children:["Tel: ",T.phoneVerified?"Verificado":"Pendente"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qe,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:T.points.toLocaleString()})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:T.level.color+"20",color:T.level.color},children:T.level.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.status==="active"?"Ativo":"Inativo"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.lastPurchase?new Date(T.lastPurchase).toLocaleDateString("pt-BR"):"Nunca"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>u(T),className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ux,{className:"w-4 h-4"})})]})]},T.id))})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clientes Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(T=>T.status==="active").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(bi,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Totalmente Verificados"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(T=>T.documentVerified&&T.emailVerified&&T.phoneVerified).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(qe,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Totais"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((T,G)=>T+G.points,0).toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Me,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Média de Pontos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Math.round(e.reduce((T,G)=>T+G.points,0)/e.length).toLocaleString()})]})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Cliente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:h.firstName,onChange:T=>p({...h,firstName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"João"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sobrenome"}),s.jsx("input",{type:"text",value:h.lastName,onChange:T=>p({...h,lastName:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Silva"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF (Chave Primária)"}),s.jsx("input",{type:"text",value:h.document,onChange:T=>f(T.target.value),placeholder:"000.000.000-00",maxLength:14,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${g&&!g.isValid?"border-red-300":"border-gray-300"}`}),g&&!g.isValid&&s.jsxs("div",{className:"mt-1 text-sm text-red-600",children:[((C=g.conflicts)==null?void 0:C.duplicateDocument)&&"CPF já cadastrado",!((j=g.conflicts)!=null&&j.duplicateDocument)&&"CPF inválido"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Chave Secundária)"}),s.jsx("input",{type:"email",value:h.email,onChange:T=>y(T.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${(D=g==null?void 0:g.conflicts)!=null&&D.duplicateEmail?"border-red-300":"border-gray-300"}`,placeholder:"joao@email.com"}),((I=g==null?void 0:g.conflicts)==null?void 0:I.duplicateEmail)&&s.jsx("div",{className:"mt-1 text-sm text-red-600",children:"Email já cadastrado para outro CPF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone Celular (Chave Secundária)"}),s.jsx(hf,{value:h.phone,onChange:w,placeholder:"+55 85 99999-9999",error:(q=g==null?void 0:g.conflicts)!=null&&q.duplicatePhone?"Telefone já cadastrado para outro CPF":void 0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Iniciais"}),s.jsx("input",{type:"number",value:h.points,onChange:T=>p({...h,points:Number(T.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),((le=g==null?void 0:g.conflicts)==null?void 0:le.existingCustomer)&&s.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cliente Existente Encontrado:"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:[_(g.conflicts.existingCustomer)," - ",g.conflicts.existingCustomer.document]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{m(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:N,disabled:!(g!=null&&g.isValid),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Adicionar Cliente"})]})]})})]})},sy=()=>{const{branches:e,addBranch:t,updateBranch:r,deleteBranch:n}=st(),[i,a]=R.useState(!1),[l,c]=R.useState(null),[o,u]=R.useState({name:"",code:"",address:"",phone:"",email:"",manager:"",isActive:!0,color:"#3B82F6"}),d=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],m=()=>{u({name:"",code:"",address:"",phone:"",email:"",manager:"",isActive:!0,color:"#3B82F6"})},h=f=>{f?(c(f),u({name:f.name,code:f.code,address:f.address,phone:f.phone,email:f.email,manager:f.manager,isActive:f.isActive,color:f.color})):(c(null),m()),a(!0)},p=()=>{a(!1),c(null),m()},g=f=>{if(f.preventDefault(),!o.name.trim()||!o.code.trim()){alert("Nome e código da filial são obrigatórios");return}l?r(l.id,o):t(o),p()},b=f=>{confirm(`Tem certeza que deseja deletar a filial "${f.name}"?`)&&n(f.id)},_=f=>{const y=f.replace(/\D/g,"");return y.length===11?y.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):y.length===10?y.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):f},x=f=>{const y=_(f);u({...o,phone:y})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Filiais"}),s.jsxs("button",{onClick:()=>h(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Nova Filial"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ji,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Filiais"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ki,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filiais Ativas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(f=>f.isActive).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Ni,{className:"w-5 h-5 text-red-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filiais Inativas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(f=>!f.isActive).length})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:f.color+"20"},children:s.jsx(ji,{className:"w-6 h-6",style:{color:f.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-500",children:f.code})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f.isActive?s.jsx(ki,{className:"w-4 h-4 text-green-600"}):s.jsx(Ni,{className:"w-4 h-4 text-gray-400"}),s.jsx("button",{onClick:()=>h(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(f),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(sf,{className:"w-4 h-4 text-gray-400 mr-2 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.address})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mo,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_i,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.email})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Si,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:f.manager})]}),s.jsx("div",{className:"pt-2",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.isActive?"Ativa":"Inativa"})})]})]},f.id))}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Filial":"Nova Filial"}),s.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(xr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Filial"}),s.jsx("input",{type:"text",value:o.name,onChange:f=>u({...o,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Filial Centro",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código"}),s.jsx("input",{type:"text",value:o.code,onChange:f=>u({...o,code:f.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: FIL001",maxLength:10,required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),s.jsx("input",{type:"text",value:o.address,onChange:f=>u({...o,address:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Rua, número, bairro, cidade",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"text",value:o.phone,onChange:f=>x(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:o.email,onChange:f=>u({...o,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"filial@empresa.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gerente"}),s.jsx("input",{type:"text",value:o.manager,onChange:f=>u({...o,manager:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do gerente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Identificação"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(f=>s.jsx("button",{type:"button",onClick:()=>u({...o,color:f}),className:`w-10 h-10 rounded-full border-2 transition-all ${o.color===f?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:f}},f))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:f=>u({...o,isActive:f.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Filial ativa"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:p,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Filial"]})]})]})]})})]})},iy=()=>{const{levels:e,addLevel:t,updateLevel:r,deleteLevel:n}=st(),[i,a]=R.useState(!1),[l,c]=R.useState(null),[o,u]=R.useState({name:"",color:"#3B82F6",icon:"award",order:1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),[d,m]=R.useState(""),h={award:Sn,star:qe,crown:$l,trophy:pu,gem:mu},p=[{value:"award",label:"Prêmio",icon:Sn},{value:"star",label:"Estrela",icon:qe},{value:"crown",label:"Coroa",icon:$l},{value:"trophy",label:"Troféu",icon:pu},{value:"gem",label:"Gema",icon:mu}],g=["#CD7F32","#C0C0C0","#FFD700","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899"],b=()=>{u({name:"",color:"#3B82F6",icon:"award",order:e.length+1,requirements:{minPoints:0,minPurchaseValue:0,timeframe:0},benefits:{pointsMultiplier:1,referralBonus:1,freeShipping:!1,exclusiveEvents:!1,customRewards:[]}}),m("")},_=v=>{v?(c(v),u({name:v.name,color:v.color,icon:v.icon,order:v.order,requirements:v.requirements,benefits:v.benefits})):(c(null),b()),a(!0)},x=()=>{a(!1),c(null),b()},f=v=>{if(v.preventDefault(),!o.name.trim()){alert("Nome do nível é obrigatório");return}const C={...o,requirements:{minPoints:o.requirements.minPoints||void 0,minPurchaseValue:o.requirements.minPurchaseValue||void 0,timeframe:o.requirements.timeframe||void 0}};l?r(l.id,C):t(C),x()},y=()=>{d.trim()&&(u({...o,benefits:{...o.benefits,customRewards:[...o.benefits.customRewards,d.trim()]}}),m(""))},w=v=>{u({...o,benefits:{...o.benefits,customRewards:o.benefits.customRewards.filter((C,j)=>j!==v)}})},N=v=>{confirm(`Tem certeza que deseja deletar o nível "${v.name}"?`)&&n(v.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Níveis de Clientes"}),s.jsxs("button",{onClick:()=>_(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Novo Nível"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>{var j;const C=h[v.icon]||Sn;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:v.color+"20"},children:s.jsx(C,{className:"w-6 h-6",style:{color:v.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Ordem: ",v.order]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>_(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(v),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Mínimo: ",((j=v.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),v.requirements.minPurchaseValue&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Compra mínima: R$ ",v.requirements.minPurchaseValue.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Benefícios"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("li",{children:["• ",v.benefits.pointsMultiplier,"x pontos em compras"]}),s.jsxs("li",{children:["• ",v.benefits.referralBonus,"x pontos em indicações"]}),v.benefits.freeShipping&&s.jsx("li",{children:"• Frete grátis"}),v.benefits.exclusiveEvents&&s.jsx("li",{children:"• Eventos exclusivos"}),v.benefits.customRewards.map((D,I)=>s.jsxs("li",{children:["• ",D]},I))]})]})]})]},v.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resumo dos Níveis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nível"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requisitos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Multiplicador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benefícios"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>{var j;const C=h[v.icon]||Sn;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:v.color+"20"},children:s.jsx(C,{className:"w-4 h-4",style:{color:v.color}})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Ordem ",v.order]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((j=v.requirements.minPoints)==null?void 0:j.toLocaleString())||0," pontos"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.benefits.pointsMultiplier,"x"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.benefits.freeShipping&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Frete grátis"}),v.benefits.exclusiveEvents&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Eventos"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>_(v),className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(v),className:"text-red-600 hover:text-red-900",children:s.jsx(rn,{className:"w-4 h-4"})})]})]},v.id)})})]})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Nível":"Novo Nível"}),s.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(xr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Nível"}),s.jsx("input",{type:"text",value:o.name,onChange:v=>u({...o,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Bronze, Prata, Ouro",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem"}),s.jsx("input",{type:"number",value:o.order,onChange:v=>u({...o,order:Number(v.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ícone"}),s.jsx("div",{className:"grid grid-cols-5 gap-3",children:p.map(v=>{const C=v.icon;return s.jsxs("button",{type:"button",onClick:()=>u({...o,icon:v.value}),className:`p-3 border-2 rounded-lg flex flex-col items-center justify-center transition-colors ${o.icon===v.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(C,{className:"w-6 h-6 mb-1"}),s.jsx("span",{className:"text-xs",children:v.label})]},v.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>s.jsx("button",{type:"button",onClick:()=>u({...o,color:v}),className:`w-10 h-10 rounded-full border-2 transition-all ${o.color===v?"border-gray-800 scale-110":"border-gray-300"}`,style:{backgroundColor:v}},v))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Requisitos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos Mínimos"}),s.jsx("input",{type:"number",value:o.requirements.minPoints||"",onChange:v=>u({...o,requirements:{...o.requirements,minPoints:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mínima (R$)"}),s.jsx("input",{type:"number",value:o.requirements.minPurchaseValue||"",onChange:v=>u({...o,requirements:{...o.requirements,minPurchaseValue:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período (dias)"}),s.jsx("input",{type:"number",value:o.requirements.timeframe||"",onChange:v=>u({...o,requirements:{...o.requirements,timeframe:Number(v.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Benefícios"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Multiplicador de Pontos"}),s.jsx("input",{type:"number",value:o.benefits.pointsMultiplier,onChange:v=>u({...o,benefits:{...o.benefits,pointsMultiplier:Number(v.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bônus de Indicação"}),s.jsx("input",{type:"number",value:o.benefits.referralBonus,onChange:v=>u({...o,benefits:{...o.benefits,referralBonus:Number(v.target.value)||1}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"0.1",required:!0})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"freeShipping",checked:o.benefits.freeShipping,onChange:v=>u({...o,benefits:{...o.benefits,freeShipping:v.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"freeShipping",className:"ml-2 block text-sm text-gray-900",children:"Frete grátis"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"exclusiveEvents",checked:o.benefits.exclusiveEvents,onChange:v=>u({...o,benefits:{...o.benefits,exclusiveEvents:v.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"exclusiveEvents",className:"ml-2 block text-sm text-gray-900",children:"Eventos exclusivos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recompensas Personalizadas"}),s.jsxs("div",{className:"space-y-2",children:[o.benefits.customRewards.map((v,C)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:v}),s.jsx("button",{type:"button",onClick:()=>w(C),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(xr,{className:"w-4 h-4"})})]},C)),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:d,onChange:v=>m(v.target.value),placeholder:"Digite uma recompensa personalizada",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:v=>{v.key==="Enter"&&(v.preventDefault(),y())}}),s.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Atualizar":"Criar"," Nível"]})]})]})]})})]})},ay=({customer:e,movement:t,onClose:r})=>{const{settings:n}=st(),i=o=>`${o.firstName} ${o.lastName}`.trim(),a=o=>new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=()=>{window.print()},c=({viaNumber:o})=>s.jsxs("div",{className:"receipt-content bg-white p-6 border border-gray-300 rounded-lg mb-4",children:[s.jsxs("div",{className:"text-center border-b border-gray-200 pb-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(Me,{className:"w-8 h-8 text-blue-600 mr-2"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.company.name})]}),s.jsx("p",{className:"text-sm text-gray-600",children:n.program.name}),s.jsx("p",{className:"text-xs text-gray-500",children:n.company.website}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s.jsxs("strong",{children:["COMPROVANTE DE RESGATE - ",o,"ª VIA"]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Si,{className:"w-4 h-4 mr-1"}),"Dados do Cliente"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nome:"})," ",i(e)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CPF:"})," ",e.document]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Telefone:"})," ",e.phone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nível:"}),s.jsx("span",{className:"ml-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:e.level.color+"20",color:e.level.color},children:e.level.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Pontos Disponíveis:"})," ",e.points.toLocaleString()]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Me,{className:"w-4 h-4 mr-1"}),"Detalhes do Resgate"]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Descrição:"})," ",t.description]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Pontos Resgatados:"}),s.jsxs("span",{className:"text-red-600 font-bold",children:[Math.abs(t.points)," pontos"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data/Hora:"})," ",a(t.date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Referência:"})," ",t.reference||"N/A"]}),t.couponCode&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Código do Cupom:"}),s.jsx("span",{className:"ml-1 px-2 py-1 bg-blue-100 text-blue-800 rounded font-mono text-sm",children:t.couponCode})]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(qe,{className:"w-4 h-4 mr-1"}),"Saldo Atualizado"]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Saldo atual de pontos:"}),s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(e.points+t.points).toLocaleString()," pontos"]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[s.jsx(Io,{className:"w-4 h-4 mr-1"}),"Informações Importantes"]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsx("p",{children:"• Este comprovante é válido como prova de resgate de pontos"}),s.jsx("p",{children:"• Guarde este comprovante para seus registros"}),s.jsx("p",{children:"• Em caso de dúvidas, entre em contato conosco"}),t.couponCode&&s.jsx("p",{children:"• O código do cupom deve ser apresentado no momento da compra"}),n.program.pointsExpiration.enabled&&s.jsxs("p",{children:["• Pontos expiram em ",n.program.pointsExpiration.days," dias"]})]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 text-center",children:s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsx("p",{children:n.company.address}),s.jsxs("p",{className:"mt-1",children:[s.jsx("span",{className:"font-medium",children:"Data de Emissão:"})," ",a(new Date().toISOString())]}),s.jsx("p",{className:"mt-2 text-xs",children:s.jsx("strong",{children:"Obrigado por participar do nosso programa de fidelidade!"})})]})})]});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"no-print flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comprovante de Resgate"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Vx,{className:"w-4 h-4 mr-2"}),"Imprimir"]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(xr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(c,{viaNumber:1}),s.jsx("div",{className:"print-only border-t-2 border-dashed border-gray-400 my-4 page-break"}),s.jsx(c,{viaNumber:2})]})]})})};function ly(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=new Uint8Array(e);return crypto.getRandomValues(r),Array.from(r,n=>t[n%t.length]).join("")}function xu(e="online"){const t=Date.now().toString(36).toUpperCase(),r=ly(6);return`${e==="online"?"ON":"OF"}-${t}-${r}`}const oy=()=>{const{movements:e,customers:t,addMovement:r,updateCustomer:n,findCustomerByDocument:i}=st(),[a,l]=R.useState(""),[c,o]=R.useState("all"),[u,d]=R.useState(!1),[m,h]=R.useState(null),[p,g]=R.useState(""),[b,_]=R.useState(null),[x,f]=R.useState({type:"earn",points:0,description:"",reference:"",couponCode:""}),[y,w]=R.useState(!1),[N,v]=R.useState(null),C=P=>`${P.firstName} ${P.lastName}`.trim(),j=e.filter(P=>{const F=t.find(oe=>oe.id===P.customerId),H=F&&C(F).toLowerCase().includes(a.toLowerCase())||P.description.toLowerCase().includes(a.toLowerCase()),it=c==="all"||P.type===c;return H&&it}),D=P=>{const F=P.replace(/[^\d]/g,"");let H=F;if(F.length>=4&&(H=F.replace(/(\d{3})(\d{1,3})/,"$1.$2")),F.length>=7&&(H=F.replace(/(\d{3})\.(\d{3})(\d{1,3})/,"$1.$2.$3")),F.length>=10&&(H=F.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4")),g(H),F.length===11){const it=i(F);_(it||null)}else _(null)},I=()=>{h("add_points"),f({type:"earn",points:0,description:"",reference:"",couponCode:""}),g(""),_(null),d(!0)},q=()=>{h("redeem_offline");const P=xu("offline");f({type:"redeem",points:100,description:"Resgate offline: Desconto R$ 10,00",reference:"",couponCode:P}),g(""),_(null),d(!0)},le=()=>{h("redeem_online");const P=xu("online");f({type:"redeem",points:100,description:"Resgate online: Desconto R$ 10,00",reference:"",couponCode:P}),g(""),_(null),d(!0)},T=()=>{d(!1),h(null),g(""),_(null),f({type:"earn",points:0,description:"",reference:"",couponCode:""})},G=()=>{if(b&&x.points&&x.description){const P={customerId:b.id,customerDocument:b.document,type:x.type,points:x.type==="redeem"?-Math.abs(x.points):x.points,description:x.description,date:new Date().toISOString().split("T")[0],reference:x.reference||void 0,couponCode:x.couponCode||void 0};r(P);const F=x.type==="redeem"?-Math.abs(x.points):x.points;if(n(b.id,{points:b.points+F}),x.type==="redeem"){const H={...P,id:Date.now().toString()};v({customer:b,movement:H}),w(!0)}T()}},we=()=>{w(!1),v(null)},Ke=P=>{switch(P){case"earn":return s.jsx(jt,{className:"w-5 h-5 text-green-600"});case"redeem":return s.jsx(Me,{className:"w-5 h-5 text-red-600"});case"admin_adjust":return s.jsx(Ve,{className:"w-5 h-5 text-blue-600"});default:return s.jsx(jt,{className:"w-5 h-5 text-gray-600"})}},Zt=P=>{switch(P){case"earn":return"Ganho";case"redeem":return"Resgate";case"admin_adjust":return"Ajuste Admin";case"referral":return"Indicação";case"expire":return"Expiração";case"refund":return"Reembolso";default:return P}},A=()=>{switch(m){case"add_points":return"Registrar Nova Compra";case"redeem_offline":return"Resgate Offline";case"redeem_online":return"Resgate Online";default:return"Nova Movimentação"}},L=()=>{switch(m){case"add_points":return"Registrar Compra";case"redeem_offline":return"Confirmar Resgate";case"redeem_online":return"Gerar Cupom";default:return"Adicionar"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Movimentos de Pontos"}),s.jsxs("button",{onClick:I,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Nova Movimentação"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrição...",value:a,onChange:P=>l(P.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:c,onChange:P=>o(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"earn",children:"Ganho"}),s.jsx("option",{value:"redeem",children:"Resgate"}),s.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Offline"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom para impressão"})]}),s.jsx(qx,{className:"w-8 h-8 text-blue-600"})]}),s.jsx("button",{onClick:q,className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Iniciar Resgate"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resgate Online"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Gerar cupom digital"})]}),s.jsx(af,{className:"w-8 h-8 text-green-600"})]}),s.jsx("button",{onClick:le,className:"mt-4 w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Gerar Cupom"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acumular Pontos"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Registrar compra"})]}),s.jsx(jt,{className:"w-8 h-8 text-yellow-600"})]}),s.jsx("button",{onClick:I,className:"mt-4 w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Registrar Compra"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referência"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(P=>{const F=t.find(H=>H.id===P.customerId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(P.date).toLocaleDateString("pt-BR")}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F?C(F):"Cliente não encontrado"}),s.jsx("div",{className:"text-sm text-gray-500",children:F==null?void 0:F.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[Ke(P.type),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:Zt(P.type)})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[P.description,P.couponCode&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 font-mono",children:["Cupom: ",P.couponCode]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`text-sm font-semibold ${P.points>0?"text-green-600":"text-red-600"}`,children:[P.points>0?"+":"",P.points]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.reference||"-"})]},P.id)})})]})})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:A()}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF do Cliente"}),s.jsx("input",{type:"text",value:p,onChange:P=>D(P.target.value),placeholder:"000.000.000-00",maxLength:14,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),p.replace(/[^\d]/g,"").length===11&&s.jsx("div",{className:"mt-2",children:b?s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[b.firstName.charAt(0),b.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:C(b)}),s.jsxs("p",{className:"text-xs text-green-600",children:[b.email," • ",b.points," pontos"]})]})]})}):s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800",children:"Cliente não encontrado com este CPF"})})})]}),!m&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:x.type,onChange:P=>f({...x,type:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"earn",children:"Ganho"}),s.jsx("option",{value:"redeem",children:"Resgate"}),s.jsx("option",{value:"admin_adjust",children:"Ajuste Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m==="add_points"?"Pontos Ganhos":"Pontos"}),s.jsx("input",{type:"number",value:x.points,onChange:P=>f({...x,points:Number(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("input",{type:"text",value:x.description,onChange:P=>f({...x,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:m==="add_points"?"Ex: Compra no valor de R$ 150,00":m==="redeem_offline"?"Ex: Resgate offline: Desconto R$ 10,00":m==="redeem_online"?"Ex: Resgate online: Desconto R$ 10,00":"Descrição da movimentação"})]}),m==="add_points"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referência (opcional)"}),s.jsx("input",{type:"text",value:x.reference,onChange:P=>f({...x,reference:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pedido #12345"})]}),(m==="redeem_offline"||m==="redeem_online")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código do Cupom"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:x.couponCode,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm"}),s.jsx("div",{className:"absolute right-2 top-2",children:s.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:"Único"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Código único gerado automaticamente para este resgate"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:T,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:G,disabled:!b,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:L()})]})]})}),y&&N&&s.jsx(ay,{customer:N.customer,movement:N.movement,onClose:we})]})},cy=()=>{const{rewards:e}=st(),[t,r]=R.useState(!1),[n,i]=R.useState(null),[a,l]=R.useState({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30}),c=()=>{r(!1),i(null),l({name:"",description:"",pointsCost:0,type:"discount",value:0,isActive:!0,expirationDays:30})},o=d=>{switch(d){case"discount":return"Desconto";case"product":return"Produto";case"service":return"Serviço";case"custom":return"Personalizado";default:return d}},u=d=>{switch(d){case"discount":return s.jsx(Me,{className:"w-5 h-5 text-green-600"});case"product":return s.jsx(qe,{className:"w-5 h-5 text-blue-600"});case"service":return s.jsx(nf,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Me,{className:"w-5 h-5 text-gray-600"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recompensas"}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Nova Recompensa"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configuração de Pontos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),s.jsx("input",{type:"number",defaultValue:1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quantos pontos vale cada R$1,00 gasto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mínimo de Compra (R$)"}),s.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor mínimo para acumular pontos"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiração de Pontos (dias)"}),s.jsx("input",{type:"number",defaultValue:365,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias para expiração dos pontos"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[u(d.type),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),s.jsx("p",{className:"text-sm text-gray-500",children:o(d.type)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[d.isActive?s.jsx(ki,{className:"w-4 h-4 text-green-600"}):s.jsx(Ni,{className:"w-4 h-4 text-gray-400"}),s.jsx("button",{onClick:()=>{i(d),r(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custo:"}),s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[d.pointsCost," pontos"]})]}),d.type==="discount"&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Desconto:"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["R$ ",d.value]})]}),d.expirationDays&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Validade:"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[d.expirationDays," dias"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),s.jsx("span",{className:`text-sm font-medium ${d.isActive?"text-green-600":"text-red-600"}`,children:d.isActive?"Ativa":"Inativa"})]})]})]},d.id))}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Editar Recompensa":"Nova Recompensa"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:n?n.name:a.name,onChange:d=>n?i({...n,name:d.target.value}):l({...a,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:n?n.description:a.description,onChange:d=>n?i({...n,description:d.target.value}):l({...a,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:n?n.type:a.type,onChange:d=>n?i({...n,type:d.target.value}):l({...a,type:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"discount",children:"Desconto"}),s.jsx("option",{value:"product",children:"Produto"}),s.jsx("option",{value:"service",children:"Serviço"}),s.jsx("option",{value:"custom",children:"Personalizado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo em Pontos"}),s.jsx("input",{type:"number",value:n?n.pointsCost:a.pointsCost,onChange:d=>n?i({...n,pointsCost:Number(d.target.value)}):l({...a,pointsCost:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),s.jsx("input",{type:"number",value:n?n.value:a.value,onChange:d=>n?i({...n,value:Number(d.target.value)}):l({...a,value:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),s.jsx("input",{type:"number",value:n?n.expirationDays||30:a.expirationDays,onChange:d=>n?i({...n,expirationDays:Number(d.target.value)}):l({...a,expirationDays:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n?n.isActive:a.isActive,onChange:d=>n?i({...n,isActive:d.target.checked}):l({...a,isActive:d.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Recompensa ativa"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{r(!1),i(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:c,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"})]})]})})]})},uy=()=>{const{referrals:e,referralTypes:t,customers:r,addReferralType:n,updateReferralType:i,deleteReferralType:a}=st(),[l,c]=R.useState("list"),[o,u]=R.useState(!1),[d,m]=R.useState(null),[h,p]=R.useState({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),g=j=>`${j.firstName} ${j.lastName}`.trim(),b=j=>{switch(j){case"validated":return s.jsx(Gr,{className:"w-5 h-5 text-green-600"});case"rejected":return s.jsx(xr,{className:"w-5 h-5 text-red-600"});case"pending":return s.jsx(Ta,{className:"w-5 h-5 text-yellow-600"});default:return s.jsx(Ta,{className:"w-5 h-5 text-gray-600"})}},_=j=>{switch(j){case"validated":return"Validada";case"rejected":return"Rejeitada";case"pending":return"Pendente";default:return j}},x=j=>{switch(j){case"email":return s.jsx(_i,{className:"w-4 h-4"});case"whatsapp":return s.jsx(Ci,{className:"w-4 h-4"});case"sms":return s.jsx(cf,{className:"w-4 h-4"});case"qrcode":return s.jsx(af,{className:"w-4 h-4"});default:return s.jsx(Un,{className:"w-4 h-4"})}},f=j=>{switch(j){case"crown":return s.jsx($l,{className:"w-5 h-5"});case"heart":return s.jsx(Lx,{className:"w-5 h-5"});case"building":return s.jsx(ji,{className:"w-5 h-5"});case"gift":return s.jsx(Me,{className:"w-5 h-5"});default:return s.jsx(Un,{className:"w-5 h-5"})}},y=j=>{switch(j){case"fixed":return"Valor Fixo (R$)";case"percentage":return"Percentual (%)";case"points":return"Pontos";case"gift":return"Brinde";default:return j}},w=()=>{d?i(d.id,h):n(h),u(!1),m(null),p({name:"",description:"",icon:"user-plus",color:"#3B82F6",isActive:!0,methods:["email"],referrerReward:{type:"points",value:0,description:""},referredReward:{type:"points",value:0,description:""},conditions:{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}})},N=j=>{m(j),p({name:j.name,description:j.description,icon:j.icon,color:j.color,isActive:j.isActive,methods:j.methods,referrerReward:j.referrerReward,referredReward:j.referredReward,conditions:j.conditions||{minPurchaseValue:0,validityDays:30,maxReferrals:0,requiresFirstPurchase:!1}}),u(!0)},v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32"],C=[{value:"user-plus",label:"Usuário Plus"},{value:"crown",label:"Coroa"},{value:"heart",label:"Coração"},{value:"building",label:"Prédio"},{value:"gift",label:"Presente"},{value:"star",label:"Estrela"},{value:"award",label:"Prêmio"},{value:"trophy",label:"Troféu"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistema de Indicações"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>c("list"),className:`px-4 py-2 rounded-lg transition-colors ${l==="list"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Indicações"}),s.jsx("button",{onClick:()=>c("types"),className:`px-4 py-2 rounded-lg transition-colors ${l==="types"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Tipos de Indicação"}),s.jsx("button",{onClick:()=>c("config"),className:`px-4 py-2 rounded-lg transition-colors ${l==="config"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Configurações"})]})]}),l==="list"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Un,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Indicações"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Gr,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Validadas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="validated").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Ta,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(j=>j.status==="pending").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Me,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipos Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.isActive).length})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lista de Indicações"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicador"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>{const D=r.find(le=>le.id===j.referrerId),I=r.find(le=>le.id===j.referredId),q=t.find(le=>le.id===j.referralTypeId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.date).toLocaleDateString("pt-BR")}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D?g(D):"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:D==null?void 0:D.email})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I?g(I):"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:I==null?void 0:I.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:(q==null?void 0:q.color)+"20"},children:s.jsx("div",{style:{color:q==null?void 0:q.color},children:f((q==null?void 0:q.icon)||"user-plus")})}),s.jsx("span",{className:"text-sm text-gray-900",children:q==null?void 0:q.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[x(j.method),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j.method})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[b(j.status),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:_(j.status)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:j.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(Gr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(xr,{className:"w-4 h-4"})})]})})]},j.id)})})]})})]})]}),l==="types"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tipos de Indicação"}),s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Novo Tipo"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(j=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:j.color+"20"},children:s.jsx("div",{style:{color:j.color},children:f(j.icon)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsxs("div",{className:"flex items-center mt-1",children:[j.isActive?s.jsx(ki,{className:"w-4 h-4 text-green-600 mr-1"}):s.jsx(Ni,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:`text-sm ${j.isActive?"text-green-600":"text-gray-400"}`,children:j.isActive?"Ativo":"Inativo"})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>N(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>a(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:j.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicador"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y(j.referrerReward.type),": ",j.referrerReward.value]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referrerReward.description})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recompensa do Indicado"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y(j.referredReward.type),": ",j.referredReward.value]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.referredReward.description})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Métodos Disponíveis"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:j.methods.map(D=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[x(D),s.jsx("span",{className:"ml-1 capitalize",children:D})]},D))})]}),j.conditions&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Condições"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[j.conditions.minPurchaseValue&&s.jsxs("div",{children:["• Compra mínima: R$ ",j.conditions.minPurchaseValue]}),j.conditions.validityDays&&s.jsxs("div",{children:["• Validade: ",j.conditions.validityDays," dias"]}),j.conditions.maxReferrals&&s.jsxs("div",{children:["• Máximo: ",j.conditions.maxReferrals," indicações"]}),j.conditions.requiresFirstPurchase&&s.jsx("div",{children:"• Requer primeira compra"})]})]})]})]},j.id))})]}),l==="config"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações Gerais"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Validação Automática"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"manual",children:"Manual"}),s.jsx("option",{value:"first_purchase",children:"Após primeira compra"}),s.jsx("option",{value:"immediate",children:"Imediata"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite Global de Indicações por Cliente"}),s.jsx("input",{type:"number",defaultValue:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"allowSelfReferral",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"allowSelfReferral",className:"ml-2 block text-sm text-gray-900",children:"Permitir auto-indicação (mesmo email/telefone)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"trackReferralSource",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"trackReferralSource",className:"ml-2 block text-sm text-gray-900",children:"Rastrear origem das indicações"})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Configurações"})})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:d?"Editar Tipo de Indicação":"Novo Tipo de Indicação"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:h.name,onChange:j=>p({...h,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ícone"}),s.jsx("select",{value:h.icon,onChange:j=>p({...h,icon:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:C.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:h.description,onChange:j=>p({...h,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(j=>s.jsx("button",{onClick:()=>p({...h,color:j}),className:`w-8 h-8 rounded-full border-2 ${h.color===j?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:j}},j))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Métodos de Indicação"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["email","whatsapp","sms","qrcode"].map(j=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.methods.includes(j),onChange:D=>{D.target.checked?p({...h,methods:[...h.methods,j]}):p({...h,methods:h.methods.filter(I=>I!==j)})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j})]},j))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicador"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:h.referrerReward.type,onChange:j=>p({...h,referrerReward:{...h.referrerReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),s.jsx("option",{value:"percentage",children:"Percentual (%)"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:h.referrerReward.value,onChange:j=>p({...h,referrerReward:{...h.referrerReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("input",{type:"text",value:h.referrerReward.description,onChange:j=>p({...h,referrerReward:{...h.referrerReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recompensa do Indicado"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),s.jsxs("select",{value:h.referredReward.type,onChange:j=>p({...h,referredReward:{...h.referredReward,type:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"}),s.jsx("option",{value:"percentage",children:"Percentual (%)"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:h.referredReward.value,onChange:j=>p({...h,referredReward:{...h.referredReward,value:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("input",{type:"text",value:h.referredReward.description,onChange:j=>p({...h,referredReward:{...h.referredReward,description:j.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Condições"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra Mínima (R$)"}),s.jsx("input",{type:"number",value:h.conditions.minPurchaseValue,onChange:j=>p({...h,conditions:{...h.conditions,minPurchaseValue:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validade (dias)"}),s.jsx("input",{type:"number",value:h.conditions.validityDays,onChange:j=>p({...h,conditions:{...h.conditions,validityDays:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máximo de Indicações"}),s.jsx("input",{type:"number",value:h.conditions.maxReferrals,onChange:j=>p({...h,conditions:{...h.conditions,maxReferrals:Number(j.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requiresFirstPurchase",checked:h.conditions.requiresFirstPurchase,onChange:j=>p({...h,conditions:{...h.conditions,requiresFirstPurchase:j.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requiresFirstPurchase",className:"ml-2 block text-sm text-gray-900",children:"Requer primeira compra"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:h.isActive,onChange:j=>p({...h,isActive:j.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Tipo de indicação ativo"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{u(!1),m(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:w,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d?"Atualizar":"Criar"," Tipo"]})]})]})})]})},dy=()=>{const[e,t]=R.useState("campaigns"),[r,n]=R.useState(!1),i=[{id:"1",name:"Boas-vindas Novos Clientes",type:"welcome",status:"active",sent:150,opened:120,clicked:45},{id:"2",name:"Pontos Prestes a Expirar",type:"expiration",status:"active",sent:89,opened:67,clicked:23}],a=[{id:"1",name:"Boas-vindas",channel:"email",subject:"Bem-vindo ao nosso programa de fidelidade!",preview:"Olá {nome}, seja bem-vindo ao nosso programa..."},{id:"2",name:"Pontos Expiração",channel:"whatsapp",subject:"Seus pontos vão expirar em breve",preview:"Oi {nome}! Você tem {pontos} pontos que expiram em {dias} dias..."}],l=[{id:"1",name:"Novo Cliente Cadastrado",trigger:"customer_registered",action:"send_welcome_email",status:"active"},{id:"2",name:"Pontos Próximos ao Vencimento",trigger:"points_expiring_soon",action:"send_expiration_warning",status:"active"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Comunicação"}),s.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Nova Campanha"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>t("campaigns"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="campaigns"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Campanhas"}),s.jsx("button",{onClick:()=>t("templates"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="templates"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Templates"}),s.jsx("button",{onClick:()=>t("automation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${e==="automation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Automação"})]}),e==="campaigns"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Wx,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Enviadas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"239"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(_i,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Abertas"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"187"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ci,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cliques"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"68"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(nf,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Abertura"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"78%"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Campanhas Ativas"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviadas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliques"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(c=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.type==="welcome"?"Boas-vindas":"Expiração"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="active"?"Ativa":"Inativa"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.sent}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.opened}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.clicked}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(rn,{className:"w-4 h-4"})})]})]},c.id))})]})})]})]}),e==="templates"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Templates de Mensagem"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(c=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[c.channel==="email"&&s.jsx(_i,{className:"w-4 h-4 text-blue-600"}),c.channel==="whatsapp"&&s.jsx(Ci,{className:"w-4 h-4 text-green-600"}),c.channel==="sms"&&s.jsx(cf,{className:"w-4 h-4 text-purple-600"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Ve,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Assunto:"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.subject})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.preview})]})]})]},c.id))})})]})}),e==="automation"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Régua de Comunicação"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:l.map(c=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:c.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Quando: ",c.trigger==="customer_registered"?"Cliente se cadastra":"Pontos próximos ao vencimento"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Ação: ",c.action==="send_welcome_email"?"Enviar email de boas-vindas":"Enviar aviso de expiração"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status==="active"?"Ativa":"Inativa"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(Ve,{className:"w-4 h-4"})})]})]},c.id))})})]})})]})},hy=()=>{const[e]=R.useState([{id:"1",title:"Criar a Conta (Cadastro Nível 1)",description:"Cliente realiza o cadastro básico com nome e email",icon:Si,reward:{type:"points",value:100},completed:85,total:100,status:"active"},{id:"2",title:"Cadastro Nível 2",description:"Cliente completa cadastro com telefone, endereço e WhatsApp",icon:Mo,reward:{type:"points",value:200},completed:67,total:100,status:"active"},{id:"3",title:"Cadastro Nível 3",description:"Cliente informa preferências de produtos, marcas, serviços e cor de cabelo",icon:sf,reward:{type:"points",value:300},completed:23,total:100,status:"active"},{id:"4",title:"Review de Produtos",description:"Cliente avalia produtos comprados",icon:qe,reward:{type:"points",value:50},completed:45,total:100,status:"active"},{id:"5",title:"Comprar uma Categoria de Produtos",description:"Cliente realiza compra em categoria específica",icon:Kx,reward:{type:"points",value:500},completed:12,total:100,status:"active"}]),[t,r]=R.useState(!1),[n,i]=R.useState({title:"",description:"",rewardType:"points",rewardValue:0,target:100}),a=(l,c)=>Math.round(l/c*100);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Objetivos e Metas"}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Novo Objetivo"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Ks,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Objetivos Ativos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(bi,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taxa de Conclusão"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(e.reduce((l,c)=>l+a(c.completed,c.total),0)/e.length),"%"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(qe,{className:"w-5 h-5 text-yellow-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pontos Distribuídos"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,c)=>l+c.reward.value*c.completed,0).toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Si,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"ml-5",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Participantes"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.reduce((l,c)=>l+c.completed,0)})]})]})})]}),s.jsx("div",{className:"space-y-4",children:e.map(l=>{const c=l.icon,o=a(l.completed,l.total);return s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(c,{className:"w-6 h-6 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Progresso"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[l.completed,"/",l.total," (",o,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}),s.jsxs("div",{className:"mt-3 flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(qe,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsxs("span",{children:["Recompensa: ",l.reward.value," pontos"]})]}),s.jsx("div",{className:"flex items-center text-sm",children:l.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(bi,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-green-600",children:"Ativo"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Dx,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:"text-gray-500",children:"Inativo"})]})})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s.jsx(Ks,{className:"w-4 h-4"})})})]})},l.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Jornada do Cliente"}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center justify-between",children:e.map((l,c)=>{const o=l.icon,u=a(l.completed,l.total),d=u>=80;return s.jsxs("div",{className:"flex flex-col items-center relative",children:[c<e.length-1&&s.jsx("div",{className:"absolute top-6 left-full w-full h-0.5 bg-gray-200 z-0"}),s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center z-10 ${d?"bg-green-100 border-2 border-green-500":"bg-gray-100 border-2 border-gray-300"}`,children:s.jsx(o,{className:`w-6 h-6 ${d?"text-green-600":"text-gray-400"}`})}),s.jsxs("div",{className:"mt-3 text-center max-w-24",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 leading-tight",children:l.title.split(" ").slice(0,2).join(" ")}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u,"%"]})]})]},l.id)})})})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo Objetivo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título"}),s.jsx("input",{type:"text",value:n.title,onChange:l=>i({...n,title:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("textarea",{value:n.description,onChange:l=>i({...n,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Recompensa"}),s.jsxs("select",{value:n.rewardType,onChange:l=>i({...n,rewardType:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"points",children:"Pontos"}),s.jsx("option",{value:"discount",children:"Desconto"}),s.jsx("option",{value:"gift",children:"Brinde"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",value:n.rewardValue,onChange:l=>i({...n,rewardValue:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta"}),s.jsx("input",{type:"number",value:n.target,onChange:l=>i({...n,target:Number(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:()=>{r(!1),i({title:"",description:"",rewardType:"points",rewardValue:0,target:100})},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Objetivo"})]})]})})]})},fy=()=>{const{settings:e,updateSettings:t}=st(),[r,n]=R.useState("company"),[i,a]=R.useState(e),[l,c]=R.useState(""),[o,u]=R.useState(""),d=()=>{t(i)},m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#FFD700","#CD7F32","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA"],h=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins"],p=(g,b)=>{const _=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;(_.test(b)||b==="")&&(g==="primary"?(c(b),_.test(b)&&a({...i,program:{...i.program,primaryColor:b}})):(u(b),_.test(b)&&a({...i,program:{...i.program,secondaryColor:b}})))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Personalização"}),s.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Hx,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>n("company"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="company"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Empresa"]}),s.jsxs("button",{onClick:()=>n("program"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="program"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Programa"]}),s.jsxs("button",{onClick:()=>n("validation"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="validation"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Gx,{className:"w-4 h-4 mr-2"}),"Validação"]}),s.jsxs("button",{onClick:()=>n("notifications"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="notifications"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ix,{className:"w-4 h-4 mr-2"}),"Notificações"]}),s.jsxs("button",{onClick:()=>n("terms"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center ${r==="terms"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Io,{className:"w-4 h-4 mr-2"}),"Regulamento"]})]}),r==="company"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informações da Empresa"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa"}),s.jsx("input",{type:"text",value:i.company.name,onChange:g=>a({...i,company:{...i.company,name:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"url",value:i.company.website,onChange:g=>a({...i,company:{...i.company,website:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),s.jsx("textarea",{value:i.company.address,onChange:g=>a({...i,company:{...i.company,address:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Empresa"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(of,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[s.jsx("span",{children:"Upload um arquivo"}),s.jsx("input",{type:"file",className:"sr-only",accept:"image/*"})]}),s.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF até 10MB"})]})})]})]})]}),r==="program"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações do Programa"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Programa"}),s.jsx("input",{type:"text",value:i.program.name,onChange:g=>a({...i,program:{...i.program,name:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos por Real (R$)"}),s.jsx("input",{type:"number",value:i.program.pointsPerReal,onChange:g=>a({...i,program:{...i.program,pointsPerReal:Number(g.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Mínimo de Compra (R$)"}),s.jsx("input",{type:"number",value:i.program.minPurchaseValue,onChange:g=>a({...i,program:{...i.program,minPurchaseValue:Number(g.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte"}),s.jsx("select",{value:i.program.font,onChange:g=>a({...i,program:{...i.program,font:g.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:h.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Primária"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>s.jsx("button",{onClick:()=>a({...i,program:{...i.program,primaryColor:g}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${i.program.primaryColor===g?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:g},title:g},g))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um código HEX personalizado:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),s.jsx("input",{type:"text",value:l.replace("#",""),onChange:g=>p("primary","#"+g.target.value),placeholder:"3B82F6",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:i.program.primaryColor}}),s.jsx("span",{className:"text-sm text-gray-600 font-mono",children:i.program.primaryColor})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Secundária"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione uma cor da paleta:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>s.jsx("button",{onClick:()=>a({...i,program:{...i.program,secondaryColor:g}}),className:`w-10 h-10 rounded-lg border-2 transition-all hover:scale-110 ${i.program.secondaryColor===g?"border-gray-800 shadow-lg":"border-gray-300"}`,style:{backgroundColor:g},title:g},g))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ou digite um código HEX personalizado:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"#"}),s.jsx("input",{type:"text",value:o.replace("#",""),onChange:g=>p("secondary","#"+g.target.value),placeholder:"10B981",maxLength:6,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm font-mono"})]}),s.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300",style:{backgroundColor:i.program.secondaryColor}}),s.jsx("span",{className:"text-sm text-gray-600 font-mono",children:i.program.secondaryColor})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Preview das Cores"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:i.program.primaryColor},children:"Cor Primária"}),s.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:i.program.primaryColor})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{backgroundColor:i.program.secondaryColor},children:"Cor Secundária"}),s.jsx("p",{className:"text-xs text-center mt-1 font-mono",children:i.program.secondaryColor})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-16 rounded-lg flex items-center justify-center text-white font-medium",style:{background:`linear-gradient(45deg, ${i.program.primaryColor}, ${i.program.secondaryColor})`},children:"Gradiente"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Combinação"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Expiração de Pontos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"pointsExpiration",checked:i.program.pointsExpiration.enabled,onChange:g=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,enabled:g.target.checked}}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"pointsExpiration",className:"ml-2 block text-sm text-gray-900",children:"Ativar expiração de pontos"})]}),i.program.pointsExpiration.enabled&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período de Expiração (dias)"}),s.jsx("input",{type:"number",value:i.program.pointsExpiration.days,onChange:g=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,days:Number(g.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notificar antes (dias)"}),s.jsx("input",{type:"number",value:i.program.pointsExpiration.notifyDaysBefore,onChange:g=>a({...i,program:{...i.program,pointsExpiration:{...i.program.pointsExpiration,notifyDaysBefore:Number(g.target.value)}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r==="validation"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Validação"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sistema de Chaves"}),s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Chave Primária:"})," CPF - Identificador único obrigatório",s.jsx("br",{}),s.jsx("strong",{children:"Chaves Secundárias:"})," Email e Telefone - Para comunicação e indicações"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Validação de CPF"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Verificar se o CPF é válido matematicamente"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requireCpfValidation,onChange:g=>a({...i,validation:{...i.validation,requireCpfValidation:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificação de Email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificação por email antes de ativar conta"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requireEmailVerification,onChange:g=>a({...i,validation:{...i.validation,requireEmailVerification:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Verificação de Telefone"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Exigir verificação por SMS antes de ativar conta"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.requirePhoneVerification,onChange:g=>a({...i,validation:{...i.validation,requirePhoneVerification:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Email Duplicado"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo email seja usado por CPFs diferentes"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.allowDuplicateEmail,onChange:g=>a({...i,validation:{...i.validation,allowDuplicateEmail:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Permitir Telefone Duplicado"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que o mesmo telefone seja usado por CPFs diferentes"})]}),s.jsx("input",{type:"checkbox",checked:i.validation.allowDuplicatePhone,onChange:g=>a({...i,validation:{...i.validation,allowDuplicatePhone:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Importante"}),s.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:"• O CPF sempre será único no sistema (chave primária)"}),s.jsx("li",{children:"• Email e telefone podem ser usados para indicações mesmo se duplicados"}),s.jsx("li",{children:"• Recomendamos manter email único para melhor experiência do usuário"}),s.jsx("li",{children:"• Telefone duplicado é comum em famílias que compartilham números"})]})]})]})]}),r==="notifications"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Notificação"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificações por email"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:g=>a({...i,notifications:{...i.notifications,email:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificações por WhatsApp"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.whatsapp,onChange:g=>a({...i,notifications:{...i.notifications,whatsapp:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SMS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificações por SMS"})]}),s.jsx("input",{type:"checkbox",checked:i.notifications.sms,onChange:g=>a({...i,notifications:{...i.notifications,sms:g.target.checked}}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),r==="terms"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Regulamento do Programa"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Termos e Condições"}),s.jsx("textarea",{value:i.terms,onChange:g=>a({...i,terms:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:15,placeholder:"Digite aqui os termos e condições do seu programa de fidelidade..."})]})]})]})},my=()=>{const{loading:e,error:t}=st();return t?s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-xl font-semibold mb-2",children:"Erro ao carregar dados"}),s.jsx("div",{className:"text-gray-600 text-sm",children:t}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tentar Novamente"})]})}):e?s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Fx,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Carregando dados..."}),s.jsx("div",{className:"text-gray-500 text-sm mt-2",children:"Conectando ao banco de dados"})]})}):null};function py(){const[e,t]=R.useState("dashboard"),r=()=>{switch(e){case"dashboard":return s.jsx(gu,{});case"customers":return s.jsx(ny,{});case"branches":return s.jsx(sy,{});case"levels":return s.jsx(iy,{});case"movements":return s.jsx(oy,{});case"rewards":return s.jsx(cy,{});case"referrals":return s.jsx(uy,{});case"communication":return s.jsx(dy,{});case"objectives":return s.jsx(hy,{});case"settings":return s.jsx(fy,{});default:return s.jsx(gu,{})}};return s.jsx(Rx,{children:s.jsxs(Xx,{currentPage:e,onPageChange:t,children:[s.jsx(my,{}),r()]})})}Th(document.getElementById("root")).render(s.jsx(R.StrictMode,{children:s.jsx(py,{})}));
